/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
(function (e, t) {
    function _(e) { var t = M[e] = {}; return v.each(e.split(y), function (e, n) { t[n] = !0 }), t } function H(e, n, r) { if (r === t && e.nodeType === 1) { var i = "data-" + n.replace(P, "-$1").toLowerCase(); r = e.getAttribute(i); if (typeof r == "string") { try { r = r === "true" ? !0 : r === "false" ? !1 : r === "null" ? null : +r + "" === r ? +r : D.test(r) ? v.parseJSON(r) : r } catch (s) { } v.data(e, n, r) } else r = t } return r } function B(e) { var t; for (t in e) { if (t === "data" && v.isEmptyObject(e[t])) continue; if (t !== "toJSON") return !1 } return !0 } function et() { return !1 } function tt() { return !0 } function ut(e) { return !e || !e.parentNode || e.parentNode.nodeType === 11 } function at(e, t) { do e = e[t]; while (e && e.nodeType !== 1); return e } function ft(e, t, n) { t = t || 0; if (v.isFunction(t)) return v.grep(e, function (e, r) { var i = !!t.call(e, r, e); return i === n }); if (t.nodeType) return v.grep(e, function (e, r) { return e === t === n }); if (typeof t == "string") { var r = v.grep(e, function (e) { return e.nodeType === 1 }); if (it.test(t)) return v.filter(t, r, !n); t = v.filter(t, r) } return v.grep(e, function (e, r) { return v.inArray(e, t) >= 0 === n }) } function lt(e) { var t = ct.split("|"), n = e.createDocumentFragment(); if (n.createElement) while (t.length) n.createElement(t.pop()); return n } function Lt(e, t) { return e.getElementsByTagName(t)[0] || e.appendChild(e.ownerDocument.createElement(t)) } function At(e, t) { if (t.nodeType !== 1 || !v.hasData(e)) return; var n, r, i, s = v._data(e), o = v._data(t, s), u = s.events; if (u) { delete o.handle, o.events = {}; for (n in u) for (r = 0, i = u[n].length; r < i; r++)v.event.add(t, n, u[n][r]) } o.data && (o.data = v.extend({}, o.data)) } function Ot(e, t) { var n; if (t.nodeType !== 1) return; t.clearAttributes && t.clearAttributes(), t.mergeAttributes && t.mergeAttributes(e), n = t.nodeName.toLowerCase(), n === "object" ? (t.parentNode && (t.outerHTML = e.outerHTML), v.support.html5Clone && e.innerHTML && !v.trim(t.innerHTML) && (t.innerHTML = e.innerHTML)) : n === "input" && Et.test(e.type) ? (t.defaultChecked = t.checked = e.checked, t.value !== e.value && (t.value = e.value)) : n === "option" ? t.selected = e.defaultSelected : n === "input" || n === "textarea" ? t.defaultValue = e.defaultValue : n === "script" && t.text !== e.text && (t.text = e.text), t.removeAttribute(v.expando) } function Mt(e) { return typeof e.getElementsByTagName != "undefined" ? e.getElementsByTagName("*") : typeof e.querySelectorAll != "undefined" ? e.querySelectorAll("*") : [] } function _t(e) { Et.test(e.type) && (e.defaultChecked = e.checked) } function Qt(e, t) { if (t in e) return t; var n = t.charAt(0).toUpperCase() + t.slice(1), r = t, i = Jt.length; while (i--) { t = Jt[i] + n; if (t in e) return t } return r } function Gt(e, t) { return e = t || e, v.css(e, "display") === "none" || !v.contains(e.ownerDocument, e) } function Yt(e, t) { var n, r, i = [], s = 0, o = e.length; for (; s < o; s++) { n = e[s]; if (!n.style) continue; i[s] = v._data(n, "olddisplay"), t ? (!i[s] && n.style.display === "none" && (n.style.display = ""), n.style.display === "" && Gt(n) && (i[s] = v._data(n, "olddisplay", nn(n.nodeName)))) : (r = Dt(n, "display"), !i[s] && r !== "none" && v._data(n, "olddisplay", r)) } for (s = 0; s < o; s++) { n = e[s]; if (!n.style) continue; if (!t || n.style.display === "none" || n.style.display === "") n.style.display = t ? i[s] || "" : "none" } return e } function Zt(e, t, n) { var r = Rt.exec(t); return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t } function en(e, t, n, r) { var i = n === (r ? "border" : "content") ? 4 : t === "width" ? 1 : 0, s = 0; for (; i < 4; i += 2)n === "margin" && (s += v.css(e, n + $t[i], !0)), r ? (n === "content" && (s -= parseFloat(Dt(e, "padding" + $t[i])) || 0), n !== "margin" && (s -= parseFloat(Dt(e, "border" + $t[i] + "Width")) || 0)) : (s += parseFloat(Dt(e, "padding" + $t[i])) || 0, n !== "padding" && (s += parseFloat(Dt(e, "border" + $t[i] + "Width")) || 0)); return s } function tn(e, t, n) { var r = t === "width" ? e.offsetWidth : e.offsetHeight, i = !0, s = v.support.boxSizing && v.css(e, "boxSizing") === "border-box"; if (r <= 0 || r == null) { r = Dt(e, t); if (r < 0 || r == null) r = e.style[t]; if (Ut.test(r)) return r; i = s && (v.support.boxSizingReliable || r === e.style[t]), r = parseFloat(r) || 0 } return r + en(e, t, n || (s ? "border" : "content"), i) + "px" } function nn(e) { if (Wt[e]) return Wt[e]; var t = v("<" + e + ">").appendTo(i.body), n = t.css("display"); t.remove(); if (n === "none" || n === "") { Pt = i.body.appendChild(Pt || v.extend(i.createElement("iframe"), { frameBorder: 0, width: 0, height: 0 })); if (!Ht || !Pt.createElement) Ht = (Pt.contentWindow || Pt.contentDocument).document, Ht.write("<!doctype html><html><body>"), Ht.close(); t = Ht.body.appendChild(Ht.createElement(e)), n = Dt(t, "display"), i.body.removeChild(Pt) } return Wt[e] = n, n } function fn(e, t, n, r) { var i; if (v.isArray(t)) v.each(t, function (t, i) { n || sn.test(e) ? r(e, i) : fn(e + "[" + (typeof i == "object" ? t : "") + "]", i, n, r) }); else if (!n && v.type(t) === "object") for (i in t) fn(e + "[" + i + "]", t[i], n, r); else r(e, t) } function Cn(e) { return function (t, n) { typeof t != "string" && (n = t, t = "*"); var r, i, s, o = t.toLowerCase().split(y), u = 0, a = o.length; if (v.isFunction(n)) for (; u < a; u++)r = o[u], s = /^\+/.test(r), s && (r = r.substr(1) || "*"), i = e[r] = e[r] || [], i[s ? "unshift" : "push"](n) } } function kn(e, n, r, i, s, o) { s = s || n.dataTypes[0], o = o || {}, o[s] = !0; var u, a = e[s], f = 0, l = a ? a.length : 0, c = e === Sn; for (; f < l && (c || !u); f++)u = a[f](n, r, i), typeof u == "string" && (!c || o[u] ? u = t : (n.dataTypes.unshift(u), u = kn(e, n, r, i, u, o))); return (c || !u) && !o["*"] && (u = kn(e, n, r, i, "*", o)), u } function Ln(e, n) { var r, i, s = v.ajaxSettings.flatOptions || {}; for (r in n) n[r] !== t && ((s[r] ? e : i || (i = {}))[r] = n[r]); i && v.extend(!0, e, i) } function An(e, n, r) { var i, s, o, u, a = e.contents, f = e.dataTypes, l = e.responseFields; for (s in l) s in r && (n[l[s]] = r[s]); while (f[0] === "*") f.shift(), i === t && (i = e.mimeType || n.getResponseHeader("content-type")); if (i) for (s in a) if (a[s] && a[s].test(i)) { f.unshift(s); break } if (f[0] in r) o = f[0]; else { for (s in r) { if (!f[0] || e.converters[s + " " + f[0]]) { o = s; break } u || (u = s) } o = o || u } if (o) return o !== f[0] && f.unshift(o), r[o] } function On(e, t) { var n, r, i, s, o = e.dataTypes.slice(), u = o[0], a = {}, f = 0; e.dataFilter && (t = e.dataFilter(t, e.dataType)); if (o[1]) for (n in e.converters) a[n.toLowerCase()] = e.converters[n]; for (; i = o[++f];)if (i !== "*") { if (u !== "*" && u !== i) { n = a[u + " " + i] || a["* " + i]; if (!n) for (r in a) { s = r.split(" "); if (s[1] === i) { n = a[u + " " + s[0]] || a["* " + s[0]]; if (n) { n === !0 ? n = a[r] : a[r] !== !0 && (i = s[0], o.splice(f--, 0, i)); break } } } if (n !== !0) if (n && e["throws"]) t = n(t); else try { t = n(t) } catch (l) { return { state: "parsererror", error: n ? l : "No conversion from " + u + " to " + i } } } u = i } return { state: "success", data: t } } function Fn() { try { return new e.XMLHttpRequest } catch (t) { } } function In() { try { return new e.ActiveXObject("Microsoft.XMLHTTP") } catch (t) { } } function $n() { return setTimeout(function () { qn = t }, 0), qn = v.now() } function Jn(e, t) { v.each(t, function (t, n) { var r = (Vn[t] || []).concat(Vn["*"]), i = 0, s = r.length; for (; i < s; i++)if (r[i].call(e, t, n)) return }) } function Kn(e, t, n) { var r, i = 0, s = 0, o = Xn.length, u = v.Deferred().always(function () { delete a.elem }), a = function () { var t = qn || $n(), n = Math.max(0, f.startTime + f.duration - t), r = n / f.duration || 0, i = 1 - r, s = 0, o = f.tweens.length; for (; s < o; s++)f.tweens[s].run(i); return u.notifyWith(e, [f, i, n]), i < 1 && o ? n : (u.resolveWith(e, [f]), !1) }, f = u.promise({ elem: e, props: v.extend({}, t), opts: v.extend(!0, { specialEasing: {} }, n), originalProperties: t, originalOptions: n, startTime: qn || $n(), duration: n.duration, tweens: [], createTween: function (t, n, r) { var i = v.Tween(e, f.opts, t, n, f.opts.specialEasing[t] || f.opts.easing); return f.tweens.push(i), i }, stop: function (t) { var n = 0, r = t ? f.tweens.length : 0; for (; n < r; n++)f.tweens[n].run(1); return t ? u.resolveWith(e, [f, t]) : u.rejectWith(e, [f, t]), this } }), l = f.props; Qn(l, f.opts.specialEasing); for (; i < o; i++) { r = Xn[i].call(f, e, l, f.opts); if (r) return r } return Jn(f, l), v.isFunction(f.opts.start) && f.opts.start.call(e, f), v.fx.timer(v.extend(a, { anim: f, queue: f.opts.queue, elem: e })), f.progress(f.opts.progress).done(f.opts.done, f.opts.complete).fail(f.opts.fail).always(f.opts.always) } function Qn(e, t) { var n, r, i, s, o; for (n in e) { r = v.camelCase(n), i = t[r], s = e[n], v.isArray(s) && (i = s[1], s = e[n] = s[0]), n !== r && (e[r] = s, delete e[n]), o = v.cssHooks[r]; if (o && "expand" in o) { s = o.expand(s), delete e[r]; for (n in s) n in e || (e[n] = s[n], t[n] = i) } else t[r] = i } } function Gn(e, t, n) { var r, i, s, o, u, a, f, l, c, h = this, p = e.style, d = {}, m = [], g = e.nodeType && Gt(e); n.queue || (l = v._queueHooks(e, "fx"), l.unqueued == null && (l.unqueued = 0, c = l.empty.fire, l.empty.fire = function () { l.unqueued || c() }), l.unqueued++, h.always(function () { h.always(function () { l.unqueued--, v.queue(e, "fx").length || l.empty.fire() }) })), e.nodeType === 1 && ("height" in t || "width" in t) && (n.overflow = [p.overflow, p.overflowX, p.overflowY], v.css(e, "display") === "inline" && v.css(e, "float") === "none" && (!v.support.inlineBlockNeedsLayout || nn(e.nodeName) === "inline" ? p.display = "inline-block" : p.zoom = 1)), n.overflow && (p.overflow = "hidden", v.support.shrinkWrapBlocks || h.done(function () { p.overflow = n.overflow[0], p.overflowX = n.overflow[1], p.overflowY = n.overflow[2] })); for (r in t) { s = t[r]; if (Un.exec(s)) { delete t[r], a = a || s === "toggle"; if (s === (g ? "hide" : "show")) continue; m.push(r) } } o = m.length; if (o) { u = v._data(e, "fxshow") || v._data(e, "fxshow", {}), "hidden" in u && (g = u.hidden), a && (u.hidden = !g), g ? v(e).show() : h.done(function () { v(e).hide() }), h.done(function () { var t; v.removeData(e, "fxshow", !0); for (t in d) v.style(e, t, d[t]) }); for (r = 0; r < o; r++)i = m[r], f = h.createTween(i, g ? u[i] : 0), d[i] = u[i] || v.style(e, i), i in u || (u[i] = f.start, g && (f.end = f.start, f.start = i === "width" || i === "height" ? 1 : 0)) } } function Yn(e, t, n, r, i) { return new Yn.prototype.init(e, t, n, r, i) } function Zn(e, t) { var n, r = { height: e }, i = 0; t = t ? 1 : 0; for (; i < 4; i += 2 - t)n = $t[i], r["margin" + n] = r["padding" + n] = e; return t && (r.opacity = r.width = e), r } function tr(e) { return v.isWindow(e) ? e : e.nodeType === 9 ? e.defaultView || e.parentWindow : !1 } var n, r, i = e.document, s = e.location, o = e.navigator, u = e.jQuery, a = e.$, f = Array.prototype.push, l = Array.prototype.slice, c = Array.prototype.indexOf, h = Object.prototype.toString, p = Object.prototype.hasOwnProperty, d = String.prototype.trim, v = function (e, t) { return new v.fn.init(e, t, n) }, m = /[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source, g = /\S/, y = /\s+/, b = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, w = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/, E = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, S = /^[\],:{}\s]*$/, x = /(?:^|:|,)(?:\s*\[)+/g, T = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g, N = /"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g, C = /^-ms-/, k = /-([\da-z])/gi, L = function (e, t) { return (t + "").toUpperCase() }, A = function () { i.addEventListener ? (i.removeEventListener("DOMContentLoaded", A, !1), v.ready()) : i.readyState === "complete" && (i.detachEvent("onreadystatechange", A), v.ready()) }, O = {}; v.fn = v.prototype = { constructor: v, init: function (e, n, r) { var s, o, u, a; if (!e) return this; if (e.nodeType) return this.context = this[0] = e, this.length = 1, this; if (typeof e == "string") { e.charAt(0) === "<" && e.charAt(e.length - 1) === ">" && e.length >= 3 ? s = [null, e, null] : s = w.exec(e); if (s && (s[1] || !n)) { if (s[1]) return n = n instanceof v ? n[0] : n, a = n && n.nodeType ? n.ownerDocument || n : i, e = v.parseHTML(s[1], a, !0), E.test(s[1]) && v.isPlainObject(n) && this.attr.call(e, n, !0), v.merge(this, e); o = i.getElementById(s[2]); if (o && o.parentNode) { if (o.id !== s[2]) return r.find(e); this.length = 1, this[0] = o } return this.context = i, this.selector = e, this } return !n || n.jquery ? (n || r).find(e) : this.constructor(n).find(e) } return v.isFunction(e) ? r.ready(e) : (e.selector !== t && (this.selector = e.selector, this.context = e.context), v.makeArray(e, this)) }, selector: "", jquery: "1.8.3", length: 0, size: function () { return this.length }, toArray: function () { return l.call(this) }, get: function (e) { return e == null ? this.toArray() : e < 0 ? this[this.length + e] : this[e] }, pushStack: function (e, t, n) { var r = v.merge(this.constructor(), e); return r.prevObject = this, r.context = this.context, t === "find" ? r.selector = this.selector + (this.selector ? " " : "") + n : t && (r.selector = this.selector + "." + t + "(" + n + ")"), r }, each: function (e, t) { return v.each(this, e, t) }, ready: function (e) { return v.ready.promise().done(e), this }, eq: function (e) { return e = +e, e === -1 ? this.slice(e) : this.slice(e, e + 1) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, slice: function () { return this.pushStack(l.apply(this, arguments), "slice", l.call(arguments).join(",")) }, map: function (e) { return this.pushStack(v.map(this, function (t, n) { return e.call(t, n, t) })) }, end: function () { return this.prevObject || this.constructor(null) }, push: f, sort: [].sort, splice: [].splice }, v.fn.init.prototype = v.fn, v.extend = v.fn.extend = function () { var e, n, r, i, s, o, u = arguments[0] || {}, a = 1, f = arguments.length, l = !1; typeof u == "boolean" && (l = u, u = arguments[1] || {}, a = 2), typeof u != "object" && !v.isFunction(u) && (u = {}), f === a && (u = this, --a); for (; a < f; a++)if ((e = arguments[a]) != null) for (n in e) { r = u[n], i = e[n]; if (u === i) continue; l && i && (v.isPlainObject(i) || (s = v.isArray(i))) ? (s ? (s = !1, o = r && v.isArray(r) ? r : []) : o = r && v.isPlainObject(r) ? r : {}, u[n] = v.extend(l, o, i)) : i !== t && (u[n] = i) } return u }, v.extend({ noConflict: function (t) { return e.$ === v && (e.$ = a), t && e.jQuery === v && (e.jQuery = u), v }, isReady: !1, readyWait: 1, holdReady: function (e) { e ? v.readyWait++ : v.ready(!0) }, ready: function (e) { if (e === !0 ? --v.readyWait : v.isReady) return; if (!i.body) return setTimeout(v.ready, 1); v.isReady = !0; if (e !== !0 && --v.readyWait > 0) return; r.resolveWith(i, [v]), v.fn.trigger && v(i).trigger("ready").off("ready") }, isFunction: function (e) { return v.type(e) === "function" }, isArray: Array.isArray || function (e) { return v.type(e) === "array" }, isWindow: function (e) { return e != null && e == e.window }, isNumeric: function (e) { return !isNaN(parseFloat(e)) && isFinite(e) }, type: function (e) { return e == null ? String(e) : O[h.call(e)] || "object" }, isPlainObject: function (e) { if (!e || v.type(e) !== "object" || e.nodeType || v.isWindow(e)) return !1; try { if (e.constructor && !p.call(e, "constructor") && !p.call(e.constructor.prototype, "isPrototypeOf")) return !1 } catch (n) { return !1 } var r; for (r in e); return r === t || p.call(e, r) }, isEmptyObject: function (e) { var t; for (t in e) return !1; return !0 }, error: function (e) { throw new Error(e) }, parseHTML: function (e, t, n) { var r; return !e || typeof e != "string" ? null : (typeof t == "boolean" && (n = t, t = 0), t = t || i, (r = E.exec(e)) ? [t.createElement(r[1])] : (r = v.buildFragment([e], t, n ? null : []), v.merge([], (r.cacheable ? v.clone(r.fragment) : r.fragment).childNodes))) }, parseJSON: function (t) { if (!t || typeof t != "string") return null; t = v.trim(t); if (e.JSON && e.JSON.parse) return e.JSON.parse(t); if (S.test(t.replace(T, "@").replace(N, "]").replace(x, ""))) return (new Function("return " + t))(); v.error("Invalid JSON: " + t) }, parseXML: function (n) { var r, i; if (!n || typeof n != "string") return null; try { e.DOMParser ? (i = new DOMParser, r = i.parseFromString(n, "text/xml")) : (r = new ActiveXObject("Microsoft.XMLDOM"), r.async = "false", r.loadXML(n)) } catch (s) { r = t } return (!r || !r.documentElement || r.getElementsByTagName("parsererror").length) && v.error("Invalid XML: " + n), r }, noop: function () { }, globalEval: function (t) { t && g.test(t) && (e.execScript || function (t) { e.eval.call(e, t) })(t) }, camelCase: function (e) { return e.replace(C, "ms-").replace(k, L) }, nodeName: function (e, t) { return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase() }, each: function (e, n, r) { var i, s = 0, o = e.length, u = o === t || v.isFunction(e); if (r) { if (u) { for (i in e) if (n.apply(e[i], r) === !1) break } else for (; s < o;)if (n.apply(e[s++], r) === !1) break } else if (u) { for (i in e) if (n.call(e[i], i, e[i]) === !1) break } else for (; s < o;)if (n.call(e[s], s, e[s++]) === !1) break; return e }, trim: d && !d.call("ï»¿Â ") ? function (e) { return e == null ? "" : d.call(e) } : function (e) { return e == null ? "" : (e + "").replace(b, "") }, makeArray: function (e, t) { var n, r = t || []; return e != null && (n = v.type(e), e.length == null || n === "string" || n === "function" || n === "regexp" || v.isWindow(e) ? f.call(r, e) : v.merge(r, e)), r }, inArray: function (e, t, n) { var r; if (t) { if (c) return c.call(t, e, n); r = t.length, n = n ? n < 0 ? Math.max(0, r + n) : n : 0; for (; n < r; n++)if (n in t && t[n] === e) return n } return -1 }, merge: function (e, n) { var r = n.length, i = e.length, s = 0; if (typeof r == "number") for (; s < r; s++)e[i++] = n[s]; else while (n[s] !== t) e[i++] = n[s++]; return e.length = i, e }, grep: function (e, t, n) { var r, i = [], s = 0, o = e.length; n = !!n; for (; s < o; s++)r = !!t(e[s], s), n !== r && i.push(e[s]); return i }, map: function (e, n, r) { var i, s, o = [], u = 0, a = e.length, f = e instanceof v || a !== t && typeof a == "number" && (a > 0 && e[0] && e[a - 1] || a === 0 || v.isArray(e)); if (f) for (; u < a; u++)i = n(e[u], u, r), i != null && (o[o.length] = i); else for (s in e) i = n(e[s], s, r), i != null && (o[o.length] = i); return o.concat.apply([], o) }, guid: 1, proxy: function (e, n) { var r, i, s; return typeof n == "string" && (r = e[n], n = e, e = r), v.isFunction(e) ? (i = l.call(arguments, 2), s = function () { return e.apply(n, i.concat(l.call(arguments))) }, s.guid = e.guid = e.guid || v.guid++, s) : t }, access: function (e, n, r, i, s, o, u) { var a, f = r == null, l = 0, c = e.length; if (r && typeof r == "object") { for (l in r) v.access(e, n, l, r[l], 1, o, i); s = 1 } else if (i !== t) { a = u === t && v.isFunction(i), f && (a ? (a = n, n = function (e, t, n) { return a.call(v(e), n) }) : (n.call(e, i), n = null)); if (n) for (; l < c; l++)n(e[l], r, a ? i.call(e[l], l, n(e[l], r)) : i, u); s = 1 } return s ? e : f ? n.call(e) : c ? n(e[0], r) : o }, now: function () { return (new Date).getTime() } }), v.ready.promise = function (t) { if (!r) { r = v.Deferred(); if (i.readyState === "complete") setTimeout(v.ready, 1); else if (i.addEventListener) i.addEventListener("DOMContentLoaded", A, !1), e.addEventListener("load", v.ready, !1); else { i.attachEvent("onreadystatechange", A), e.attachEvent("onload", v.ready); var n = !1; try { n = e.frameElement == null && i.documentElement } catch (s) { } n && n.doScroll && function o() { if (!v.isReady) { try { n.doScroll("left") } catch (e) { return setTimeout(o, 50) } v.ready() } }() } } return r.promise(t) }, v.each("Boolean Number String Function Array Date RegExp Object".split(" "), function (e, t) { O["[object " + t + "]"] = t.toLowerCase() }), n = v(i); var M = {}; v.Callbacks = function (e) { e = typeof e == "string" ? M[e] || _(e) : v.extend({}, e); var n, r, i, s, o, u, a = [], f = !e.once && [], l = function (t) { n = e.memory && t, r = !0, u = s || 0, s = 0, o = a.length, i = !0; for (; a && u < o; u++)if (a[u].apply(t[0], t[1]) === !1 && e.stopOnFalse) { n = !1; break } i = !1, a && (f ? f.length && l(f.shift()) : n ? a = [] : c.disable()) }, c = { add: function () { if (a) { var t = a.length; (function r(t) { v.each(t, function (t, n) { var i = v.type(n); i === "function" ? (!e.unique || !c.has(n)) && a.push(n) : n && n.length && i !== "string" && r(n) }) })(arguments), i ? o = a.length : n && (s = t, l(n)) } return this }, remove: function () { return a && v.each(arguments, function (e, t) { var n; while ((n = v.inArray(t, a, n)) > -1) a.splice(n, 1), i && (n <= o && o--, n <= u && u--) }), this }, has: function (e) { return v.inArray(e, a) > -1 }, empty: function () { return a = [], this }, disable: function () { return a = f = n = t, this }, disabled: function () { return !a }, lock: function () { return f = t, n || c.disable(), this }, locked: function () { return !f }, fireWith: function (e, t) { return t = t || [], t = [e, t.slice ? t.slice() : t], a && (!r || f) && (i ? f.push(t) : l(t)), this }, fire: function () { return c.fireWith(this, arguments), this }, fired: function () { return !!r } }; return c }, v.extend({ Deferred: function (e) { var t = [["resolve", "done", v.Callbacks("once memory"), "resolved"], ["reject", "fail", v.Callbacks("once memory"), "rejected"], ["notify", "progress", v.Callbacks("memory")]], n = "pending", r = { state: function () { return n }, always: function () { return i.done(arguments).fail(arguments), this }, then: function () { var e = arguments; return v.Deferred(function (n) { v.each(t, function (t, r) { var s = r[0], o = e[t]; i[r[1]](v.isFunction(o) ? function () { var e = o.apply(this, arguments); e && v.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[s + "With"](this === i ? n : this, [e]) } : n[s]) }), e = null }).promise() }, promise: function (e) { return e != null ? v.extend(e, r) : r } }, i = {}; return r.pipe = r.then, v.each(t, function (e, s) { var o = s[2], u = s[3]; r[s[1]] = o.add, u && o.add(function () { n = u }, t[e ^ 1][2].disable, t[2][2].lock), i[s[0]] = o.fire, i[s[0] + "With"] = o.fireWith }), r.promise(i), e && e.call(i, i), i }, when: function (e) { var t = 0, n = l.call(arguments), r = n.length, i = r !== 1 || e && v.isFunction(e.promise) ? r : 0, s = i === 1 ? e : v.Deferred(), o = function (e, t, n) { return function (r) { t[e] = this, n[e] = arguments.length > 1 ? l.call(arguments) : r, n === u ? s.notifyWith(t, n) : --i || s.resolveWith(t, n) } }, u, a, f; if (r > 1) { u = new Array(r), a = new Array(r), f = new Array(r); for (; t < r; t++)n[t] && v.isFunction(n[t].promise) ? n[t].promise().done(o(t, f, n)).fail(s.reject).progress(o(t, a, u)) : --i } return i || s.resolveWith(f, n), s.promise() } }), v.support = function () { var t, n, r, s, o, u, a, f, l, c, h, p = i.createElement("div"); p.setAttribute("className", "t"), p.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", n = p.getElementsByTagName("*"), r = p.getElementsByTagName("a")[0]; if (!n || !r || !n.length) return {}; s = i.createElement("select"), o = s.appendChild(i.createElement("option")), u = p.getElementsByTagName("input")[0], r.style.cssText = "top:1px;float:left;opacity:.5", t = { leadingWhitespace: p.firstChild.nodeType === 3, tbody: !p.getElementsByTagName("tbody").length, htmlSerialize: !!p.getElementsByTagName("link").length, style: /top/.test(r.getAttribute("style")), hrefNormalized: r.getAttribute("href") === "/a", opacity: /^0.5/.test(r.style.opacity), cssFloat: !!r.style.cssFloat, checkOn: u.value === "on", optSelected: o.selected, getSetAttribute: p.className !== "t", enctype: !!i.createElement("form").enctype, html5Clone: i.createElement("nav").cloneNode(!0).outerHTML !== "<:nav></:nav>", boxModel: i.compatMode === "CSS1Compat", submitBubbles: !0, changeBubbles: !0, focusinBubbles: !1, deleteExpando: !0, noCloneEvent: !0, inlineBlockNeedsLayout: !1, shrinkWrapBlocks: !1, reliableMarginRight: !0, boxSizingReliable: !0, pixelPosition: !1 }, u.checked = !0, t.noCloneChecked = u.cloneNode(!0).checked, s.disabled = !0, t.optDisabled = !o.disabled; try { delete p.test } catch (d) { t.deleteExpando = !1 } !p.addEventListener && p.attachEvent && p.fireEvent && (p.attachEvent("onclick", h = function () { t.noCloneEvent = !1 }), p.cloneNode(!0).fireEvent("onclick"), p.detachEvent("onclick", h)), u = i.createElement("input"), u.value = "t", u.setAttribute("type", "radio"), t.radioValue = u.value === "t", u.setAttribute("checked", "checked"), u.setAttribute("name", "t"), p.appendChild(u), a = i.createDocumentFragment(), a.appendChild(p.lastChild), t.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked, t.appendChecked = u.checked, a.removeChild(u), a.appendChild(p); if (p.attachEvent) for (l in { submit: !0, change: !0, focusin: !0 }) f = "on" + l, c = f in p, c || (p.setAttribute(f, "return;"), c = typeof p[f] == "function"), t[l + "Bubbles"] = c; return v(function () { var n, r, s, o, u = "padding:0;margin:0;border:0;display:block;overflow:hidden;", a = i.getElementsByTagName("body")[0]; if (!a) return; n = i.createElement("div"), n.style.cssText = "visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px", a.insertBefore(n, a.firstChild), r = i.createElement("div"), n.appendChild(r), r.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", s = r.getElementsByTagName("td"), s[0].style.cssText = "padding:0;margin:0;border:0;display:none", c = s[0].offsetHeight === 0, s[0].style.display = "", s[1].style.display = "none", t.reliableHiddenOffsets = c && s[0].offsetHeight === 0, r.innerHTML = "", r.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;", t.boxSizing = r.offsetWidth === 4, t.doesNotIncludeMarginInBodyOffset = a.offsetTop !== 1, e.getComputedStyle && (t.pixelPosition = (e.getComputedStyle(r, null) || {}).top !== "1%", t.boxSizingReliable = (e.getComputedStyle(r, null) || { width: "4px" }).width === "4px", o = i.createElement("div"), o.style.cssText = r.style.cssText = u, o.style.marginRight = o.style.width = "0", r.style.width = "1px", r.appendChild(o), t.reliableMarginRight = !parseFloat((e.getComputedStyle(o, null) || {}).marginRight)), typeof r.style.zoom != "undefined" && (r.innerHTML = "", r.style.cssText = u + "width:1px;padding:1px;display:inline;zoom:1", t.inlineBlockNeedsLayout = r.offsetWidth === 3, r.style.display = "block", r.style.overflow = "visible", r.innerHTML = "<div></div>", r.firstChild.style.width = "5px", t.shrinkWrapBlocks = r.offsetWidth !== 3, n.style.zoom = 1), a.removeChild(n), n = r = s = o = null }), a.removeChild(p), n = r = s = o = u = a = p = null, t }(); var D = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/, P = /([A-Z])/g; v.extend({ cache: {}, deletedIds: [], uuid: 0, expando: "jQuery" + (v.fn.jquery + Math.random()).replace(/\D/g, ""), noData: { embed: !0, object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000", applet: !0 }, hasData: function (e) { return e = e.nodeType ? v.cache[e[v.expando]] : e[v.expando], !!e && !B(e) }, data: function (e, n, r, i) { if (!v.acceptData(e)) return; var s, o, u = v.expando, a = typeof n == "string", f = e.nodeType, l = f ? v.cache : e, c = f ? e[u] : e[u] && u; if ((!c || !l[c] || !i && !l[c].data) && a && r === t) return; c || (f ? e[u] = c = v.deletedIds.pop() || v.guid++ : c = u), l[c] || (l[c] = {}, f || (l[c].toJSON = v.noop)); if (typeof n == "object" || typeof n == "function") i ? l[c] = v.extend(l[c], n) : l[c].data = v.extend(l[c].data, n); return s = l[c], i || (s.data || (s.data = {}), s = s.data), r !== t && (s[v.camelCase(n)] = r), a ? (o = s[n], o == null && (o = s[v.camelCase(n)])) : o = s, o }, removeData: function (e, t, n) { if (!v.acceptData(e)) return; var r, i, s, o = e.nodeType, u = o ? v.cache : e, a = o ? e[v.expando] : v.expando; if (!u[a]) return; if (t) { r = n ? u[a] : u[a].data; if (r) { v.isArray(t) || (t in r ? t = [t] : (t = v.camelCase(t), t in r ? t = [t] : t = t.split(" "))); for (i = 0, s = t.length; i < s; i++)delete r[t[i]]; if (!(n ? B : v.isEmptyObject)(r)) return } } if (!n) { delete u[a].data; if (!B(u[a])) return } o ? v.cleanData([e], !0) : v.support.deleteExpando || u != u.window ? delete u[a] : u[a] = null }, _data: function (e, t, n) { return v.data(e, t, n, !0) }, acceptData: function (e) { var t = e.nodeName && v.noData[e.nodeName.toLowerCase()]; return !t || t !== !0 && e.getAttribute("classid") === t } }), v.fn.extend({ data: function (e, n) { var r, i, s, o, u, a = this[0], f = 0, l = null; if (e === t) { if (this.length) { l = v.data(a); if (a.nodeType === 1 && !v._data(a, "parsedAttrs")) { s = a.attributes; for (u = s.length; f < u; f++)o = s[f].name, o.indexOf("data-") || (o = v.camelCase(o.substring(5)), H(a, o, l[o])); v._data(a, "parsedAttrs", !0) } } return l } return typeof e == "object" ? this.each(function () { v.data(this, e) }) : (r = e.split(".", 2), r[1] = r[1] ? "." + r[1] : "", i = r[1] + "!", v.access(this, function (n) { if (n === t) return l = this.triggerHandler("getData" + i, [r[0]]), l === t && a && (l = v.data(a, e), l = H(a, e, l)), l === t && r[1] ? this.data(r[0]) : l; r[1] = n, this.each(function () { var t = v(this); t.triggerHandler("setData" + i, r), v.data(this, e, n), t.triggerHandler("changeData" + i, r) }) }, null, n, arguments.length > 1, null, !1)) }, removeData: function (e) { return this.each(function () { v.removeData(this, e) }) } }), v.extend({ queue: function (e, t, n) { var r; if (e) return t = (t || "fx") + "queue", r = v._data(e, t), n && (!r || v.isArray(n) ? r = v._data(e, t, v.makeArray(n)) : r.push(n)), r || [] }, dequeue: function (e, t) { t = t || "fx"; var n = v.queue(e, t), r = n.length, i = n.shift(), s = v._queueHooks(e, t), o = function () { v.dequeue(e, t) }; i === "inprogress" && (i = n.shift(), r--), i && (t === "fx" && n.unshift("inprogress"), delete s.stop, i.call(e, o, s)), !r && s && s.empty.fire() }, _queueHooks: function (e, t) { var n = t + "queueHooks"; return v._data(e, n) || v._data(e, n, { empty: v.Callbacks("once memory").add(function () { v.removeData(e, t + "queue", !0), v.removeData(e, n, !0) }) }) } }), v.fn.extend({ queue: function (e, n) { var r = 2; return typeof e != "string" && (n = e, e = "fx", r--), arguments.length < r ? v.queue(this[0], e) : n === t ? this : this.each(function () { var t = v.queue(this, e, n); v._queueHooks(this, e), e === "fx" && t[0] !== "inprogress" && v.dequeue(this, e) }) }, dequeue: function (e) { return this.each(function () { v.dequeue(this, e) }) }, delay: function (e, t) { return e = v.fx ? v.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function (t, n) { var r = setTimeout(t, e); n.stop = function () { clearTimeout(r) } }) }, clearQueue: function (e) { return this.queue(e || "fx", []) }, promise: function (e, n) { var r, i = 1, s = v.Deferred(), o = this, u = this.length, a = function () { --i || s.resolveWith(o, [o]) }; typeof e != "string" && (n = e, e = t), e = e || "fx"; while (u--) r = v._data(o[u], e + "queueHooks"), r && r.empty && (i++, r.empty.add(a)); return a(), s.promise(n) } }); var j, F, I, q = /[\t\r\n]/g, R = /\r/g, U = /^(?:button|input)$/i, z = /^(?:button|input|object|select|textarea)$/i, W = /^a(?:rea|)$/i, X = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i, V = v.support.getSetAttribute; v.fn.extend({ attr: function (e, t) { return v.access(this, v.attr, e, t, arguments.length > 1) }, removeAttr: function (e) { return this.each(function () { v.removeAttr(this, e) }) }, prop: function (e, t) { return v.access(this, v.prop, e, t, arguments.length > 1) }, removeProp: function (e) { return e = v.propFix[e] || e, this.each(function () { try { this[e] = t, delete this[e] } catch (n) { } }) }, addClass: function (e) { var t, n, r, i, s, o, u; if (v.isFunction(e)) return this.each(function (t) { v(this).addClass(e.call(this, t, this.className)) }); if (e && typeof e == "string") { t = e.split(y); for (n = 0, r = this.length; n < r; n++) { i = this[n]; if (i.nodeType === 1) if (!i.className && t.length === 1) i.className = e; else { s = " " + i.className + " "; for (o = 0, u = t.length; o < u; o++)s.indexOf(" " + t[o] + " ") < 0 && (s += t[o] + " "); i.className = v.trim(s) } } } return this }, removeClass: function (e) { var n, r, i, s, o, u, a; if (v.isFunction(e)) return this.each(function (t) { v(this).removeClass(e.call(this, t, this.className)) }); if (e && typeof e == "string" || e === t) { n = (e || "").split(y); for (u = 0, a = this.length; u < a; u++) { i = this[u]; if (i.nodeType === 1 && i.className) { r = (" " + i.className + " ").replace(q, " "); for (s = 0, o = n.length; s < o; s++)while (r.indexOf(" " + n[s] + " ") >= 0) r = r.replace(" " + n[s] + " ", " "); i.className = e ? v.trim(r) : "" } } } return this }, toggleClass: function (e, t) { var n = typeof e, r = typeof t == "boolean"; return v.isFunction(e) ? this.each(function (n) { v(this).toggleClass(e.call(this, n, this.className, t), t) }) : this.each(function () { if (n === "string") { var i, s = 0, o = v(this), u = t, a = e.split(y); while (i = a[s++]) u = r ? u : !o.hasClass(i), o[u ? "addClass" : "removeClass"](i) } else if (n === "undefined" || n === "boolean") this.className && v._data(this, "__className__", this.className), this.className = this.className || e === !1 ? "" : v._data(this, "__className__") || "" }) }, hasClass: function (e) { var t = " " + e + " ", n = 0, r = this.length; for (; n < r; n++)if (this[n].nodeType === 1 && (" " + this[n].className + " ").replace(q, " ").indexOf(t) >= 0) return !0; return !1 }, val: function (e) { var n, r, i, s = this[0]; if (!arguments.length) { if (s) return n = v.valHooks[s.type] || v.valHooks[s.nodeName.toLowerCase()], n && "get" in n && (r = n.get(s, "value")) !== t ? r : (r = s.value, typeof r == "string" ? r.replace(R, "") : r == null ? "" : r); return } return i = v.isFunction(e), this.each(function (r) { var s, o = v(this); if (this.nodeType !== 1) return; i ? s = e.call(this, r, o.val()) : s = e, s == null ? s = "" : typeof s == "number" ? s += "" : v.isArray(s) && (s = v.map(s, function (e) { return e == null ? "" : e + "" })), n = v.valHooks[this.type] || v.valHooks[this.nodeName.toLowerCase()]; if (!n || !("set" in n) || n.set(this, s, "value") === t) this.value = s }) } }), v.extend({ valHooks: { option: { get: function (e) { var t = e.attributes.value; return !t || t.specified ? e.value : e.text } }, select: { get: function (e) { var t, n, r = e.options, i = e.selectedIndex, s = e.type === "select-one" || i < 0, o = s ? null : [], u = s ? i + 1 : r.length, a = i < 0 ? u : s ? i : 0; for (; a < u; a++) { n = r[a]; if ((n.selected || a === i) && (v.support.optDisabled ? !n.disabled : n.getAttribute("disabled") === null) && (!n.parentNode.disabled || !v.nodeName(n.parentNode, "optgroup"))) { t = v(n).val(); if (s) return t; o.push(t) } } return o }, set: function (e, t) { var n = v.makeArray(t); return v(e).find("option").each(function () { this.selected = v.inArray(v(this).val(), n) >= 0 }), n.length || (e.selectedIndex = -1), n } } }, attrFn: {}, attr: function (e, n, r, i) { var s, o, u, a = e.nodeType; if (!e || a === 3 || a === 8 || a === 2) return; if (i && v.isFunction(v.fn[n])) return v(e)[n](r); if (typeof e.getAttribute == "undefined") return v.prop(e, n, r); u = a !== 1 || !v.isXMLDoc(e), u && (n = n.toLowerCase(), o = v.attrHooks[n] || (X.test(n) ? F : j)); if (r !== t) { if (r === null) { v.removeAttr(e, n); return } return o && "set" in o && u && (s = o.set(e, r, n)) !== t ? s : (e.setAttribute(n, r + ""), r) } return o && "get" in o && u && (s = o.get(e, n)) !== null ? s : (s = e.getAttribute(n), s === null ? t : s) }, removeAttr: function (e, t) { var n, r, i, s, o = 0; if (t && e.nodeType === 1) { r = t.split(y); for (; o < r.length; o++)i = r[o], i && (n = v.propFix[i] || i, s = X.test(i), s || v.attr(e, i, ""), e.removeAttribute(V ? i : n), s && n in e && (e[n] = !1)) } }, attrHooks: { type: { set: function (e, t) { if (U.test(e.nodeName) && e.parentNode) v.error("type property can't be changed"); else if (!v.support.radioValue && t === "radio" && v.nodeName(e, "input")) { var n = e.value; return e.setAttribute("type", t), n && (e.value = n), t } } }, value: { get: function (e, t) { return j && v.nodeName(e, "button") ? j.get(e, t) : t in e ? e.value : null }, set: function (e, t, n) { if (j && v.nodeName(e, "button")) return j.set(e, t, n); e.value = t } } }, propFix: { tabindex: "tabIndex", readonly: "readOnly", "for": "htmlFor", "class": "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable" }, prop: function (e, n, r) { var i, s, o, u = e.nodeType; if (!e || u === 3 || u === 8 || u === 2) return; return o = u !== 1 || !v.isXMLDoc(e), o && (n = v.propFix[n] || n, s = v.propHooks[n]), r !== t ? s && "set" in s && (i = s.set(e, r, n)) !== t ? i : e[n] = r : s && "get" in s && (i = s.get(e, n)) !== null ? i : e[n] }, propHooks: { tabIndex: { get: function (e) { var n = e.getAttributeNode("tabindex"); return n && n.specified ? parseInt(n.value, 10) : z.test(e.nodeName) || W.test(e.nodeName) && e.href ? 0 : t } } } }), F = { get: function (e, n) { var r, i = v.prop(e, n); return i === !0 || typeof i != "boolean" && (r = e.getAttributeNode(n)) && r.nodeValue !== !1 ? n.toLowerCase() : t }, set: function (e, t, n) { var r; return t === !1 ? v.removeAttr(e, n) : (r = v.propFix[n] || n, r in e && (e[r] = !0), e.setAttribute(n, n.toLowerCase())), n } }, V || (I = { name: !0, id: !0, coords: !0 }, j = v.valHooks.button = { get: function (e, n) { var r; return r = e.getAttributeNode(n), r && (I[n] ? r.value !== "" : r.specified) ? r.value : t }, set: function (e, t, n) { var r = e.getAttributeNode(n); return r || (r = i.createAttribute(n), e.setAttributeNode(r)), r.value = t + "" } }, v.each(["width", "height"], function (e, t) { v.attrHooks[t] = v.extend(v.attrHooks[t], { set: function (e, n) { if (n === "") return e.setAttribute(t, "auto"), n } }) }), v.attrHooks.contenteditable = { get: j.get, set: function (e, t, n) { t === "" && (t = "false"), j.set(e, t, n) } }), v.support.hrefNormalized || v.each(["href"
        , "src", "width", "height"], function (e, n) { v.attrHooks[n] = v.extend(v.attrHooks[n], { get: function (e) { var r = e.getAttribute(n, 2); return r === null ? t : r } }) }), v.support.style || (v.attrHooks.style = { get: function (e) { return e.style.cssText.toLowerCase() || t }, set: function (e, t) { return e.style.cssText = t + "" } }), v.support.optSelected || (v.propHooks.selected = v.extend(v.propHooks.selected, { get: function (e) { var t = e.parentNode; return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex), null } })), v.support.enctype || (v.propFix.enctype = "encoding"), v.support.checkOn || v.each(["radio", "checkbox"], function () { v.valHooks[this] = { get: function (e) { return e.getAttribute("value") === null ? "on" : e.value } } }), v.each(["radio", "checkbox"], function () { v.valHooks[this] = v.extend(v.valHooks[this], { set: function (e, t) { if (v.isArray(t)) return e.checked = v.inArray(v(e).val(), t) >= 0 } }) }); var $ = /^(?:textarea|input|select)$/i, J = /^([^\.]*|)(?:\.(.+)|)$/, K = /(?:^|\s)hover(\.\S+|)\b/, Q = /^key/, G = /^(?:mouse|contextmenu)|click/, Y = /^(?:focusinfocus|focusoutblur)$/, Z = function (e) { return v.event.special.hover ? e : e.replace(K, "mouseenter$1 mouseleave$1") }; v.event = { add: function (e, n, r, i, s) { var o, u, a, f, l, c, h, p, d, m, g; if (e.nodeType === 3 || e.nodeType === 8 || !n || !r || !(o = v._data(e))) return; r.handler && (d = r, r = d.handler, s = d.selector), r.guid || (r.guid = v.guid++), a = o.events, a || (o.events = a = {}), u = o.handle, u || (o.handle = u = function (e) { return typeof v == "undefined" || !!e && v.event.triggered === e.type ? t : v.event.dispatch.apply(u.elem, arguments) }, u.elem = e), n = v.trim(Z(n)).split(" "); for (f = 0; f < n.length; f++) { l = J.exec(n[f]) || [], c = l[1], h = (l[2] || "").split(".").sort(), g = v.event.special[c] || {}, c = (s ? g.delegateType : g.bindType) || c, g = v.event.special[c] || {}, p = v.extend({ type: c, origType: l[1], data: i, handler: r, guid: r.guid, selector: s, needsContext: s && v.expr.match.needsContext.test(s), namespace: h.join(".") }, d), m = a[c]; if (!m) { m = a[c] = [], m.delegateCount = 0; if (!g.setup || g.setup.call(e, i, h, u) === !1) e.addEventListener ? e.addEventListener(c, u, !1) : e.attachEvent && e.attachEvent("on" + c, u) } g.add && (g.add.call(e, p), p.handler.guid || (p.handler.guid = r.guid)), s ? m.splice(m.delegateCount++, 0, p) : m.push(p), v.event.global[c] = !0 } e = null }, global: {}, remove: function (e, t, n, r, i) { var s, o, u, a, f, l, c, h, p, d, m, g = v.hasData(e) && v._data(e); if (!g || !(h = g.events)) return; t = v.trim(Z(t || "")).split(" "); for (s = 0; s < t.length; s++) { o = J.exec(t[s]) || [], u = a = o[1], f = o[2]; if (!u) { for (u in h) v.event.remove(e, u + t[s], n, r, !0); continue } p = v.event.special[u] || {}, u = (r ? p.delegateType : p.bindType) || u, d = h[u] || [], l = d.length, f = f ? new RegExp("(^|\\.)" + f.split(".").sort().join("\\.(?:.*\\.|)") + "(\\.|$)") : null; for (c = 0; c < d.length; c++)m = d[c], (i || a === m.origType) && (!n || n.guid === m.guid) && (!f || f.test(m.namespace)) && (!r || r === m.selector || r === "**" && m.selector) && (d.splice(c--, 1), m.selector && d.delegateCount--, p.remove && p.remove.call(e, m)); d.length === 0 && l !== d.length && ((!p.teardown || p.teardown.call(e, f, g.handle) === !1) && v.removeEvent(e, u, g.handle), delete h[u]) } v.isEmptyObject(h) && (delete g.handle, v.removeData(e, "events", !0)) }, customEvent: { getData: !0, setData: !0, changeData: !0 }, trigger: function (n, r, s, o) { if (!s || s.nodeType !== 3 && s.nodeType !== 8) { var u, a, f, l, c, h, p, d, m, g, y = n.type || n, b = []; if (Y.test(y + v.event.triggered)) return; y.indexOf("!") >= 0 && (y = y.slice(0, -1), a = !0), y.indexOf(".") >= 0 && (b = y.split("."), y = b.shift(), b.sort()); if ((!s || v.event.customEvent[y]) && !v.event.global[y]) return; n = typeof n == "object" ? n[v.expando] ? n : new v.Event(y, n) : new v.Event(y), n.type = y, n.isTrigger = !0, n.exclusive = a, n.namespace = b.join("."), n.namespace_re = n.namespace ? new RegExp("(^|\\.)" + b.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, h = y.indexOf(":") < 0 ? "on" + y : ""; if (!s) { u = v.cache; for (f in u) u[f].events && u[f].events[y] && v.event.trigger(n, r, u[f].handle.elem, !0); return } n.result = t, n.target || (n.target = s), r = r != null ? v.makeArray(r) : [], r.unshift(n), p = v.event.special[y] || {}; if (p.trigger && p.trigger.apply(s, r) === !1) return; m = [[s, p.bindType || y]]; if (!o && !p.noBubble && !v.isWindow(s)) { g = p.delegateType || y, l = Y.test(g + y) ? s : s.parentNode; for (c = s; l; l = l.parentNode)m.push([l, g]), c = l; c === (s.ownerDocument || i) && m.push([c.defaultView || c.parentWindow || e, g]) } for (f = 0; f < m.length && !n.isPropagationStopped(); f++)l = m[f][0], n.type = m[f][1], d = (v._data(l, "events") || {})[n.type] && v._data(l, "handle"), d && d.apply(l, r), d = h && l[h], d && v.acceptData(l) && d.apply && d.apply(l, r) === !1 && n.preventDefault(); return n.type = y, !o && !n.isDefaultPrevented() && (!p._default || p._default.apply(s.ownerDocument, r) === !1) && (y !== "click" || !v.nodeName(s, "a")) && v.acceptData(s) && h && s[y] && (y !== "focus" && y !== "blur" || n.target.offsetWidth !== 0) && !v.isWindow(s) && (c = s[h], c && (s[h] = null), v.event.triggered = y, s[y](), v.event.triggered = t, c && (s[h] = c)), n.result } return }, dispatch: function (n) { n = v.event.fix(n || e.event); var r, i, s, o, u, a, f, c, h, p, d = (v._data(this, "events") || {})[n.type] || [], m = d.delegateCount, g = l.call(arguments), y = !n.exclusive && !n.namespace, b = v.event.special[n.type] || {}, w = []; g[0] = n, n.delegateTarget = this; if (b.preDispatch && b.preDispatch.call(this, n) === !1) return; if (m && (!n.button || n.type !== "click")) for (s = n.target; s != this; s = s.parentNode || this)if (s.disabled !== !0 || n.type !== "click") { u = {}, f = []; for (r = 0; r < m; r++)c = d[r], h = c.selector, u[h] === t && (u[h] = c.needsContext ? v(h, this).index(s) >= 0 : v.find(h, this, null, [s]).length), u[h] && f.push(c); f.length && w.push({ elem: s, matches: f }) } d.length > m && w.push({ elem: this, matches: d.slice(m) }); for (r = 0; r < w.length && !n.isPropagationStopped(); r++) { a = w[r], n.currentTarget = a.elem; for (i = 0; i < a.matches.length && !n.isImmediatePropagationStopped(); i++) { c = a.matches[i]; if (y || !n.namespace && !c.namespace || n.namespace_re && n.namespace_re.test(c.namespace)) n.data = c.data, n.handleObj = c, o = ((v.event.special[c.origType] || {}).handle || c.handler).apply(a.elem, g), o !== t && (n.result = o, o === !1 && (n.preventDefault(), n.stopPropagation())) } } return b.postDispatch && b.postDispatch.call(this, n), n.result }, props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "), fixHooks: {}, keyHooks: { props: "char charCode key keyCode".split(" "), filter: function (e, t) { return e.which == null && (e.which = t.charCode != null ? t.charCode : t.keyCode), e } }, mouseHooks: { props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "), filter: function (e, n) { var r, s, o, u = n.button, a = n.fromElement; return e.pageX == null && n.clientX != null && (r = e.target.ownerDocument || i, s = r.documentElement, o = r.body, e.pageX = n.clientX + (s && s.scrollLeft || o && o.scrollLeft || 0) - (s && s.clientLeft || o && o.clientLeft || 0), e.pageY = n.clientY + (s && s.scrollTop || o && o.scrollTop || 0) - (s && s.clientTop || o && o.clientTop || 0)), !e.relatedTarget && a && (e.relatedTarget = a === e.target ? n.toElement : a), !e.which && u !== t && (e.which = u & 1 ? 1 : u & 2 ? 3 : u & 4 ? 2 : 0), e } }, fix: function (e) { if (e[v.expando]) return e; var t, n, r = e, s = v.event.fixHooks[e.type] || {}, o = s.props ? this.props.concat(s.props) : this.props; e = v.Event(r); for (t = o.length; t;)n = o[--t], e[n] = r[n]; return e.target || (e.target = r.srcElement || i), e.target.nodeType === 3 && (e.target = e.target.parentNode), e.metaKey = !!e.metaKey, s.filter ? s.filter(e, r) : e }, special: { load: { noBubble: !0 }, focus: { delegateType: "focusin" }, blur: { delegateType: "focusout" }, beforeunload: { setup: function (e, t, n) { v.isWindow(this) && (this.onbeforeunload = n) }, teardown: function (e, t) { this.onbeforeunload === t && (this.onbeforeunload = null) } } }, simulate: function (e, t, n, r) { var i = v.extend(new v.Event, n, { type: e, isSimulated: !0, originalEvent: {} }); r ? v.event.trigger(i, null, t) : v.event.dispatch.call(t, i), i.isDefaultPrevented() && n.preventDefault() } }, v.event.handle = v.event.dispatch, v.removeEvent = i.removeEventListener ? function (e, t, n) { e.removeEventListener && e.removeEventListener(t, n, !1) } : function (e, t, n) { var r = "on" + t; e.detachEvent && (typeof e[r] == "undefined" && (e[r] = null), e.detachEvent(r, n)) }, v.Event = function (e, t) { if (!(this instanceof v.Event)) return new v.Event(e, t); e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || e.returnValue === !1 || e.getPreventDefault && e.getPreventDefault() ? tt : et) : this.type = e, t && v.extend(this, t), this.timeStamp = e && e.timeStamp || v.now(), this[v.expando] = !0 }, v.Event.prototype = { preventDefault: function () { this.isDefaultPrevented = tt; var e = this.originalEvent; if (!e) return; e.preventDefault ? e.preventDefault() : e.returnValue = !1 }, stopPropagation: function () { this.isPropagationStopped = tt; var e = this.originalEvent; if (!e) return; e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0 }, stopImmediatePropagation: function () { this.isImmediatePropagationStopped = tt, this.stopPropagation() }, isDefaultPrevented: et, isPropagationStopped: et, isImmediatePropagationStopped: et }, v.each({ mouseenter: "mouseover", mouseleave: "mouseout" }, function (e, t) { v.event.special[e] = { delegateType: t, bindType: t, handle: function (e) { var n, r = this, i = e.relatedTarget, s = e.handleObj, o = s.selector; if (!i || i !== r && !v.contains(r, i)) e.type = s.origType, n = s.handler.apply(this, arguments), e.type = t; return n } } }), v.support.submitBubbles || (v.event.special.submit = { setup: function () { if (v.nodeName(this, "form")) return !1; v.event.add(this, "click._submit keypress._submit", function (e) { var n = e.target, r = v.nodeName(n, "input") || v.nodeName(n, "button") ? n.form : t; r && !v._data(r, "_submit_attached") && (v.event.add(r, "submit._submit", function (e) { e._submit_bubble = !0 }), v._data(r, "_submit_attached", !0)) }) }, postDispatch: function (e) { e._submit_bubble && (delete e._submit_bubble, this.parentNode && !e.isTrigger && v.event.simulate("submit", this.parentNode, e, !0)) }, teardown: function () { if (v.nodeName(this, "form")) return !1; v.event.remove(this, "._submit") } }), v.support.changeBubbles || (v.event.special.change = { setup: function () { if ($.test(this.nodeName)) { if (this.type === "checkbox" || this.type === "radio") v.event.add(this, "propertychange._change", function (e) { e.originalEvent.propertyName === "checked" && (this._just_changed = !0) }), v.event.add(this, "click._change", function (e) { this._just_changed && !e.isTrigger && (this._just_changed = !1), v.event.simulate("change", this, e, !0) }); return !1 } v.event.add(this, "beforeactivate._change", function (e) { var t = e.target; $.test(t.nodeName) && !v._data(t, "_change_attached") && (v.event.add(t, "change._change", function (e) { this.parentNode && !e.isSimulated && !e.isTrigger && v.event.simulate("change", this.parentNode, e, !0) }), v._data(t, "_change_attached", !0)) }) }, handle: function (e) { var t = e.target; if (this !== t || e.isSimulated || e.isTrigger || t.type !== "radio" && t.type !== "checkbox") return e.handleObj.handler.apply(this, arguments) }, teardown: function () { return v.event.remove(this, "._change"), !$.test(this.nodeName) } }), v.support.focusinBubbles || v.each({ focus: "focusin", blur: "focusout" }, function (e, t) { var n = 0, r = function (e) { v.event.simulate(t, e.target, v.event.fix(e), !0) }; v.event.special[t] = { setup: function () { n++ === 0 && i.addEventListener(e, r, !0) }, teardown: function () { --n === 0 && i.removeEventListener(e, r, !0) } } }), v.fn.extend({ on: function (e, n, r, i, s) { var o, u; if (typeof e == "object") { typeof n != "string" && (r = r || n, n = t); for (u in e) this.on(u, n, r, e[u], s); return this } r == null && i == null ? (i = n, r = n = t) : i == null && (typeof n == "string" ? (i = r, r = t) : (i = r, r = n, n = t)); if (i === !1) i = et; else if (!i) return this; return s === 1 && (o = i, i = function (e) { return v().off(e), o.apply(this, arguments) }, i.guid = o.guid || (o.guid = v.guid++)), this.each(function () { v.event.add(this, e, i, r, n) }) }, one: function (e, t, n, r) { return this.on(e, t, n, r, 1) }, off: function (e, n, r) { var i, s; if (e && e.preventDefault && e.handleObj) return i = e.handleObj, v(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this; if (typeof e == "object") { for (s in e) this.off(s, n, e[s]); return this } if (n === !1 || typeof n == "function") r = n, n = t; return r === !1 && (r = et), this.each(function () { v.event.remove(this, e, r, n) }) }, bind: function (e, t, n) { return this.on(e, null, t, n) }, unbind: function (e, t) { return this.off(e, null, t) }, live: function (e, t, n) { return v(this.context).on(e, this.selector, t, n), this }, die: function (e, t) { return v(this.context).off(e, this.selector || "**", t), this }, delegate: function (e, t, n, r) { return this.on(t, e, n, r) }, undelegate: function (e, t, n) { return arguments.length === 1 ? this.off(e, "**") : this.off(t, e || "**", n) }, trigger: function (e, t) { return this.each(function () { v.event.trigger(e, t, this) }) }, triggerHandler: function (e, t) { if (this[0]) return v.event.trigger(e, t, this[0], !0) }, toggle: function (e) { var t = arguments, n = e.guid || v.guid++, r = 0, i = function (n) { var i = (v._data(this, "lastToggle" + e.guid) || 0) % r; return v._data(this, "lastToggle" + e.guid, i + 1), n.preventDefault(), t[i].apply(this, arguments) || !1 }; i.guid = n; while (r < t.length) t[r++].guid = n; return this.click(i) }, hover: function (e, t) { return this.mouseenter(e).mouseleave(t || e) } }), v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (e, t) { v.fn[t] = function (e, n) { return n == null && (n = e, e = null), arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t) }, Q.test(t) && (v.event.fixHooks[t] = v.event.keyHooks), G.test(t) && (v.event.fixHooks[t] = v.event.mouseHooks) }), function (e, t) { function nt(e, t, n, r) { n = n || [], t = t || g; var i, s, a, f, l = t.nodeType; if (!e || typeof e != "string") return n; if (l !== 1 && l !== 9) return []; a = o(t); if (!a && !r) if (i = R.exec(e)) if (f = i[1]) { if (l === 9) { s = t.getElementById(f); if (!s || !s.parentNode) return n; if (s.id === f) return n.push(s), n } else if (t.ownerDocument && (s = t.ownerDocument.getElementById(f)) && u(t, s) && s.id === f) return n.push(s), n } else { if (i[2]) return S.apply(n, x.call(t.getElementsByTagName(e), 0)), n; if ((f = i[3]) && Z && t.getElementsByClassName) return S.apply(n, x.call(t.getElementsByClassName(f), 0)), n } return vt(e.replace(j, "$1"), t, n, r, a) } function rt(e) { return function (t) { var n = t.nodeName.toLowerCase(); return n === "input" && t.type === e } } function it(e) { return function (t) { var n = t.nodeName.toLowerCase(); return (n === "input" || n === "button") && t.type === e } } function st(e) { return N(function (t) { return t = +t, N(function (n, r) { var i, s = e([], n.length, t), o = s.length; while (o--) n[i = s[o]] && (n[i] = !(r[i] = n[i])) }) }) } function ot(e, t, n) { if (e === t) return n; var r = e.nextSibling; while (r) { if (r === t) return -1; r = r.nextSibling } return 1 } function ut(e, t) { var n, r, s, o, u, a, f, l = L[d][e + " "]; if (l) return t ? 0 : l.slice(0); u = e, a = [], f = i.preFilter; while (u) { if (!n || (r = F.exec(u))) r && (u = u.slice(r[0].length) || u), a.push(s = []); n = !1; if (r = I.exec(u)) s.push(n = new m(r.shift())), u = u.slice(n.length), n.type = r[0].replace(j, " "); for (o in i.filter) (r = J[o].exec(u)) && (!f[o] || (r = f[o](r))) && (s.push(n = new m(r.shift())), u = u.slice(n.length), n.type = o, n.matches = r); if (!n) break } return t ? u.length : u ? nt.error(e) : L(e, a).slice(0) } function at(e, t, r) { var i = t.dir, s = r && t.dir === "parentNode", o = w++; return t.first ? function (t, n, r) { while (t = t[i]) if (s || t.nodeType === 1) return e(t, n, r) } : function (t, r, u) { if (!u) { var a, f = b + " " + o + " ", l = f + n; while (t = t[i]) if (s || t.nodeType === 1) { if ((a = t[d]) === l) return t.sizset; if (typeof a == "string" && a.indexOf(f) === 0) { if (t.sizset) return t } else { t[d] = l; if (e(t, r, u)) return t.sizset = !0, t; t.sizset = !1 } } } else while (t = t[i]) if (s || t.nodeType === 1) if (e(t, r, u)) return t } } function ft(e) { return e.length > 1 ? function (t, n, r) { var i = e.length; while (i--) if (!e[i](t, n, r)) return !1; return !0 } : e[0] } function lt(e, t, n, r, i) { var s, o = [], u = 0, a = e.length, f = t != null; for (; u < a; u++)if (s = e[u]) if (!n || n(s, r, i)) o.push(s), f && t.push(u); return o } function ct(e, t, n, r, i, s) { return r && !r[d] && (r = ct(r)), i && !i[d] && (i = ct(i, s)), N(function (s, o, u, a) { var f, l, c, h = [], p = [], d = o.length, v = s || dt(t || "*", u.nodeType ? [u] : u, []), m = e && (s || !t) ? lt(v, h, e, u, a) : v, g = n ? i || (s ? e : d || r) ? [] : o : m; n && n(m, g, u, a); if (r) { f = lt(g, p), r(f, [], u, a), l = f.length; while (l--) if (c = f[l]) g[p[l]] = !(m[p[l]] = c) } if (s) { if (i || e) { if (i) { f = [], l = g.length; while (l--) (c = g[l]) && f.push(m[l] = c); i(null, g = [], f, a) } l = g.length; while (l--) (c = g[l]) && (f = i ? T.call(s, c) : h[l]) > -1 && (s[f] = !(o[f] = c)) } } else g = lt(g === o ? g.splice(d, g.length) : g), i ? i(null, o, g, a) : S.apply(o, g) }) } function ht(e) { var t, n, r, s = e.length, o = i.relative[e[0].type], u = o || i.relative[" "], a = o ? 1 : 0, f = at(function (e) { return e === t }, u, !0), l = at(function (e) { return T.call(t, e) > -1 }, u, !0), h = [function (e, n, r) { return !o && (r || n !== c) || ((t = n).nodeType ? f(e, n, r) : l(e, n, r)) }]; for (; a < s; a++)if (n = i.relative[e[a].type]) h = [at(ft(h), n)]; else { n = i.filter[e[a].type].apply(null, e[a].matches); if (n[d]) { r = ++a; for (; r < s; r++)if (i.relative[e[r].type]) break; return ct(a > 1 && ft(h), a > 1 && e.slice(0, a - 1).join("").replace(j, "$1"), n, a < r && ht(e.slice(a, r)), r < s && ht(e = e.slice(r)), r < s && e.join("")) } h.push(n) } return ft(h) } function pt(e, t) { var r = t.length > 0, s = e.length > 0, o = function (u, a, f, l, h) { var p, d, v, m = [], y = 0, w = "0", x = u && [], T = h != null, N = c, C = u || s && i.find.TAG("*", h && a.parentNode || a), k = b += N == null ? 1 : Math.E; T && (c = a !== g && a, n = o.el); for (; (p = C[w]) != null; w++) { if (s && p) { for (d = 0; v = e[d]; d++)if (v(p, a, f)) { l.push(p); break } T && (b = k, n = ++o.el) } r && ((p = !v && p) && y--, u && x.push(p)) } y += w; if (r && w !== y) { for (d = 0; v = t[d]; d++)v(x, m, a, f); if (u) { if (y > 0) while (w--) !x[w] && !m[w] && (m[w] = E.call(l)); m = lt(m) } S.apply(l, m), T && !u && m.length > 0 && y + t.length > 1 && nt.uniqueSort(l) } return T && (b = k, c = N), x }; return o.el = 0, r ? N(o) : o } function dt(e, t, n) { var r = 0, i = t.length; for (; r < i; r++)nt(e, t[r], n); return n } function vt(e, t, n, r, s) { var o, u, f, l, c, h = ut(e), p = h.length; if (!r && h.length === 1) { u = h[0] = h[0].slice(0); if (u.length > 2 && (f = u[0]).type === "ID" && t.nodeType === 9 && !s && i.relative[u[1].type]) { t = i.find.ID(f.matches[0].replace($, ""), t, s)[0]; if (!t) return n; e = e.slice(u.shift().length) } for (o = J.POS.test(e) ? -1 : u.length - 1; o >= 0; o--) { f = u[o]; if (i.relative[l = f.type]) break; if (c = i.find[l]) if (r = c(f.matches[0].replace($, ""), z.test(u[0].type) && t.parentNode || t, s)) { u.splice(o, 1), e = r.length && u.join(""); if (!e) return S.apply(n, x.call(r, 0)), n; break } } } return a(e, h)(r, t, s, n, z.test(e)), n } function mt() { } var n, r, i, s, o, u, a, f, l, c, h = !0, p = "undefined", d = ("sizcache" + Math.random()).replace(".", ""), m = String, g = e.document, y = g.documentElement, b = 0, w = 0, E = [].pop, S = [].push, x = [].slice, T = [].indexOf || function (e) { var t = 0, n = this.length; for (; t < n; t++)if (this[t] === e) return t; return -1 }, N = function (e, t) { return e[d] = t == null || t, e }, C = function () { var e = {}, t = []; return N(function (n, r) { return t.push(n) > i.cacheLength && delete e[t.shift()], e[n + " "] = r }, e) }, k = C(), L = C(), A = C(), O = "[\\x20\\t\\r\\n\\f]", M = "(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+", _ = M.replace("w", "w#"), D = "([*^$|!~]?=)", P = "\\[" + O + "*(" + M + ")" + O + "*(?:" + D + O + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + _ + ")|)|)" + O + "*\\]", H = ":(" + M + ")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:" + P + ")|[^:]|\\\\.)*|.*))\\)|)", B = ":(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + O + "*((?:-\\d)?\\d*)" + O + "*\\)|)(?=[^-]|$)", j = new RegExp("^" + O + "+|((?:^|[^\\\\])(?:\\\\.)*)" + O + "+$", "g"), F = new RegExp("^" + O + "*," + O + "*"), I = new RegExp("^" + O + "*([\\x20\\t\\r\\n\\f>+~])" + O + "*"), q = new RegExp(H), R = /^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/, U = /^:not/, z = /[\x20\t\r\n\f]*[+~]/, W = /:not\($/, X = /h\d/i, V = /input|select|textarea|button/i, $ = /\\(?!\\)/g, J = { ID: new RegExp("^#(" + M + ")"), CLASS: new RegExp("^\\.(" + M + ")"), NAME: new RegExp("^\\[name=['\"]?(" + M + ")['\"]?\\]"), TAG: new RegExp("^(" + M.replace("w", "w*") + ")"), ATTR: new RegExp("^" + P), PSEUDO: new RegExp("^" + H), POS: new RegExp(B, "i"), CHILD: new RegExp("^:(only|nth|first|last)-child(?:\\(" + O + "*(even|odd|(([+-]|)(\\d*)n|)" + O + "*(?:([+-]|)" + O + "*(\\d+)|))" + O + "*\\)|)", "i"), needsContext: new RegExp("^" + O + "*[>+~]|" + B, "i") }, K = function (e) { var t = g.createElement("div"); try { return e(t) } catch (n) { return !1 } finally { t = null } }, Q = K(function (e) { return e.appendChild(g.createComment("")), !e.getElementsByTagName("*").length }), G = K(function (e) { return e.innerHTML = "<a href='#'></a>", e.firstChild && typeof e.firstChild.getAttribute !== p && e.firstChild.getAttribute("href") === "#" }), Y = K(function (e) { e.innerHTML = "<select></select>"; var t = typeof e.lastChild.getAttribute("multiple"); return t !== "boolean" && t !== "string" }), Z = K(function (e) { return e.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>", !e.getElementsByClassName || !e.getElementsByClassName("e").length ? !1 : (e.lastChild.className = "e", e.getElementsByClassName("e").length === 2) }), et = K(function (e) { e.id = d + 0, e.innerHTML = "<a name='" + d + "'></a><div name='" + d + "'></div>", y.insertBefore(e, y.firstChild); var t = g.getElementsByName && g.getElementsByName(d).length === 2 + g.getElementsByName(d + 0).length; return r = !g.getElementById(d), y.removeChild(e), t }); try { x.call(y.childNodes, 0)[0].nodeType } catch (tt) { x = function (e) { var t, n = []; for (; t = this[e]; e++)n.push(t); return n } } nt.matches = function (e, t) { return nt(e, null, null, t) }, nt.matchesSelector = function (e, t) { return nt(t, null, null, [e]).length > 0 }, s = nt.getText = function (e) { var t, n = "", r = 0, i = e.nodeType; if (i) { if (i === 1 || i === 9 || i === 11) { if (typeof e.textContent == "string") return e.textContent; for (e = e.firstChild; e; e = e.nextSibling)n += s(e) } else if (i === 3 || i === 4) return e.nodeValue } else for (; t = e[r]; r++)n += s(t); return n }, o = nt.isXML = function (e) { var t = e && (e.ownerDocument || e).documentElement; return t ? t.nodeName !== "HTML" : !1 }, u = nt.contains = y.contains ? function (e, t) { var n = e.nodeType === 9 ? e.documentElement : e, r = t && t.parentNode; return e === r || !!(r && r.nodeType === 1 && n.contains && n.contains(r)) } : y.compareDocumentPosition ? function (e, t) { return t && !!(e.compareDocumentPosition(t) & 16) } : function (e, t) { while (t = t.parentNode) if (t === e) return !0; return !1 }, nt.attr = function (e, t) { var n, r = o(e); return r || (t = t.toLowerCase()), (n = i.attrHandle[t]) ? n(e) : r || Y ? e.getAttribute(t) : (n = e.getAttributeNode(t), n ? typeof e[t] == "boolean" ? e[t] ? t : null : n.specified ? n.value : null : null) }, i = nt.selectors = { cacheLength: 50, createPseudo: N, match: J, attrHandle: G ? {} : { href: function (e) { return e.getAttribute("href", 2) }, type: function (e) { return e.getAttribute("type") } }, find: { ID: r ? function (e, t, n) { if (typeof t.getElementById !== p && !n) { var r = t.getElementById(e); return r && r.parentNode ? [r] : [] } } : function (e, n, r) { if (typeof n.getElementById !== p && !r) { var i = n.getElementById(e); return i ? i.id === e || typeof i.getAttributeNode !== p && i.getAttributeNode("id").value === e ? [i] : t : [] } }, TAG: Q ? function (e, t) { if (typeof t.getElementsByTagName !== p) return t.getElementsByTagName(e) } : function (e, t) { var n = t.getElementsByTagName(e); if (e === "*") { var r, i = [], s = 0; for (; r = n[s]; s++)r.nodeType === 1 && i.push(r); return i } return n }, NAME: et && function (e, t) { if (typeof t.getElementsByName !== p) return t.getElementsByName(name) }, CLASS: Z && function (e, t, n) { if (typeof t.getElementsByClassName !== p && !n) return t.getElementsByClassName(e) } }, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (e) { return e[1] = e[1].replace($, ""), e[3] = (e[4] || e[5] || "").replace($, ""), e[2] === "~=" && (e[3] = " " + e[3] + " "), e.slice(0, 4) }, CHILD: function (e) { return e[1] = e[1].toLowerCase(), e[1] === "nth" ? (e[2] || nt.error(e[0]), e[3] = +(e[3] ? e[4] + (e[5] || 1) : 2 * (e[2] === "even" || e[2] === "odd")), e[4] = +(e[6] + e[7] || e[2] === "odd")) : e[2] && nt.error(e[0]), e }, PSEUDO: function (e) { var t, n; if (J.CHILD.test(e[0])) return null; if (e[3]) e[2] = e[3]; else if (t = e[4]) q.test(t) && (n = ut(t, !0)) && (n = t.indexOf(")", t.length - n) - t.length) && (t = t.slice(0, n), e[0] = e[0].slice(0, n)), e[2] = t; return e.slice(0, 3) } }, filter: { ID: r ? function (e) { return e = e.replace($, ""), function (t) { return t.getAttribute("id") === e } } : function (e) { return e = e.replace($, ""), function (t) { var n = typeof t.getAttributeNode !== p && t.getAttributeNode("id"); return n && n.value === e } }, TAG: function (e) { return e === "*" ? function () { return !0 } : (e = e.replace($, "").toLowerCase(), function (t) { return t.nodeName && t.nodeName.toLowerCase() === e }) }, CLASS: function (e) { var t = k[d][e + " "]; return t || (t = new RegExp("(^|" + O + ")" + e + "(" + O + "|$)")) && k(e, function (e) { return t.test(e.className || typeof e.getAttribute !== p && e.getAttribute("class") || "") }) }, ATTR: function (e, t, n) { return function (r, i) { var s = nt.attr(r, e); return s == null ? t === "!=" : t ? (s += "", t === "=" ? s === n : t === "!=" ? s !== n : t === "^=" ? n && s.indexOf(n) === 0 : t === "*=" ? n && s.indexOf(n) > -1 : t === "$=" ? n && s.substr(s.length - n.length) === n : t === "~=" ? (" " + s + " ").indexOf(n) > -1 : t === "|=" ? s === n || s.substr(0, n.length + 1) === n + "-" : !1) : !0 } }, CHILD: function (e, t, n, r) { return e === "nth" ? function (e) { var t, i, s = e.parentNode; if (n === 1 && r === 0) return !0; if (s) { i = 0; for (t = s.firstChild; t; t = t.nextSibling)if (t.nodeType === 1) { i++; if (e === t) break } } return i -= r, i === n || i % n === 0 && i / n >= 0 } : function (t) { var n = t; switch (e) { case "only": case "first": while (n = n.previousSibling) if (n.nodeType === 1) return !1; if (e === "first") return !0; n = t; case "last": while (n = n.nextSibling) if (n.nodeType === 1) return !1; return !0 } } }, PSEUDO: function (e, t) { var n, r = i.pseudos[e] || i.setFilters[e.toLowerCase()] || nt.error("unsupported pseudo: " + e); return r[d] ? r(t) : r.length > 1 ? (n = [e, e, "", t], i.setFilters.hasOwnProperty(e.toLowerCase()) ? N(function (e, n) { var i, s = r(e, t), o = s.length; while (o--) i = T.call(e, s[o]), e[i] = !(n[i] = s[o]) }) : function (e) { return r(e, 0, n) }) : r } }, pseudos: { not: N(function (e) { var t = [], n = [], r = a(e.replace(j, "$1")); return r[d] ? N(function (e, t, n, i) { var s, o = r(e, null, i, []), u = e.length; while (u--) if (s = o[u]) e[u] = !(t[u] = s) }) : function (e, i, s) { return t[0] = e, r(t, null, s, n), !n.pop() } }), has: N(function (e) { return function (t) { return nt(e, t).length > 0 } }), contains: N(function (e) { return function (t) { return (t.textContent || t.innerText || s(t)).indexOf(e) > -1 } }), enabled: function (e) { return e.disabled === !1 }, disabled: function (e) { return e.disabled === !0 }, checked: function (e) { var t = e.nodeName.toLowerCase(); return t === "input" && !!e.checked || t === "option" && !!e.selected }, selected: function (e) { return e.parentNode && e.parentNode.selectedIndex, e.selected === !0 }, parent: function (e) { return !i.pseudos.empty(e) }, empty: function (e) { var t; e = e.firstChild; while (e) { if (e.nodeName > "@" || (t = e.nodeType) === 3 || t === 4) return !1; e = e.nextSibling } return !0 }, header: function (e) { return X.test(e.nodeName) }, text: function (e) { var t, n; return e.nodeName.toLowerCase() === "input" && (t = e.type) === "text" && ((n = e.getAttribute("type")) == null || n.toLowerCase() === t) }, radio: rt("radio"), checkbox: rt("checkbox"), file: rt("file"), password: rt("password"), image: rt("image"), submit: it("submit"), reset: it("reset"), button: function (e) { var t = e.nodeName.toLowerCase(); return t === "input" && e.type === "button" || t === "button" }, input: function (e) { return V.test(e.nodeName) }, focus: function (e) { var t = e.ownerDocument; return e === t.activeElement && (!t.hasFocus || t.hasFocus()) && !!(e.type || e.href || ~e.tabIndex) }, active: function (e) { return e === e.ownerDocument.activeElement }, first: st(function () { return [0] }), last: st(function (e, t) { return [t - 1] }), eq: st(function (e, t, n) { return [n < 0 ? n + t : n] }), even: st(function (e, t) { for (var n = 0; n < t; n += 2)e.push(n); return e }), odd: st(function (e, t) { for (var n = 1; n < t; n += 2)e.push(n); return e }), lt: st(function (e, t, n) { for (var r = n < 0 ? n + t : n; --r >= 0;)e.push(r); return e }), gt: st(function (e, t, n) { for (var r = n < 0 ? n + t : n; ++r < t;)e.push(r); return e }) } }, f = y.compareDocumentPosition ? function (e, t) { return e === t ? (l = !0, 0) : (!e.compareDocumentPosition || !t.compareDocumentPosition ? e.compareDocumentPosition : e.compareDocumentPosition(t) & 4) ? -1 : 1 } : function (e, t) { if (e === t) return l = !0, 0; if (e.sourceIndex && t.sourceIndex) return e.sourceIndex - t.sourceIndex; var n, r, i = [], s = [], o = e.parentNode, u = t.parentNode, a = o; if (o === u) return ot(e, t); if (!o) return -1; if (!u) return 1; while (a) i.unshift(a), a = a.parentNode; a = u; while (a) s.unshift(a), a = a.parentNode; n = i.length, r = s.length; for (var f = 0; f < n && f < r; f++)if (i[f] !== s[f]) return ot(i[f], s[f]); return f === n ? ot(e, s[f], -1) : ot(i[f], t, 1) }, [0, 0].sort(f), h = !l, nt.uniqueSort = function (e) { var t, n = [], r = 1, i = 0; l = h, e.sort(f); if (l) { for (; t = e[r]; r++)t === e[r - 1] && (i = n.push(r)); while (i--) e.splice(n[i], 1) } return e }, nt.error = function (e) { throw new Error("Syntax error, unrecognized expression: " + e) }, a = nt.compile = function (e, t) { var n, r = [], i = [], s = A[d][e + " "]; if (!s) { t || (t = ut(e)), n = t.length; while (n--) s = ht(t[n]), s[d] ? r.push(s) : i.push(s); s = A(e, pt(i, r)) } return s }, g.querySelectorAll && function () { var e, t = vt, n = /'|\\/g, r = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g, i = [":focus"], s = [":active"], u = y.matchesSelector || y.mozMatchesSelector || y.webkitMatchesSelector || y.oMatchesSelector || y.msMatchesSelector; K(function (e) { e.innerHTML = "<select><option selected=''></option></select>", e.querySelectorAll("[selected]").length || i.push("\\[" + O + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)"), e.querySelectorAll(":checked").length || i.push(":checked") }), K(function (e) { e.innerHTML = "<p test=''></p>", e.querySelectorAll("[test^='']").length && i.push("[*^$]=" + O + "*(?:\"\"|'')"), e.innerHTML = "<input type='hidden'/>", e.querySelectorAll(":enabled").length || i.push(":enabled", ":disabled") }), i = new RegExp(i.join("|")), vt = function (e, r, s, o, u) { if (!o && !u && !i.test(e)) { var a, f, l = !0, c = d, h = r, p = r.nodeType === 9 && e; if (r.nodeType === 1 && r.nodeName.toLowerCase() !== "object") { a = ut(e), (l = r.getAttribute("id")) ? c = l.replace(n, "\\$&") : r.setAttribute("id", c), c = "[id='" + c + "'] ", f = a.length; while (f--) a[f] = c + a[f].join(""); h = z.test(e) && r.parentNode || r, p = a.join(",") } if (p) try { return S.apply(s, x.call(h.querySelectorAll(p), 0)), s } catch (v) { } finally { l || r.removeAttribute("id") } } return t(e, r, s, o, u) }, u && (K(function (t) { e = u.call(t, "div"); try { u.call(t, "[test!='']:sizzle"), s.push("!=", H) } catch (n) { } }), s = new RegExp(s.join("|")), nt.matchesSelector = function (t, n) { n = n.replace(r, "='$1']"); if (!o(t) && !s.test(n) && !i.test(n)) try { var a = u.call(t, n); if (a || e || t.document && t.document.nodeType !== 11) return a } catch (f) { } return nt(n, null, null, [t]).length > 0 }) }(), i.pseudos.nth = i.pseudos.eq, i.filters = mt.prototype = i.pseudos, i.setFilters = new mt, nt.attr = v.attr, v.find = nt, v.expr = nt.selectors, v.expr[":"] = v.expr.pseudos, v.unique = nt.uniqueSort, v.text = nt.getText, v.isXMLDoc = nt.isXML, v.contains = nt.contains }(e); var nt = /Until$/, rt = /^(?:parents|prev(?:Until|All))/, it = /^.[^:#\[\.,]*$/, st = v.expr.match.needsContext, ot = { children: !0, contents: !0, next: !0, prev: !0 }; v.fn.extend({ find: function (e) { var t, n, r, i, s, o, u = this; if (typeof e != "string") return v(e).filter(function () { for (t = 0, n = u.length; t < n; t++)if (v.contains(u[t], this)) return !0 }); o = this.pushStack("", "find", e); for (t = 0, n = this.length; t < n; t++) { r = o.length, v.find(e, this[t], o); if (t > 0) for (i = r; i < o.length; i++)for (s = 0; s < r; s++)if (o[s] === o[i]) { o.splice(i--, 1); break } } return o }, has: function (e) { var t, n = v(e, this), r = n.length; return this.filter(function () { for (t = 0; t < r; t++)if (v.contains(this, n[t])) return !0 }) }, not: function (e) { return this.pushStack(ft(this, e, !1), "not", e) }, filter: function (e) { return this.pushStack(ft(this, e, !0), "filter", e) }, is: function (e) { return !!e && (typeof e == "string" ? st.test(e) ? v(e, this.context).index(this[0]) >= 0 : v.filter(e, this).length > 0 : this.filter(e).length > 0) }, closest: function (e, t) { var n, r = 0, i = this.length, s = [], o = st.test(e) || typeof e != "string" ? v(e, t || this.context) : 0; for (; r < i; r++) { n = this[r]; while (n && n.ownerDocument && n !== t && n.nodeType !== 11) { if (o ? o.index(n) > -1 : v.find.matchesSelector(n, e)) { s.push(n); break } n = n.parentNode } } return s = s.length > 1 ? v.unique(s) : s, this.pushStack(s, "closest", e) }, index: function (e) { return e ? typeof e == "string" ? v.inArray(this[0], v(e)) : v.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.prevAll().length : -1 }, add: function (e, t) { var n = typeof e == "string" ? v(e, t) : v.makeArray(e && e.nodeType ? [e] : e), r = v.merge(this.get(), n); return this.pushStack(ut(n[0]) || ut(r[0]) ? r : v.unique(r)) }, addBack: function (e) { return this.add(e == null ? this.prevObject : this.prevObject.filter(e)) } }), v.fn.andSelf = v.fn.addBack, v.each({ parent: function (e) { var t = e.parentNode; return t && t.nodeType !== 11 ? t : null }, parents: function (e) { return v.dir(e, "parentNode") }, parentsUntil: function (e, t, n) { return v.dir(e, "parentNode", n) }, next: function (e) { return at(e, "nextSibling") }, prev: function (e) { return at(e, "previousSibling") }, nextAll: function (e) { return v.dir(e, "nextSibling") }, prevAll: function (e) { return v.dir(e, "previousSibling") }, nextUntil: function (e, t, n) { return v.dir(e, "nextSibling", n) }, prevUntil: function (e, t, n) { return v.dir(e, "previousSibling", n) }, siblings: function (e) { return v.sibling((e.parentNode || {}).firstChild, e) }, children: function (e) { return v.sibling(e.firstChild) }, contents: function (e) { return v.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : v.merge([], e.childNodes) } }, function (e, t) { v.fn[e] = function (n, r) { var i = v.map(this, t, n); return nt.test(e) || (r = n), r && typeof r == "string" && (i = v.filter(r, i)), i = this.length > 1 && !ot[e] ? v.unique(i) : i, this.length > 1 && rt.test(e) && (i = i.reverse()), this.pushStack(i, e, l.call(arguments).join(",")) } }), v.extend({ filter: function (e, t, n) { return n && (e = ":not(" + e + ")"), t.length === 1 ? v.find.matchesSelector(t[0], e) ? [t[0]] : [] : v.find.matches(e, t) }, dir: function (e, n, r) { var i = [], s = e[n]; while (s && s.nodeType !== 9 && (r === t || s.nodeType !== 1 || !v(s).is(r))) s.nodeType === 1 && i.push(s), s = s[n]; return i }, sibling: function (e, t) { var n = []; for (; e; e = e.nextSibling)e.nodeType === 1 && e !== t && n.push(e); return n } }); var ct = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video", ht = / jQuery\d+="(?:null|\d+)"/g, pt = /^\s+/, dt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, vt = /<([\w:]+)/, mt = /<tbody/i, gt = /<|&#?\w+;/, yt = /<(?:script|style|link)/i, bt = /<(?:script|object|embed|option|style)/i, wt = new RegExp("<(?:" + ct + ")[\\s/>]", "i"), Et = /^(?:checkbox|radio)$/, St = /checked\s*(?:[^=]|=\s*.checked.)/i, xt = /\/(java|ecma)script/i, Tt = /^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g, Nt = {
            option: [1, "<select multiple='multiple'>", "</select>"], legend: [1, "<fieldset>", "</fieldset>"], thead: [1, "<table>", "</table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"], area: [1, "<map>"
                , "</map>"], _default: [0, "", ""]
        }, Ct = lt(i), kt = Ct.appendChild(i.createElement("div")); Nt.optgroup = Nt.option, Nt.tbody = Nt.tfoot = Nt.colgroup = Nt.caption = Nt.thead, Nt.th = Nt.td, v.support.htmlSerialize || (Nt._default = [1, "X<div>", "</div>"]), v.fn.extend({ text: function (e) { return v.access(this, function (e) { return e === t ? v.text(this) : this.empty().append((this[0] && this[0].ownerDocument || i).createTextNode(e)) }, null, e, arguments.length) }, wrapAll: function (e) { if (v.isFunction(e)) return this.each(function (t) { v(this).wrapAll(e.call(this, t)) }); if (this[0]) { var t = v(e, this[0].ownerDocument).eq(0).clone(!0); this[0].parentNode && t.insertBefore(this[0]), t.map(function () { var e = this; while (e.firstChild && e.firstChild.nodeType === 1) e = e.firstChild; return e }).append(this) } return this }, wrapInner: function (e) { return v.isFunction(e) ? this.each(function (t) { v(this).wrapInner(e.call(this, t)) }) : this.each(function () { var t = v(this), n = t.contents(); n.length ? n.wrapAll(e) : t.append(e) }) }, wrap: function (e) { var t = v.isFunction(e); return this.each(function (n) { v(this).wrapAll(t ? e.call(this, n) : e) }) }, unwrap: function () { return this.parent().each(function () { v.nodeName(this, "body") || v(this).replaceWith(this.childNodes) }).end() }, append: function () { return this.domManip(arguments, !0, function (e) { (this.nodeType === 1 || this.nodeType === 11) && this.appendChild(e) }) }, prepend: function () { return this.domManip(arguments, !0, function (e) { (this.nodeType === 1 || this.nodeType === 11) && this.insertBefore(e, this.firstChild) }) }, before: function () { if (!ut(this[0])) return this.domManip(arguments, !1, function (e) { this.parentNode.insertBefore(e, this) }); if (arguments.length) { var e = v.clean(arguments); return this.pushStack(v.merge(e, this), "before", this.selector) } }, after: function () { if (!ut(this[0])) return this.domManip(arguments, !1, function (e) { this.parentNode.insertBefore(e, this.nextSibling) }); if (arguments.length) { var e = v.clean(arguments); return this.pushStack(v.merge(this, e), "after", this.selector) } }, remove: function (e, t) { var n, r = 0; for (; (n = this[r]) != null; r++)if (!e || v.filter(e, [n]).length) !t && n.nodeType === 1 && (v.cleanData(n.getElementsByTagName("*")), v.cleanData([n])), n.parentNode && n.parentNode.removeChild(n); return this }, empty: function () { var e, t = 0; for (; (e = this[t]) != null; t++) { e.nodeType === 1 && v.cleanData(e.getElementsByTagName("*")); while (e.firstChild) e.removeChild(e.firstChild) } return this }, clone: function (e, t) { return e = e == null ? !1 : e, t = t == null ? e : t, this.map(function () { return v.clone(this, e, t) }) }, html: function (e) { return v.access(this, function (e) { var n = this[0] || {}, r = 0, i = this.length; if (e === t) return n.nodeType === 1 ? n.innerHTML.replace(ht, "") : t; if (typeof e == "string" && !yt.test(e) && (v.support.htmlSerialize || !wt.test(e)) && (v.support.leadingWhitespace || !pt.test(e)) && !Nt[(vt.exec(e) || ["", ""])[1].toLowerCase()]) { e = e.replace(dt, "<$1></$2>"); try { for (; r < i; r++)n = this[r] || {}, n.nodeType === 1 && (v.cleanData(n.getElementsByTagName("*")), n.innerHTML = e); n = 0 } catch (s) { } } n && this.empty().append(e) }, null, e, arguments.length) }, replaceWith: function (e) { return ut(this[0]) ? this.length ? this.pushStack(v(v.isFunction(e) ? e() : e), "replaceWith", e) : this : v.isFunction(e) ? this.each(function (t) { var n = v(this), r = n.html(); n.replaceWith(e.call(this, t, r)) }) : (typeof e != "string" && (e = v(e).detach()), this.each(function () { var t = this.nextSibling, n = this.parentNode; v(this).remove(), t ? v(t).before(e) : v(n).append(e) })) }, detach: function (e) { return this.remove(e, !0) }, domManip: function (e, n, r) { e = [].concat.apply([], e); var i, s, o, u, a = 0, f = e[0], l = [], c = this.length; if (!v.support.checkClone && c > 1 && typeof f == "string" && St.test(f)) return this.each(function () { v(this).domManip(e, n, r) }); if (v.isFunction(f)) return this.each(function (i) { var s = v(this); e[0] = f.call(this, i, n ? s.html() : t), s.domManip(e, n, r) }); if (this[0]) { i = v.buildFragment(e, this, l), o = i.fragment, s = o.firstChild, o.childNodes.length === 1 && (o = s); if (s) { n = n && v.nodeName(s, "tr"); for (u = i.cacheable || c - 1; a < c; a++)r.call(n && v.nodeName(this[a], "table") ? Lt(this[a], "tbody") : this[a], a === u ? o : v.clone(o, !0, !0)) } o = s = null, l.length && v.each(l, function (e, t) { t.src ? v.ajax ? v.ajax({ url: t.src, type: "GET", dataType: "script", async: !1, global: !1, "throws": !0 }) : v.error("no ajax") : v.globalEval((t.text || t.textContent || t.innerHTML || "").replace(Tt, "")), t.parentNode && t.parentNode.removeChild(t) }) } return this } }), v.buildFragment = function (e, n, r) { var s, o, u, a = e[0]; return n = n || i, n = !n.nodeType && n[0] || n, n = n.ownerDocument || n, e.length === 1 && typeof a == "string" && a.length < 512 && n === i && a.charAt(0) === "<" && !bt.test(a) && (v.support.checkClone || !St.test(a)) && (v.support.html5Clone || !wt.test(a)) && (o = !0, s = v.fragments[a], u = s !== t), s || (s = n.createDocumentFragment(), v.clean(e, n, s, r), o && (v.fragments[a] = u && s)), { fragment: s, cacheable: o } }, v.fragments = {}, v.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (e, t) { v.fn[e] = function (n) { var r, i = 0, s = [], o = v(n), u = o.length, a = this.length === 1 && this[0].parentNode; if ((a == null || a && a.nodeType === 11 && a.childNodes.length === 1) && u === 1) return o[t](this[0]), this; for (; i < u; i++)r = (i > 0 ? this.clone(!0) : this).get(), v(o[i])[t](r), s = s.concat(r); return this.pushStack(s, e, o.selector) } }), v.extend({ clone: function (e, t, n) { var r, i, s, o; v.support.html5Clone || v.isXMLDoc(e) || !wt.test("<" + e.nodeName + ">") ? o = e.cloneNode(!0) : (kt.innerHTML = e.outerHTML, kt.removeChild(o = kt.firstChild)); if ((!v.support.noCloneEvent || !v.support.noCloneChecked) && (e.nodeType === 1 || e.nodeType === 11) && !v.isXMLDoc(e)) { Ot(e, o), r = Mt(e), i = Mt(o); for (s = 0; r[s]; ++s)i[s] && Ot(r[s], i[s]) } if (t) { At(e, o); if (n) { r = Mt(e), i = Mt(o); for (s = 0; r[s]; ++s)At(r[s], i[s]) } } return r = i = null, o }, clean: function (e, t, n, r) { var s, o, u, a, f, l, c, h, p, d, m, g, y = t === i && Ct, b = []; if (!t || typeof t.createDocumentFragment == "undefined") t = i; for (s = 0; (u = e[s]) != null; s++) { typeof u == "number" && (u += ""); if (!u) continue; if (typeof u == "string") if (!gt.test(u)) u = t.createTextNode(u); else { y = y || lt(t), c = t.createElement("div"), y.appendChild(c), u = u.replace(dt, "<$1></$2>"), a = (vt.exec(u) || ["", ""])[1].toLowerCase(), f = Nt[a] || Nt._default, l = f[0], c.innerHTML = f[1] + u + f[2]; while (l--) c = c.lastChild; if (!v.support.tbody) { h = mt.test(u), p = a === "table" && !h ? c.firstChild && c.firstChild.childNodes : f[1] === "<table>" && !h ? c.childNodes : []; for (o = p.length - 1; o >= 0; --o)v.nodeName(p[o], "tbody") && !p[o].childNodes.length && p[o].parentNode.removeChild(p[o]) } !v.support.leadingWhitespace && pt.test(u) && c.insertBefore(t.createTextNode(pt.exec(u)[0]), c.firstChild), u = c.childNodes, c.parentNode.removeChild(c) } u.nodeType ? b.push(u) : v.merge(b, u) } c && (u = c = y = null); if (!v.support.appendChecked) for (s = 0; (u = b[s]) != null; s++)v.nodeName(u, "input") ? _t(u) : typeof u.getElementsByTagName != "undefined" && v.grep(u.getElementsByTagName("input"), _t); if (n) { m = function (e) { if (!e.type || xt.test(e.type)) return r ? r.push(e.parentNode ? e.parentNode.removeChild(e) : e) : n.appendChild(e) }; for (s = 0; (u = b[s]) != null; s++)if (!v.nodeName(u, "script") || !m(u)) n.appendChild(u), typeof u.getElementsByTagName != "undefined" && (g = v.grep(v.merge([], u.getElementsByTagName("script")), m), b.splice.apply(b, [s + 1, 0].concat(g)), s += g.length) } return b }, cleanData: function (e, t) { var n, r, i, s, o = 0, u = v.expando, a = v.cache, f = v.support.deleteExpando, l = v.event.special; for (; (i = e[o]) != null; o++)if (t || v.acceptData(i)) { r = i[u], n = r && a[r]; if (n) { if (n.events) for (s in n.events) l[s] ? v.event.remove(i, s) : v.removeEvent(i, s, n.handle); a[r] && (delete a[r], f ? delete i[u] : i.removeAttribute ? i.removeAttribute(u) : i[u] = null, v.deletedIds.push(r)) } } } }), function () { var e, t; v.uaMatch = function (e) { e = e.toLowerCase(); var t = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || []; return { browser: t[1] || "", version: t[2] || "0" } }, e = v.uaMatch(o.userAgent), t = {}, e.browser && (t[e.browser] = !0, t.version = e.version), t.chrome ? t.webkit = !0 : t.webkit && (t.safari = !0), v.browser = t, v.sub = function () { function e(t, n) { return new e.fn.init(t, n) } v.extend(!0, e, this), e.superclass = this, e.fn = e.prototype = this(), e.fn.constructor = e, e.sub = this.sub, e.fn.init = function (r, i) { return i && i instanceof v && !(i instanceof e) && (i = e(i)), v.fn.init.call(this, r, i, t) }, e.fn.init.prototype = e.fn; var t = e(i); return e } }(); var Dt, Pt, Ht, Bt = /alpha\([^)]*\)/i, jt = /opacity=([^)]*)/, Ft = /^(top|right|bottom|left)$/, It = /^(none|table(?!-c[ea]).+)/, qt = /^margin/, Rt = new RegExp("^(" + m + ")(.*)$", "i"), Ut = new RegExp("^(" + m + ")(?!px)[a-z%]+$", "i"), zt = new RegExp("^([-+])=(" + m + ")", "i"), Wt = { BODY: "block" }, Xt = { position: "absolute", visibility: "hidden", display: "block" }, Vt = { letterSpacing: 0, fontWeight: 400 }, $t = ["Top", "Right", "Bottom", "Left"], Jt = ["Webkit", "O", "Moz", "ms"], Kt = v.fn.toggle; v.fn.extend({ css: function (e, n) { return v.access(this, function (e, n, r) { return r !== t ? v.style(e, n, r) : v.css(e, n) }, e, n, arguments.length > 1) }, show: function () { return Yt(this, !0) }, hide: function () { return Yt(this) }, toggle: function (e, t) { var n = typeof e == "boolean"; return v.isFunction(e) && v.isFunction(t) ? Kt.apply(this, arguments) : this.each(function () { (n ? e : Gt(this)) ? v(this).show() : v(this).hide() }) } }), v.extend({ cssHooks: { opacity: { get: function (e, t) { if (t) { var n = Dt(e, "opacity"); return n === "" ? "1" : n } } } }, cssNumber: { fillOpacity: !0, fontWeight: !0, lineHeight: !0, opacity: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { "float": v.support.cssFloat ? "cssFloat" : "styleFloat" }, style: function (e, n, r, i) { if (!e || e.nodeType === 3 || e.nodeType === 8 || !e.style) return; var s, o, u, a = v.camelCase(n), f = e.style; n = v.cssProps[a] || (v.cssProps[a] = Qt(f, a)), u = v.cssHooks[n] || v.cssHooks[a]; if (r === t) return u && "get" in u && (s = u.get(e, !1, i)) !== t ? s : f[n]; o = typeof r, o === "string" && (s = zt.exec(r)) && (r = (s[1] + 1) * s[2] + parseFloat(v.css(e, n)), o = "number"); if (r == null || o === "number" && isNaN(r)) return; o === "number" && !v.cssNumber[a] && (r += "px"); if (!u || !("set" in u) || (r = u.set(e, r, i)) !== t) try { f[n] = r } catch (l) { } }, css: function (e, n, r, i) { var s, o, u, a = v.camelCase(n); return n = v.cssProps[a] || (v.cssProps[a] = Qt(e.style, a)), u = v.cssHooks[n] || v.cssHooks[a], u && "get" in u && (s = u.get(e, !0, i)), s === t && (s = Dt(e, n)), s === "normal" && n in Vt && (s = Vt[n]), r || i !== t ? (o = parseFloat(s), r || v.isNumeric(o) ? o || 0 : s) : s }, swap: function (e, t, n) { var r, i, s = {}; for (i in t) s[i] = e.style[i], e.style[i] = t[i]; r = n.call(e); for (i in t) e.style[i] = s[i]; return r } }), e.getComputedStyle ? Dt = function (t, n) { var r, i, s, o, u = e.getComputedStyle(t, null), a = t.style; return u && (r = u.getPropertyValue(n) || u[n], r === "" && !v.contains(t.ownerDocument, t) && (r = v.style(t, n)), Ut.test(r) && qt.test(n) && (i = a.width, s = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = r, r = u.width, a.width = i, a.minWidth = s, a.maxWidth = o)), r } : i.documentElement.currentStyle && (Dt = function (e, t) { var n, r, i = e.currentStyle && e.currentStyle[t], s = e.style; return i == null && s && s[t] && (i = s[t]), Ut.test(i) && !Ft.test(t) && (n = s.left, r = e.runtimeStyle && e.runtimeStyle.left, r && (e.runtimeStyle.left = e.currentStyle.left), s.left = t === "fontSize" ? "1em" : i, i = s.pixelLeft + "px", s.left = n, r && (e.runtimeStyle.left = r)), i === "" ? "auto" : i }), v.each(["height", "width"], function (e, t) { v.cssHooks[t] = { get: function (e, n, r) { if (n) return e.offsetWidth === 0 && It.test(Dt(e, "display")) ? v.swap(e, Xt, function () { return tn(e, t, r) }) : tn(e, t, r) }, set: function (e, n, r) { return Zt(e, n, r ? en(e, t, r, v.support.boxSizing && v.css(e, "boxSizing") === "border-box") : 0) } } }), v.support.opacity || (v.cssHooks.opacity = { get: function (e, t) { return jt.test((t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : "" }, set: function (e, t) { var n = e.style, r = e.currentStyle, i = v.isNumeric(t) ? "alpha(opacity=" + t * 100 + ")" : "", s = r && r.filter || n.filter || ""; n.zoom = 1; if (t >= 1 && v.trim(s.replace(Bt, "")) === "" && n.removeAttribute) { n.removeAttribute("filter"); if (r && !r.filter) return } n.filter = Bt.test(s) ? s.replace(Bt, i) : s + " " + i } }), v(function () { v.support.reliableMarginRight || (v.cssHooks.marginRight = { get: function (e, t) { return v.swap(e, { display: "inline-block" }, function () { if (t) return Dt(e, "marginRight") }) } }), !v.support.pixelPosition && v.fn.position && v.each(["top", "left"], function (e, t) { v.cssHooks[t] = { get: function (e, n) { if (n) { var r = Dt(e, t); return Ut.test(r) ? v(e).position()[t] + "px" : r } } } }) }), v.expr && v.expr.filters && (v.expr.filters.hidden = function (e) { return e.offsetWidth === 0 && e.offsetHeight === 0 || !v.support.reliableHiddenOffsets && (e.style && e.style.display || Dt(e, "display")) === "none" }, v.expr.filters.visible = function (e) { return !v.expr.filters.hidden(e) }), v.each({ margin: "", padding: "", border: "Width" }, function (e, t) { v.cssHooks[e + t] = { expand: function (n) { var r, i = typeof n == "string" ? n.split(" ") : [n], s = {}; for (r = 0; r < 4; r++)s[e + $t[r] + t] = i[r] || i[r - 2] || i[0]; return s } }, qt.test(e) || (v.cssHooks[e + t].set = Zt) }); var rn = /%20/g, sn = /\[\]$/, on = /\r?\n/g, un = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, an = /^(?:select|textarea)/i; v.fn.extend({ serialize: function () { return v.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { return this.elements ? v.makeArray(this.elements) : this }).filter(function () { return this.name && !this.disabled && (this.checked || an.test(this.nodeName) || un.test(this.type)) }).map(function (e, t) { var n = v(this).val(); return n == null ? null : v.isArray(n) ? v.map(n, function (e, n) { return { name: t.name, value: e.replace(on, "\r\n") } }) : { name: t.name, value: n.replace(on, "\r\n") } }).get() } }), v.param = function (e, n) { var r, i = [], s = function (e, t) { t = v.isFunction(t) ? t() : t == null ? "" : t, i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t) }; n === t && (n = v.ajaxSettings && v.ajaxSettings.traditional); if (v.isArray(e) || e.jquery && !v.isPlainObject(e)) v.each(e, function () { s(this.name, this.value) }); else for (r in e) fn(r, e[r], n, s); return i.join("&").replace(rn, "+") }; var ln, cn, hn = /#.*$/, pn = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, dn = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/, vn = /^(?:GET|HEAD)$/, mn = /^\/\//, gn = /\?/, yn = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, bn = /([?&])_=[^&]*/, wn = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/, En = v.fn.load, Sn = {}, xn = {}, Tn = ["*/"] + ["*"]; try { cn = s.href } catch (Nn) { cn = i.createElement("a"), cn.href = "", cn = cn.href } ln = wn.exec(cn.toLowerCase()) || [], v.fn.load = function (e, n, r) { if (typeof e != "string" && En) return En.apply(this, arguments); if (!this.length) return this; var i, s, o, u = this, a = e.indexOf(" "); return a >= 0 && (i = e.slice(a, e.length), e = e.slice(0, a)), v.isFunction(n) ? (r = n, n = t) : n && typeof n == "object" && (s = "POST"), v.ajax({ url: e, type: s, dataType: "html", data: n, complete: function (e, t) { r && u.each(r, o || [e.responseText, t, e]) } }).done(function (e) { o = arguments, u.html(i ? v("<div>").append(e.replace(yn, "")).find(i) : e) }), this }, v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function (e, t) { v.fn[t] = function (e) { return this.on(t, e) } }), v.each(["get", "post"], function (e, n) { v[n] = function (e, r, i, s) { return v.isFunction(r) && (s = s || i, i = r, r = t), v.ajax({ type: n, url: e, data: r, success: i, dataType: s }) } }), v.extend({ getScript: function (e, n) { return v.get(e, t, n, "script") }, getJSON: function (e, t, n) { return v.get(e, t, n, "json") }, ajaxSetup: function (e, t) { return t ? Ln(e, v.ajaxSettings) : (t = e, e = v.ajaxSettings), Ln(e, t), e }, ajaxSettings: { url: cn, isLocal: dn.test(ln[1]), global: !0, type: "GET", contentType: "application/x-www-form-urlencoded; charset=UTF-8", processData: !0, async: !0, accepts: { xml: "application/xml, text/xml", html: "text/html", text: "text/plain", json: "application/json, text/javascript", "*": Tn }, contents: { xml: /xml/, html: /html/, json: /json/ }, responseFields: { xml: "responseXML", text: "responseText" }, converters: { "* text": e.String, "text html": !0, "text json": v.parseJSON, "text xml": v.parseXML }, flatOptions: { context: !0, url: !0 } }, ajaxPrefilter: Cn(Sn), ajaxTransport: Cn(xn), ajax: function (e, n) { function T(e, n, s, a) { var l, y, b, w, S, T = n; if (E === 2) return; E = 2, u && clearTimeout(u), o = t, i = a || "", x.readyState = e > 0 ? 4 : 0, s && (w = An(c, x, s)); if (e >= 200 && e < 300 || e === 304) c.ifModified && (S = x.getResponseHeader("Last-Modified"), S && (v.lastModified[r] = S), S = x.getResponseHeader("Etag"), S && (v.etag[r] = S)), e === 304 ? (T = "notmodified", l = !0) : (l = On(c, w), T = l.state, y = l.data, b = l.error, l = !b); else { b = T; if (!T || e) T = "error", e < 0 && (e = 0) } x.status = e, x.statusText = (n || T) + "", l ? d.resolveWith(h, [y, T, x]) : d.rejectWith(h, [x, T, b]), x.statusCode(g), g = t, f && p.trigger("ajax" + (l ? "Success" : "Error"), [x, c, l ? y : b]), m.fireWith(h, [x, T]), f && (p.trigger("ajaxComplete", [x, c]), --v.active || v.event.trigger("ajaxStop")) } typeof e == "object" && (n = e, e = t), n = n || {}; var r, i, s, o, u, a, f, l, c = v.ajaxSetup({}, n), h = c.context || c, p = h !== c && (h.nodeType || h instanceof v) ? v(h) : v.event, d = v.Deferred(), m = v.Callbacks("once memory"), g = c.statusCode || {}, b = {}, w = {}, E = 0, S = "canceled", x = { readyState: 0, setRequestHeader: function (e, t) { if (!E) { var n = e.toLowerCase(); e = w[n] = w[n] || e, b[e] = t } return this }, getAllResponseHeaders: function () { return E === 2 ? i : null }, getResponseHeader: function (e) { var n; if (E === 2) { if (!s) { s = {}; while (n = pn.exec(i)) s[n[1].toLowerCase()] = n[2] } n = s[e.toLowerCase()] } return n === t ? null : n }, overrideMimeType: function (e) { return E || (c.mimeType = e), this }, abort: function (e) { return e = e || S, o && o.abort(e), T(0, e), this } }; d.promise(x), x.success = x.done, x.error = x.fail, x.complete = m.add, x.statusCode = function (e) { if (e) { var t; if (E < 2) for (t in e) g[t] = [g[t], e[t]]; else t = e[x.status], x.always(t) } return this }, c.url = ((e || c.url) + "").replace(hn, "").replace(mn, ln[1] + "//"), c.dataTypes = v.trim(c.dataType || "*").toLowerCase().split(y), c.crossDomain == null && (a = wn.exec(c.url.toLowerCase()), c.crossDomain = !(!a || a[1] === ln[1] && a[2] === ln[2] && (a[3] || (a[1] === "http:" ? 80 : 443)) == (ln[3] || (ln[1] === "http:" ? 80 : 443)))), c.data && c.processData && typeof c.data != "string" && (c.data = v.param(c.data, c.traditional)), kn(Sn, c, n, x); if (E === 2) return x; f = c.global, c.type = c.type.toUpperCase(), c.hasContent = !vn.test(c.type), f && v.active++ === 0 && v.event.trigger("ajaxStart"); if (!c.hasContent) { c.data && (c.url += (gn.test(c.url) ? "&" : "?") + c.data, delete c.data), r = c.url; if (c.cache === !1) { var N = v.now(), C = c.url.replace(bn, "$1_=" + N); c.url = C + (C === c.url ? (gn.test(c.url) ? "&" : "?") + "_=" + N : "") } } (c.data && c.hasContent && c.contentType !== !1 || n.contentType) && x.setRequestHeader("Content-Type", c.contentType), c.ifModified && (r = r || c.url, v.lastModified[r] && x.setRequestHeader("If-Modified-Since", v.lastModified[r]), v.etag[r] && x.setRequestHeader("If-None-Match", v.etag[r])), x.setRequestHeader("Accept", c.dataTypes[0] && c.accepts[c.dataTypes[0]] ? c.accepts[c.dataTypes[0]] + (c.dataTypes[0] !== "*" ? ", " + Tn + "; q=0.01" : "") : c.accepts["*"]); for (l in c.headers) x.setRequestHeader(l, c.headers[l]); if (!c.beforeSend || c.beforeSend.call(h, x, c) !== !1 && E !== 2) { S = "abort"; for (l in { success: 1, error: 1, complete: 1 }) x[l](c[l]); o = kn(xn, c, n, x); if (!o) T(-1, "No Transport"); else { x.readyState = 1, f && p.trigger("ajaxSend", [x, c]), c.async && c.timeout > 0 && (u = setTimeout(function () { x.abort("timeout") }, c.timeout)); try { E = 1, o.send(b, T) } catch (k) { if (!(E < 2)) throw k; T(-1, k) } } return x } return x.abort() }, active: 0, lastModified: {}, etag: {} }); var Mn = [], _n = /\?/, Dn = /(=)\?(?=&|$)|\?\?/, Pn = v.now(); v.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var e = Mn.pop() || v.expando + "_" + Pn++; return this[e] = !0, e } }), v.ajaxPrefilter("json jsonp", function (n, r, i) { var s, o, u, a = n.data, f = n.url, l = n.jsonp !== !1, c = l && Dn.test(f), h = l && !c && typeof a == "string" && !(n.contentType || "").indexOf("application/x-www-form-urlencoded") && Dn.test(a); if (n.dataTypes[0] === "jsonp" || c || h) return s = n.jsonpCallback = v.isFunction(n.jsonpCallback) ? n.jsonpCallback() : n.jsonpCallback, o = e[s], c ? n.url = f.replace(Dn, "$1" + s) : h ? n.data = a.replace(Dn, "$1" + s) : l && (n.url += (_n.test(f) ? "&" : "?") + n.jsonp + "=" + s), n.converters["script json"] = function () { return u || v.error(s + " was not called"), u[0] }, n.dataTypes[0] = "json", e[s] = function () { u = arguments }, i.always(function () { e[s] = o, n[s] && (n.jsonpCallback = r.jsonpCallback, Mn.push(s)), u && v.isFunction(o) && o(u[0]), u = o = t }), "script" }), v.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /javascript|ecmascript/ }, converters: { "text script": function (e) { return v.globalEval(e), e } } }), v.ajaxPrefilter("script", function (e) { e.cache === t && (e.cache = !1), e.crossDomain && (e.type = "GET", e.global = !1) }), v.ajaxTransport("script", function (e) { if (e.crossDomain) { var n, r = i.head || i.getElementsByTagName("head")[0] || i.documentElement; return { send: function (s, o) { n = i.createElement("script"), n.async = "async", e.scriptCharset && (n.charset = e.scriptCharset), n.src = e.url, n.onload = n.onreadystatechange = function (e, i) { if (i || !n.readyState || /loaded|complete/.test(n.readyState)) n.onload = n.onreadystatechange = null, r && n.parentNode && r.removeChild(n), n = t, i || o(200, "success") }, r.insertBefore(n, r.firstChild) }, abort: function () { n && n.onload(0, 1) } } } }); var Hn, Bn = e.ActiveXObject ? function () { for (var e in Hn) Hn[e](0, 1) } : !1, jn = 0; v.ajaxSettings.xhr = e.ActiveXObject ? function () { return !this.isLocal && Fn() || In() } : Fn, function (e) { v.extend(v.support, { ajax: !!e, cors: !!e && "withCredentials" in e }) }(v.ajaxSettings.xhr()), v.support.ajax && v.ajaxTransport(function (n) { if (!n.crossDomain || v.support.cors) { var r; return { send: function (i, s) { var o, u, a = n.xhr(); n.username ? a.open(n.type, n.url, n.async, n.username, n.password) : a.open(n.type, n.url, n.async); if (n.xhrFields) for (u in n.xhrFields) a[u] = n.xhrFields[u]; n.mimeType && a.overrideMimeType && a.overrideMimeType(n.mimeType), !n.crossDomain && !i["X-Requested-With"] && (i["X-Requested-With"] = "XMLHttpRequest"); try { for (u in i) a.setRequestHeader(u, i[u]) } catch (f) { } a.send(n.hasContent && n.data || null), r = function (e, i) { var u, f, l, c, h; try { if (r && (i || a.readyState === 4)) { r = t, o && (a.onreadystatechange = v.noop, Bn && delete Hn[o]); if (i) a.readyState !== 4 && a.abort(); else { u = a.status, l = a.getAllResponseHeaders(), c = {}, h = a.responseXML, h && h.documentElement && (c.xml = h); try { c.text = a.responseText } catch (p) { } try { f = a.statusText } catch (p) { f = "" } !u && n.isLocal && !n.crossDomain ? u = c.text ? 200 : 404 : u === 1223 && (u = 204) } } } catch (d) { i || s(-1, d) } c && s(u, f, c, l) }, n.async ? a.readyState === 4 ? setTimeout(r, 0) : (o = ++jn, Bn && (Hn || (Hn = {}, v(e).unload(Bn)), Hn[o] = r), a.onreadystatechange = r) : r() }, abort: function () { r && r(0, 1) } } } }); var qn, Rn, Un = /^(?:toggle|show|hide)$/, zn = new RegExp("^(?:([-+])=|)(" + m + ")([a-z%]*)$", "i"), Wn = /queueHooks$/, Xn = [Gn], Vn = { "*": [function (e, t) { var n, r, i = this.createTween(e, t), s = zn.exec(t), o = i.cur(), u = +o || 0, a = 1, f = 20; if (s) { n = +s[2], r = s[3] || (v.cssNumber[e] ? "" : "px"); if (r !== "px" && u) { u = v.css(i.elem, e, !0) || n || 1; do a = a || ".5", u /= a, v.style(i.elem, e, u + r); while (a !== (a = i.cur() / o) && a !== 1 && --f) } i.unit = r, i.start = u, i.end = s[1] ? u + (s[1] + 1) * n : n } return i }] }; v.Animation = v.extend(Kn, { tweener: function (e, t) { v.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" "); var n, r = 0, i = e.length; for (; r < i; r++)n = e[r], Vn[n] = Vn[n] || [], Vn[n].unshift(t) }, prefilter: function (e, t) { t ? Xn.unshift(e) : Xn.push(e) } }), v.Tween = Yn, Yn.prototype = { constructor: Yn, init: function (e, t, n, r, i, s) { this.elem = e, this.prop = n, this.easing = i || "swing", this.options = t, this.start = this.now = this.cur(), this.end = r, this.unit = s || (v.cssNumber[n] ? "" : "px") }, cur: function () { var e = Yn.propHooks[this.prop]; return e && e.get ? e.get(this) : Yn.propHooks._default.get(this) }, run: function (e) { var t, n = Yn.propHooks[this.prop]; return this.options.duration ? this.pos = t = v.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : Yn.propHooks._default.set(this), this } }, Yn.prototype.init.prototype = Yn.prototype, Yn.propHooks = { _default: { get: function (e) { var t; return e.elem[e.prop] == null || !!e.elem.style && e.elem.style[e.prop] != null ? (t = v.css(e.elem, e.prop, !1, ""), !t || t === "auto" ? 0 : t) : e.elem[e.prop] }, set: function (e) { v.fx.step[e.prop] ? v.fx.step[e.prop](e) : e.elem.style && (e.elem.style[v.cssProps[e.prop]] != null || v.cssHooks[e.prop]) ? v.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now } } }, Yn.propHooks.scrollTop = Yn.propHooks.scrollLeft = { set: function (e) { e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now) } }, v.each(["toggle", "show", "hide"], function (e, t) { var n = v.fn[t]; v.fn[t] = function (r, i, s) { return r == null || typeof r == "boolean" || !e && v.isFunction(r) && v.isFunction(i) ? n.apply(this, arguments) : this.animate(Zn(t, !0), r, i, s) } }), v.fn.extend({ fadeTo: function (e, t, n, r) { return this.filter(Gt).css("opacity", 0).show().end().animate({ opacity: t }, e, n, r) }, animate: function (e, t, n, r) { var i = v.isEmptyObject(e), s = v.speed(t, n, r), o = function () { var t = Kn(this, v.extend({}, e), s); i && t.stop(!0) }; return i || s.queue === !1 ? this.each(o) : this.queue(s.queue, o) }, stop: function (e, n, r) { var i = function (e) { var t = e.stop; delete e.stop, t(r) }; return typeof e != "string" && (r = n, n = e, e = t), n && e !== !1 && this.queue(e || "fx", []), this.each(function () { var t = !0, n = e != null && e + "queueHooks", s = v.timers, o = v._data(this); if (n) o[n] && o[n].stop && i(o[n]); else for (n in o) o[n] && o[n].stop && Wn.test(n) && i(o[n]); for (n = s.length; n--;)s[n].elem === this && (e == null || s[n].queue === e) && (s[n].anim.stop(r), t = !1, s.splice(n, 1)); (t || !r) && v.dequeue(this, e) }) } }), v.each({ slideDown: Zn("show"), slideUp: Zn("hide"), slideToggle: Zn("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (e, t) { v.fn[e] = function (e, n, r) { return this.animate(t, e, n, r) } }), v.speed = function (e, t, n) { var r = e && typeof e == "object" ? v.extend({}, e) : { complete: n || !n && t || v.isFunction(e) && e, duration: e, easing: n && t || t && !v.isFunction(t) && t }; r.duration = v.fx.off ? 0 : typeof r.duration == "number" ? r.duration : r.duration in v.fx.speeds ? v.fx.speeds[r.duration] : v.fx.speeds._default; if (r.queue == null || r.queue === !0) r.queue = "fx"; return r.old = r.complete, r.complete = function () { v.isFunction(r.old) && r.old.call(this), r.queue && v.dequeue(this, r.queue) }, r }, v.easing = { linear: function (e) { return e }, swing: function (e) { return .5 - Math.cos(e * Math.PI) / 2 } }, v.timers = [], v.fx = Yn.prototype.init, v.fx.tick = function () { var e, n = v.timers, r = 0; qn = v.now(); for (; r < n.length; r++)e = n[r], !e() && n[r] === e && n.splice(r--, 1); n.length || v.fx.stop(), qn = t }, v.fx.timer = function (e) { e() && v.timers.push(e) && !Rn && (Rn = setInterval(v.fx.tick, v.fx.interval)) }, v.fx.interval = 13, v.fx.stop = function () { clearInterval(Rn), Rn = null }, v.fx.speeds = { slow: 600, fast: 200, _default: 400 }, v.fx.step = {}, v.expr && v.expr.filters && (v.expr.filters.animated = function (e) { return v.grep(v.timers, function (t) { return e === t.elem }).length }); var er = /^(?:body|html)$/i; v.fn.offset = function (e) { if (arguments.length) return e === t ? this : this.each(function (t) { v.offset.setOffset(this, e, t) }); var n, r, i, s, o, u, a, f = { top: 0, left: 0 }, l = this[0], c = l && l.ownerDocument; if (!c) return; return (r = c.body) === l ? v.offset.bodyOffset(l) : (n = c.documentElement, v.contains(n, l) ? (typeof l.getBoundingClientRect != "undefined" && (f = l.getBoundingClientRect()), i = tr(c), s = n.clientTop || r.clientTop || 0, o = n.clientLeft || r.clientLeft || 0, u = i.pageYOffset || n.scrollTop, a = i.pageXOffset || n.scrollLeft, { top: f.top + u - s, left: f.left + a - o }) : f) }, v.offset = { bodyOffset: function (e) { var t = e.offsetTop, n = e.offsetLeft; return v.support.doesNotIncludeMarginInBodyOffset && (t += parseFloat(v.css(e, "marginTop")) || 0, n += parseFloat(v.css(e, "marginLeft")) || 0), { top: t, left: n } }, setOffset: function (e, t, n) { var r = v.css(e, "position"); r === "static" && (e.style.position = "relative"); var i = v(e), s = i.offset(), o = v.css(e, "top"), u = v.css(e, "left"), a = (r === "absolute" || r === "fixed") && v.inArray("auto", [o, u]) > -1, f = {}, l = {}, c, h; a ? (l = i.position(), c = l.top, h = l.left) : (c = parseFloat(o) || 0, h = parseFloat(u) || 0), v.isFunction(t) && (t = t.call(e, n, s)), t.top != null && (f.top = t.top - s.top + c), t.left != null && (f.left = t.left - s.left + h), "using" in t ? t.using.call(e, f) : i.css(f) } }, v.fn.extend({ position: function () { if (!this[0]) return; var e = this[0], t = this.offsetParent(), n = this.offset(), r = er.test(t[0].nodeName) ? { top: 0, left: 0 } : t.offset(); return n.top -= parseFloat(v.css(e, "marginTop")) || 0, n.left -= parseFloat(v.css(e, "marginLeft")) || 0, r.top += parseFloat(v.css(t[0], "borderTopWidth")) || 0, r.left += parseFloat(v.css(t[0], "borderLeftWidth")) || 0, { top: n.top - r.top, left: n.left - r.left } }, offsetParent: function () { return this.map(function () { var e = this.offsetParent || i.body; while (e && !er.test(e.nodeName) && v.css(e, "position") === "static") e = e.offsetParent; return e || i.body }) } }), v.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (e, n) { var r = /Y/.test(n); v.fn[e] = function (i) { return v.access(this, function (e, i, s) { var o = tr(e); if (s === t) return o ? n in o ? o[n] : o.document.documentElement[i] : e[i]; o ? o.scrollTo(r ? v(o).scrollLeft() : s, r ? s : v(o).scrollTop()) : e[i] = s }, e, i, arguments.length, null) } }), v.each({ Height: "height", Width: "width" }, function (e, n) { v.each({ padding: "inner" + e, content: n, "": "outer" + e }, function (r, i) { v.fn[i] = function (i, s) { var o = arguments.length && (r || typeof i != "boolean"), u = r || (i === !0 || s === !0 ? "margin" : "border"); return v.access(this, function (n, r, i) { var s; return v.isWindow(n) ? n.document.documentElement["client" + e] : n.nodeType === 9 ? (s = n.documentElement, Math.max(n.body["scroll" + e], s["scroll" + e], n.body["offset" + e], s["offset" + e], s["client" + e])) : i === t ? v.css(n, r, i, u) : v.style(n, r, i, u) }, n, o ? i : t, o, null) } }) }), e.jQuery = e.$ = v, typeof define == "function" && define.amd && define.amd.jQuery && define("jquery", [], function () { return v })
})(window), function (e, t) {
    var n = function () { var t = e._data(document, "events"); return t && t.click && e.grep(t.click, function (e) { return e.namespace === "rails" }).length }; n() && e.error("jquery-ujs has already been loaded!"); var r; e.rails = r = { linkClickSelector: "a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]", inputChangeSelector: "select[data-remote], input[data-remote], textarea[data-remote]", formSubmitSelector: "form", formInputClickSelector: "form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])", disableSelector: "input[data-disable-with], button[data-disable-with], textarea[data-disable-with]", enableSelector: "input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled", requiredInputSelector: "input[name][required]:not([disabled]),textarea[name][required]:not([disabled])", fileInputSelector: "input:file", linkDisableSelector: "a[data-disable-with]", CSRFProtection: function (t) { var n = e('meta[name="csrf-token"]').attr("content"); n && t.setRequestHeader("X-CSRF-Token", n) }, fire: function (t, n, r) { var i = e.Event(n); return t.trigger(i, r), i.result !== !1 }, confirm: function (e) { return confirm(e) }, ajax: function (t) { return e.ajax(t) }, href: function (e) { return e.attr("href") }, handleRemote: function (n) { var i, s, o, u, a, f, l, c; if (r.fire(n, "ajax:before")) { u = n.data("cross-domain"), a = u === t ? null : u, f = n.data("with-credentials") || null, l = n.data("type") || e.ajaxSettings && e.ajaxSettings.dataType; if (n.is("form")) { i = n.attr("method"), s = n.attr("action"), o = n.serializeArray(); var h = n.data("ujs:submit-button"); h && (o.push(h), n.data("ujs:submit-button", null)) } else n.is(r.inputChangeSelector) ? (i = n.data("method"), s = n.data("url"), o = n.serialize(), n.data("params") && (o = o + "&" + n.data("params"))) : (i = n.data("method"), s = r.href(n), o = n.data("params") || null); c = { type: i || "GET", data: o, dataType: l, beforeSend: function (e, i) { return i.dataType === t && e.setRequestHeader("accept", "*/*;q=0.5, " + i.accepts.script), r.fire(n, "ajax:beforeSend", [e, i]) }, success: function (e, t, r) { n.trigger("ajax:success", [e, t, r]) }, complete: function (e, t) { n.trigger("ajax:complete", [e, t]) }, error: function (e, t, r) { n.trigger("ajax:error", [e, t, r]) }, xhrFields: { withCredentials: f }, crossDomain: a }, s && (c.url = s); var p = r.ajax(c); return n.trigger("ajax:send", p), p } return !1 }, handleMethod: function (n) { var i = r.href(n), s = n.data("method"), o = n.attr("target"), u = e("meta[name=csrf-token]").attr("content"), a = e("meta[name=csrf-param]").attr("content"), f = e('<form method="post" action="' + i + '"></form>'), l = '<input name="_method" value="' + s + '" type="hidden" />'; a !== t && u !== t && (l += '<input name="' + a + '" value="' + u + '" type="hidden" />'), o && f.attr("target", o), f.hide().append(l).appendTo("body"), f.submit() }, disableFormElements: function (t) { t.find(r.disableSelector).each(function () { var t = e(this), n = t.is("button") ? "html" : "val"; t.data("ujs:enable-with", t[n]()), t[n](t.data("disable-with")), t.prop("disabled", !0) }) }, enableFormElements: function (t) { t.find(r.enableSelector).each(function () { var t = e(this), n = t.is("button") ? "html" : "val"; t.data("ujs:enable-with") && t[n](t.data("ujs:enable-with")), t.prop("disabled", !1) }) }, allowAction: function (e) { var t = e.data("confirm"), n = !1, i; return t ? (r.fire(e, "confirm") && (n = r.confirm(t), i = r.fire(e, "confirm:complete", [n])), n && i) : !0 }, blankInputs: function (t, n, r) { var i = e(), s, o, u = n || "input,textarea", a = t.find(u); return a.each(function () { s = e(this), o = s.is(":checkbox,:radio") ? s.is(":checked") : s.val(); if (!o == !r) { if (s.is(":radio") && a.filter('input:radio:checked[name="' + s.attr("name") + '"]').length) return !0; i = i.add(s) } }), i.length ? i : !1 }, nonBlankInputs: function (e, t) { return r.blankInputs(e, t, !0) }, stopEverything: function (t) { return e(t.target).trigger("ujs:everythingStopped"), t.stopImmediatePropagation(), !1 }, callFormSubmitBindings: function (n, r) { var i = n.data("events"), s = !0; return i !== t && i.submit !== t && e.each(i.submit, function (e, t) { if (typeof t.handler == "function") return s = t.handler(r) }), s }, disableElement: function (e) { e.data("ujs:enable-with", e.html()), e.html(e.data("disable-with")), e.bind("click.railsDisable", function (e) { return r.stopEverything(e) }) }, enableElement: function (e) { e.data("ujs:enable-with") !== t && (e.html(e.data("ujs:enable-with")), e.data("ujs:enable-with", !1)), e.unbind("click.railsDisable") } }, r.fire(e(document), "rails:attachBindings") && (e.ajaxPrefilter(function (e, t, n) { e.crossDomain || r.CSRFProtection(n) }), e(document).delegate(r.linkDisableSelector, "ajax:complete", function () { r.enableElement(e(this)) }), e(document).delegate
        (r.linkClickSelector, "click.rails", function (n) { var i = e(this), s = i.data("method"), o = i.data("params"); if (!r.allowAction(i)) return r.stopEverything(n); i.is(r.linkDisableSelector) && r.disableElement(i); if (i.data("remote") !== t) { if ((n.metaKey || n.ctrlKey) && (!s || s === "GET") && !o) return !0; var u = r.handleRemote(i); return u === !1 ? r.enableElement(i) : u.error(function () { r.enableElement(i) }), !1 } if (i.data("method")) return r.handleMethod(i), !1 }), e(document).delegate(r.inputChangeSelector, "change.rails", function (t) { var n = e(this); return r.allowAction(n) ? (r.handleRemote(n), !1) : r.stopEverything(t) }), e(document).delegate(r.formSubmitSelector, "submit.rails", function (n) { var i = e(this), s = i.data("remote") !== t, o = r.blankInputs(i, r.requiredInputSelector), u = r.nonBlankInputs(i, r.fileInputSelector); if (!r.allowAction(i)) return r.stopEverything(n); if (o && i.attr("novalidate") == t && r.fire(i, "ajax:aborted:required", [o])) return r.stopEverything(n); if (s) { if (u) { setTimeout(function () { r.disableFormElements(i) }, 13); var a = r.fire(i, "ajax:aborted:file", [u]); return a || setTimeout(function () { r.enableFormElements(i) }, 13), a } return !e.support.submitBubbles && e().jquery < "1.7" && r.callFormSubmitBindings(i, n) === !1 ? r.stopEverything(n) : (r.handleRemote(i), !1) } setTimeout(function () { r.disableFormElements(i) }, 13) }), e(document).delegate(r.formInputClickSelector, "click.rails", function (t) { var n = e(this); if (!r.allowAction(n)) return r.stopEverything(t); var i = n.attr("name"), s = i ? { name: i, value: n.val() } : null; n.closest("form").data("ujs:submit-button", s) }), e(document).delegate(r.formSubmitSelector, "ajax:beforeSend.rails", function (t) { this == t.target && r.disableFormElements(e(this)) }), e(document).delegate(r.formSubmitSelector, "ajax:complete.rails", function (t) { this == t.target && r.enableFormElements(e(this)) }), e(function () { csrf_token = e("meta[name=csrf-token]").attr("content"), csrf_param = e("meta[name=csrf-param]").attr("content"), e('form input[name="' + csrf_param + '"]').val(csrf_token) }))
}(jQuery), window.Modernizr = function (e, t, n) { function r(e) { d.cssText = e } function i(e, t) { return r(g.join(e + ";") + (t || "")) } function s(e, t) { return typeof e === t } function o(e, t) { return !!~("" + e).indexOf(t) } function u(e, t, r) { for (var i in e) { var o = t[e[i]]; if (o !== n) return r === !1 ? e[i] : s(o, "function") ? o.bind(r || t) : o } return !1 } var a = "2.5.2", f = {}, l = !0, c = t.documentElement, h = "modernizr", p = t.createElement(h), d = p.style, v, m = {}.toString, g = " -webkit- -moz- -o- -ms- ".split(" "), y = {}, b = {}, w = {}, E = [], S = E.slice, x, T = function (e, n, r, i) { var s, o, u, a = t.createElement("div"), f = t.body, l = f ? f : t.createElement("body"); if (parseInt(r, 10)) while (r--) u = t.createElement("div"), u.id = i ? i[r] : h + (r + 1), a.appendChild(u); return s = ["&#173;", "<style>", e, "</style>"].join(""), a.id = h, l.innerHTML += s, l.appendChild(a), f || c.appendChild(l), o = n(a, e), f ? a.parentNode.removeChild(a) : l.parentNode.removeChild(l), !!o }, N = function (t) { var n = e.matchMedia || e.msMatchMedia; if (n) return n(t).matches; var r; return T("@media " + t + " { #" + h + " { position: absolute; } }", function (t) { r = (e.getComputedStyle ? getComputedStyle(t, null) : t.currentStyle)["position"] == "absolute" }), r }, C = {}.hasOwnProperty, k; !s(C, "undefined") && !s(C.call, "undefined") ? k = function (e, t) { return C.call(e, t) } : k = function (e, t) { return t in e && s(e.constructor.prototype[t], "undefined") }, Function.prototype.bind || (Function.prototype.bind = function (e) { var t = this; if (typeof t != "function") throw new TypeError; var n = S.call(arguments, 1), r = function () { if (this instanceof r) { var i = function () { }; i.prototype = t.prototype; var s = new i, o = t.apply(s, n.concat(S.call(arguments))); return Object(o) === o ? o : s } return t.apply(e, n.concat(S.call(arguments))) }; return r }); var L = function (n, r) { var i = n.join(""), s = r.length; T(i, function (n, r) { var i = t.styleSheets[t.styleSheets.length - 1], o = i ? i.cssRules && i.cssRules[0] ? i.cssRules[0].cssText : i.cssText || "" : "", u = n.childNodes, a = {}; while (s--) a[u[s].id] = u[s]; f.touch = "ontouchstart" in e || e.DocumentTouch && t instanceof DocumentTouch || (a.touch && a.touch.offsetTop) === 9 }, s, r) }([, ["@media (", g.join("touch-enabled),("), h, ")", "{#touch{top:9px;position:absolute}}"].join("")], [, "touch"]); y.touch = function () { return f.touch }; for (var A in y) k(y, A) && (x = A.toLowerCase(), f[x] = y[A](), E.push((f[x] ? "" : "no-") + x)); return f.addTest = function (e, t) { if (typeof e == "object") for (var r in e) k(e, r) && f.addTest(r, e[r]); else { e = e.toLowerCase(); if (f[e] !== n) return f; t = typeof t == "function" ? t() : t, c.className += " " + (t ? "" : "no-") + e, f[e] = t } return f }, r(""), p = v = null, f._version = a, f._prefixes = g, f.mq = N, f.testStyles = T, c.className = c.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (l ? " js " + E.join(" ") : ""), f }(this, this.document), function (e, t, n) { function r(e) { return d.call(e) == "[object Function]" } function i(e) { return typeof e == "string" } function s() { } function o(e) { return !e || e == "loaded" || e == "complete" || e == "uninitialized" } function u() { var e = v.shift(); m = 1, e ? e.t ? h(function () { (e.t == "c" ? k.injectCss : k.injectJs)(e.s, 0, e.a, e.x, e.e, 1) }, 0) : (e(), u()) : m = 0 } function a(e, n, r, i, s, a, f) { function l(t) { if (!d && o(c.readyState) && (w.r = d = 1, !m && u(), c.onload = c.onreadystatechange = null, t)) { e != "img" && h(function () { b.removeChild(c) }, 50); for (var r in T[n]) T[n].hasOwnProperty(r) && T[n][r].onload() } } var f = f || k.errorTimeout, c = {}, d = 0, g = 0, w = { t: r, s: n, e: s, a: a, x: f }; T[n] === 1 && (g = 1, T[n] = [], c = t.createElement(e)), e == "object" ? c.data = n : (c.src = n, c.type = e), c.width = c.height = "0", c.onerror = c.onload = c.onreadystatechange = function () { l.call(this, g) }, v.splice(i, 0, w), e != "img" && (g || T[n] === 2 ? (b.insertBefore(c, y ? null : p), h(l, f)) : T[n].push(c)) } function f(e, t, n, r, s) { return m = 0, t = t || "j", i(e) ? a(t == "c" ? E : w, e, t, this.i++, n, r, s) : (v.splice(this.i++, 0, e), v.length == 1 && u()), this } function l() { var e = k; return e.loader = { load: f, i: 0 }, e } var c = t.documentElement, h = e.setTimeout, p = t.getElementsByTagName("script")[0], d = {}.toString, v = [], m = 0, g = "MozAppearance" in c.style, y = g && !!t.createRange().compareNode, b = y ? c : p.parentNode, c = !!t.attachEvent, w = g ? "object" : c ? "script" : "img", E = c ? "script" : w, S = Array.isArray || function (e) { return d.call(e) == "[object Array]" }, x = [], T = {}, N = { timeout: function (e, t) { return t.length && (e.timeout = t[0]), e } }, C, k; k = function (e) { function t(e) { var e = e.split("!"), t = x.length, n = e.pop(), r = e.length, n = { url: n, origUrl: n, prefixes: e }, i, s, o; for (s = 0; s < r; s++)o = e[s].split("="), (i = N[o.shift()]) && (n = i(n, o)); for (s = 0; s < t; s++)n = x[s](n); return n } function o(e, i, s, o, a) { var f = t(e), c = f.autoCallback; f.url.split(".").pop().split("?").shift(), f.bypass || (i && (i = r(i) ? i : i[e] || i[o] || i[e.split("/").pop().split("?")[0]] || u), f.instead ? f.instead(e, i, s, o, a) : (T[f.url] ? f.noexec = !0 : T[f.url] = 1, s.load(f.url, f.forceCSS || !f.forceJS && "css" == f.url.split(".").pop().split("?").shift() ? "c" : n, f.noexec, f.attrs, f.timeout), (r(i) || r(c)) && s.load(function () { l(), i && i(f.origUrl, a, o), c && c(f.origUrl, a, o), T[f.url] = 2 }))) } function a(e, t) { function n(e, n) { if (e) { if (i(e)) n || (f = function () { var e = [].slice.call(arguments); l.apply(this, e), c() }), o(e, f, t, 0, u); else if (Object(e) === e) for (p in h = function () { var t = 0, n; for (n in e) e.hasOwnProperty(n) && t++; return t }(), e) e.hasOwnProperty(p) && (!n && !--h && (r(f) ? f = function () { var e = [].slice.call(arguments); l.apply(this, e), c() } : f[p] = function (e) { return function () { var t = [].slice.call(arguments); e && e.apply(this, t), c() } }(l[p])), o(e[p], f, t, p, u)) } else !n && c() } var u = !!e.test, a = e.load || e.both, f = e.callback || s, l = f, c = e.complete || s, h, p; n(u ? e.yep : e.nope, !!a), a && n(a) } var f, c, h = this.yepnope.loader; if (i(e)) o(e, 0, h, 0); else if (S(e)) for (f = 0; f < e.length; f++)c = e[f], i(c) ? o(c, 0, h, 0) : S(c) ? k(c) : Object(c) === c && a(c, h); else Object(e) === e && a(e, h) }, k.addPrefix = function (e, t) { N[e] = t }, k.addFilter = function (e) { x.push(e) }, k.errorTimeout = 1e4, t.readyState == null && t.addEventListener && (t.readyState = "loading", t.addEventListener("DOMContentLoaded", C = function () { t.removeEventListener("DOMContentLoaded", C, 0), t.readyState = "complete" }, 0)), e.yepnope = l(), e.yepnope.executeStack = u, e.yepnope.injectJs = function (e, n, r, i, a, f) { var l = t.createElement("script"), c, d, i = i || k.errorTimeout; l.src = e; for (d in r) l.setAttribute(d, r[d]); n = f ? u : n || s, l.onreadystatechange = l.onload = function () { !c && o(l.readyState) && (c = 1, n(), l.onload = l.onreadystatechange = null) }, h(function () { c || (c = 1, n(1)) }, i), a ? l.onload() : p.parentNode.insertBefore(l, p) }, e.yepnope.injectCss = function (e, n, r, i, o, a) { var i = t.createElement("link"), f, n = a ? u : n || s; i.href = e, i.rel = "stylesheet", i.type = "text/css"; for (f in r) i.setAttribute(f, r[f]); o || (p.parentNode.insertBefore(i, p), h(n, 0)) } }(this, document), Modernizr.load = function () { yepnope.apply(window, [].slice.call(arguments, 0)) }, Modernizr.addTest("ie8compat", function () { return !window.addEventListener && document.documentMode && document.documentMode === 7 }), function (e) { e("a[data-reveal-id]").live("click", function (t) { t.preventDefault(); var n = e(this).attr("data-reveal-id"); e("#" + n).reveal(e(this).data()) }), e.fn.reveal = function (t) { var n = { animation: "fadeAndPop", animationSpeed: 300, closeOnBackgroundClick: !0, dismissModalClass: "close-reveal-modal", open: e.noop, opened: e.noop, close: e.noop, closed: e.noop }; return t = e.extend({}, n, t), this.each(function () { function a() { s = !1 } function f() { s = !0 } function l() { s || (f(), t.animation === "fadeAndPop" && (n.css({ top: e(document).scrollTop() - i, opacity: 0, visibility: "visible" }), o.fadeIn(t.animationSpeed / 2), n.delay(t.animationSpeed / 2).animate({ top: e(document).scrollTop() + r + "px", opacity: 1 }, t.animationSpeed, function () { n.trigger("reveal:opened") })), t.animation === "fade" && (n.css({ opacity: 0, visibility: "visible", top: e(document).scrollTop() + r }), o.fadeIn(t.animationSpeed / 2), n.delay(t.animationSpeed / 2).animate({ opacity: 1 }, t.animationSpeed, function () { n.trigger("reveal:opened") })), t.animation === "none" && (n.css({ visibility: "visible", top: e(document).scrollTop() + r }), o.css({ display: "block" }), n.trigger("reveal:opened"))) } function c() { s || (f(), t.animation === "fadeAndPop" && (n.animate({ top: e(document).scrollTop() - i + "px", opacity: 0 }, t.animationSpeed / 2, function () { n.css({ top: r, opacity: 1, visibility: "hidden" }) }), o.delay(t.animationSpeed).fadeOut(t.animationSpeed, function () { n.trigger("reveal:closed") })), t.animation === "fade" && (n.animate({ opacity: 0 }, t.animationSpeed, function () { n.css({ opacity: 1, visibility: "hidden", top: r }) }), o.delay(t.animationSpeed).fadeOut(t.animationSpeed, function () { n.trigger("reveal:closed") })), t.animation === "none" && (n.css({ visibility: "hidden", top: r }), o.css({ display: "none" }), n.trigger("reveal:closed"))) } function h() { n.unbind(".reveal"), o.unbind(".reveal"), e("." + t.dismissModalClass).unbind(".reveal"), e("body").unbind(".reveal") } var n = e(this), r = parseInt(n.css("top"), 10), i = n.height() + r, s = !1, o = e(".reveal-modal-bg"), u; o.length === 0 && (o = e('<div class="reveal-modal-bg" />').insertAfter(n), o.fadeTo("fast", .8)), n.bind("reveal:open.reveal", l), n.bind("reveal:close.reveal", c), n.bind("reveal:opened.reveal reveal:closed.reveal", a), n.bind("reveal:closed.reveal", h), n.bind("reveal:open.reveal", t.open), n.bind("reveal:opened.reveal", t.opened), n.bind("reveal:close.reveal", t.close), n.bind("reveal:closed.reveal", t.closed), n.trigger("reveal:open"), u = e("." + t.dismissModalClass).bind("click.reveal", function () { n.trigger("reveal:close") }), t.closeOnBackgroundClick && (o.css({ cursor: "pointer" }), o.bind("click.reveal", function () { n.trigger("reveal:close") })), e("body").bind("keyup.reveal", function (e) { e.which === 27 && n.trigger("reveal:close") }) }) } }(jQuery), function (e) { e.fn.findFirstImage = function () { return this.first().find("img").andSelf().filter("img").first() }; var t = { defaults: { animation: "horizontal-push", animationSpeed: 600, timer: !0, advanceSpeed: 4e3, pauseOnHover: !1, startClockOnMouseOut: !1, startClockOnMouseOutAfter: 1e3, directionalNav: !0, directionalNavRightText: "Right", directionalNavLeftText: "Left", captions: !0, captionAnimation: "fade", captionAnimationSpeed: 600, resetTimerOnClick: !1, bullets: !1, bulletThumbs: !1, bulletThumbLocation: "", afterSlideChange: e.noop, afterLoadComplete: e.noop, fluid: !0, centerBullets: !0 }, activeSlide: 0, numberSlides: 0, orbitWidth: null, orbitHeight: null, locked: null, timerRunning: null, degrees: 0, wrapperHTML: '<div class="orbit-wrapper" />', timerHTML: '<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>', captionHTML: '<div class="orbit-caption"></div>', directionalNavHTML: '<div class="slider-nav"><span class="right"></span><span class="left"></span></div>', bulletHTML: '<ul class="orbit-bullets"></ul>', init: function (t, n) { var r, i = 0, s = this; this.clickTimer = e.proxy(this.clickTimer, this), this.addBullet = e.proxy(this.addBullet, this), this.resetAndUnlock = e.proxy(this.resetAndUnlock, this), this.stopClock = e.proxy(this.stopClock, this), this.startTimerAfterMouseLeave = e.proxy(this.startTimerAfterMouseLeave, this), this.clearClockMouseLeaveTimer = e.proxy(this.clearClockMouseLeaveTimer, this), this.rotateTimer = e.proxy(this.rotateTimer, this), this.options = e.extend({}, this.defaults, n), this.options.timer === "false" && (this.options.timer = !1), this.options.captions === "false" && (this.options.captions = !1), this.options.directionalNav === "false" && (this.options.directionalNav = !1), this.$element = e(t), this.$wrapper = this.$element.wrap(this.wrapperHTML).parent(), this.$slides = this.$element.children("img, a, div"), this.$element.bind("orbit.next", function () { s.shift("next") }), this.$element.bind("orbit.prev", function () { s.shift("prev") }), this.$element.bind("orbit.goto", function (e, t) { s.shift(t) }), this.$element.bind("orbit.start", function (e, t) { s.startClock() }), this.$element.bind("orbit.stop", function (e, t) { s.stopClock() }), r = this.$slides.filter("img"), r.length === 0 ? this.loaded() : r.bind("imageready", function () { i += 1, i === r.length && s.loaded() }) }, loaded: function () { this.$element.addClass("orbit").css({ width: "1px", height: "1px" }), this.$slides.addClass("orbit-slide"), this.setDimentionsFromLargestSlide(), this.updateOptionsIfOnlyOneSlide(), this.setupFirstSlide(), this.options.timer && (this.setupTimer(), this.startClock()), this.options.captions && this.setupCaptions(), this.options.directionalNav && this.setupDirectionalNav(), this.options.bullets && (this.setupBulletNav(), this.setActiveBullet()), this.options.afterLoadComplete.call(this) }, currentSlide: function () { return this.$slides.eq(this.activeSlide) }, setDimentionsFromLargestSlide: function () { var t = this, n; t.$element.add(t.$wrapper).width(this.$slides.first().width()), t.$element.add(t.$wrapper).height(this.$slides.first().height()), t.orbitWidth = this.$slides.first().width(), t.orbitHeight = this.$slides.first().height(), n = this.$slides.first().findFirstImage().clone(), this.$slides.each(function () { var r = e(this), i = r.width(), s = r.height(); i > t.$element.width() && (t.$element.add(t.$wrapper).width(i), t.orbitWidth = t.$element.width()), s > t.$element.height() && (t.$element.add(t.$wrapper).height(s), t.orbitHeight = t.$element.height(), n = e(this).findFirstImage().clone()), t.numberSlides += 1 }), this.options.fluid && (typeof this.options.fluid == "string" && (n = e('<img src="http://placehold.it/' + this.options.fluid + '" />')), t.$element.prepend(n), n.addClass("fluid-placeholder"), t.$element.add(t.$wrapper).css({ width: "inherit" }), t.$element.add(t.$wrapper).css({ height: "inherit" }), e(window).bind("resize", function () { t.orbitWidth = t.$element.width(), t.orbitHeight = t.$element.height() })) }, lock: function () { this.locked = !0 }, unlock: function () { this.locked = !1 }, updateOptionsIfOnlyOneSlide: function () { this.$slides.length === 1 && (this.options.directionalNav = !1, this.options.timer = !1, this.options.bullets = !1) }, setupFirstSlide: function () { var e = this; this.$slides.first().css({ "z-index": 3 }).fadeIn(function () { e.$slides.css({ display: "block" }) }) }, startClock: function () { var e = this; if (!this.options.timer) return !1; this.$timer.is(":hidden") ? this.clock = setInterval(function () { e.$element.trigger("orbit.next") }, this.options.advanceSpeed) : (this.timerRunning = !0, this.$pause.removeClass("active"), this.clock = setInterval(this.rotateTimer, this.options.advanceSpeed / 180)) }, rotateTimer: function (e) { var t = "rotate(" + this.degrees + "deg)"; this.degrees += 2, this.$rotator.css({ "-webkit-transform": t, "-moz-transform": t, "-o-transform": t }), this.degrees > 180 && (this.$rotator.addClass("move"), this.$mask.addClass("move")); if (this.degrees > 360 || e) this.$rotator.removeClass("move"), this.$mask.removeClass("move"), this.degrees = 0, this.$element.trigger("orbit.next") }, stopClock: function () { if (!this.options.timer) return !1; this.timerRunning = !1, clearInterval(this.clock), this.$pause.addClass("active") }, setupTimer: function () { this.$timer = e(this.timerHTML), this.$wrapper.append(this.$timer), this.$rotator = this.$timer.find(".rotator"), this.$mask = this.$timer.find(".mask"), this.$pause = this.$timer.find(".pause"), this.$timer.click(this.clickTimer), this.options.startClockOnMouseOut && (this.$wrapper.mouseleave(this.startTimerAfterMouseLeave), this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer)), this.options.pauseOnHover && this.$wrapper.mouseenter(this.stopClock) }, startTimerAfterMouseLeave: function () { var e = this; this.outTimer = setTimeout(function () { e.timerRunning || e.startClock() }, this.options.startClockOnMouseOutAfter) }, clearClockMouseLeaveTimer: function () { clearTimeout(this.outTimer) }, clickTimer: function () { this.timerRunning ? this.stopClock() : this.startClock() }, setupCaptions: function () { this.$caption = e(this.captionHTML), this.$wrapper.append(this.$caption), this.setCaption() }, setCaption: function () { var t = this.currentSlide().attr("data-caption"), n; if (!this.options.captions) return !1; if (t) { n = e(t).html(), this.$caption.attr("id", t).html(n); switch (this.options.captionAnimation) { case "none": this.$caption.show(); break; case "fade": this.$caption.fadeIn(this.options.captionAnimationSpeed); break; case "slideOpen": this.$caption.slideDown(this.options.captionAnimationSpeed) } } else switch (this.options.captionAnimation) { case "none": this.$caption.hide(); break; case "fade": this.$caption.fadeOut(this.options.captionAnimationSpeed); break; case "slideOpen": this.$caption.slideUp(this.options.captionAnimationSpeed) } }, setupDirectionalNav: function () { var t = this, n = e(this.directionalNavHTML); n.find(".right").html(this.options.directionalNavRightText), n.find(".left").html(this.options.directionalNavLeftText), this.$wrapper.append(n), this.$wrapper.find(".left").click(function () { t.stopClock(), t.options.resetTimerOnClick && (t.rotateTimer(!0), t.startClock()), t.$element.trigger("orbit.prev") }), this.$wrapper.find(".right").click(function () { t.stopClock(), t.options.resetTimerOnClick && (t.rotateTimer(!0), t.startClock()), t.$element.trigger("orbit.next") }) }, setupBulletNav: function () { this.$bullets = e(this.bulletHTML), this.$wrapper.append(this.$bullets), this.$slides.each(this.addBullet), this.$element.addClass("with-bullets"), this.options.centerBullets && this.$bullets.css("margin-left", -this.$bullets.width() / 2) }, addBullet: function (t, n) { var r = t + 1, i = e("<li>" + r + "</li>"), s, o = this; this.options.bulletThumbs && (s = e(n).attr("data-thumb"), s && i.addClass("has-thumb").css({ background: "url(" + this.options.bulletThumbLocation + s + ") no-repeat" })), this.$bullets.append(i), i.data("index", t), i.click(function () { o.stopClock(), o.options.resetTimerOnClick && (o.rotateTimer(!0), o.startClock()), o.$element.trigger("orbit.goto", [i.data("index")]) }) }, setActiveBullet: function () { if (!this.options.bullets) return !1; this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active") }, resetAndUnlock: function () { this.$slides.eq(this.prevActiveSlide).css({ "z-index": 1 }), this.unlock(), this.options.afterSlideChange.call(this, this.$slides.eq(this.prevActiveSlide), this.$slides.eq(this.activeSlide)) }, shift: function (e) { var t = e; this.prevActiveSlide = this.activeSlide; if (this.prevActiveSlide == t) return !1; if (this.$slides.length == "1") return !1; this.locked || (this.lock(), e == "next" ? (this.activeSlide++, this.activeSlide == this.numberSlides && (this.activeSlide = 0)) : e == "prev" ? (this.activeSlide--, this.activeSlide < 0 && (this.activeSlide = this.numberSlides - 1)) : (this.activeSlide = e, this.prevActiveSlide < this.activeSlide ? t = "next" : this.prevActiveSlide > this.activeSlide && (t = "prev")), this.setActiveBullet(), this.$slides.eq(this.prevActiveSlide).css({ "z-index": 2 }), this.options.animation == "fade" && this.$slides.eq(this.activeSlide).css({ opacity: 0, "z-index": 3 }).animate({ opacity: 1 }, this.options.animationSpeed, this.resetAndUnlock), this.options.animation == "horizontal-slide" && (t == "next" && this.$slides.eq(this.activeSlide).css({ left: this.orbitWidth, "z-index": 3 }).animate({ left: 0 }, this.options.animationSpeed, this.resetAndUnlock), t == "prev" && this.$slides.eq(this.activeSlide).css({ left: -this.orbitWidth, "z-index": 3 }).animate({ left: 0 }, this.options.animationSpeed, this.resetAndUnlock)), this.options.animation == "vertical-slide" && (t == "prev" && this.$slides.eq(this.activeSlide).css({ top: this.orbitHeight, "z-index": 3 }).animate({ top: 0 }, this.options.animationSpeed, this.resetAndUnlock), t == "next" && this.$slides.eq(this.activeSlide).css({ top: -this.orbitHeight, "z-index": 3 }).animate({ top: 0 }, this.options.animationSpeed, this.resetAndUnlock)), this.options.animation == "horizontal-push" && (t == "next" && (this.$slides.eq(this.activeSlide).css({ left: this.orbitWidth, "z-index": 3 }).animate({ left: 0 }, this.options.animationSpeed, this.resetAndUnlock), this.$slides.eq(this.prevActiveSlide).animate({ left: -this.orbitWidth }, this.options.animationSpeed)), t == "prev" && (this.$slides.eq(this.activeSlide).css({ left: -this.orbitWidth, "z-index": 3 }).animate({ left: 0 }, this.options.animationSpeed, this.resetAndUnlock), this.$slides.eq(this.prevActiveSlide).animate({ left: this.orbitWidth }, this.options.animationSpeed))), this.options.animation == "vertical-push" && (t == "next" && (this.$slides.eq(this.activeSlide).css({ top: -this.orbitHeight, "z-index": 3 }).animate({ top: 0 }, this.options.animationSpeed, this.resetAndUnlock), this.$slides.eq(this.prevActiveSlide).animate({ top: this.orbitHeight }, this.options.animationSpeed)), t == "prev" && (this.$slides.eq(this.activeSlide).css({ top: this.orbitHeight, "z-index": 3 }).animate({ top: 0 }, this.options.animationSpeed, this.resetAndUnlock), this.$slides.eq(this.prevActiveSlide).animate({ top: -this.orbitHeight }, this.options.animationSpeed))), this.setCaption()) } }; e.fn.orbit = function (n) { return this.each(function () { var r = e.extend({}, t); r.init(this, n) }) } }(jQuery), function (e) { function n(t, n) { var r = e(t); r.bind("load.imageready", function () { n.apply(t, arguments), r.unbind("load.imageready") }) } var t = {}; e.event.special.imageready = { setup: function (e, n, r) { t = e || t }, add: function (r) { var i = e(this), s; this.nodeType === 1 && this.tagName.toLowerCase() === "img" && this.src !== "" && (t.forceLoad ? (s = i.attr("src"), i.attr("src", ""), n(this, r.handler), i.attr("src", s)) : this.complete || this.readyState === 4 ? r.handler.apply(this, arguments) : n(this, r.handler)) }, teardown: function (t) { e(this).unbind(".imageready") } } }(jQuery), jQuery.foundation = jQuery.foundation || {}, jQuery.foundation.customForms = jQuery.foundation.customForms || {}, jQuery(document).ready(function (e) { function t(t) { e("form.custom input:" + t).each(function () { var n = e(this).hide(), r = n.next("span.custom." + t); r.length === 0 && (r = e('<span class="custom ' + t + '"></span>').insertAfter(n)), r.toggleClass("checked", n.is(":checked")), r.toggleClass("disabled", n.is(":disabled")) }) } function n(t) { var n = e(t), r = n.next("div.custom.dropdown"), i = n.find("option"), s = 0, o; if (n.hasClass("no-custom")) return; r.length === 0 ? ($customSelectSize = "", e(t).hasClass("small") ? $customSelectSize = "small" : e(t).hasClass("medium") ? $customSelectSize = "medium" : e(t).hasClass("large") ? $customSelectSize = "large" : e(t).hasClass("expand") && ($customSelectSize = "expand"), r = e('<div class="custom dropdown ' + $customSelectSize + '"><a href="#" class="selector"></a><ul></ul></div>"'), i.each(function () { o = e("<li>" + e(this).html() + "</li>"), r.find("ul").append(o) }), r.prepend('<a href="#" class="current">' + i.first().html() + "</a>"), n.after(r), n.hide()) : (r.find("ul").html(""), i.each(function () { o = e("<li>" + e(this).html() + "</li>"), r.find("ul").append(o) })), r.toggleClass("disabled", n.is(":disabled")), i.each(function (t) { this.selected && (r.find("li").eq(t).addClass("selected"), r.find(".current").html(e(this).html())) }), r.css("width", "inherit"), r.find("ul").css("width", "inherit"), r.find("li").each(function () { r.addClass("open"), e(this).outerWidth() > s && (s = e(this).outerWidth()), r.removeClass("open") }), r.is(".small, .medium, .large, .expand") || (r.css("width", s + 18 + "px"), r.find("ul").css("width", s + 16 + "px")) } e.foundation.customForms.appendCustomMarkup = function () { t("checkbox"), t("radio"), e("form.custom select").each(function () { n(this) }) }, e.foundation.customForms.appendCustomMarkup() }), function (e) { function t(t) { var n = 0, r = t.next(); $options = t.find("option"), r.find("ul").html(""), $options.each(function () { $li = e("<li>" + e(this).html() + "</li>"), r.find("ul").append($li) }), $options.each(function (t) { this.selected && (r.find("li").eq(t).addClass("selected"), r.find(".current").html(e(this).html())) }), r.removeAttr("style").find("ul").removeAttr("style"), r.find("li").each(function () { r.addClass("open"), e(this).outerWidth() > n && (n = e(this).outerWidth()), r.removeClass("open") }), r.css("width", n + 18 + "px"), r.find("ul").css("width", n + 16 + "px") } function n(e) { var t = e.prev(), n = t[0]; 0 == t.is(":disabled") && (n.checked = n.checked ? !1 : !0, e.toggleClass("checked"), t.trigger("change")) } function r(t) { var n = t.prev(), r = n[0]; 0 == n.is(":disabled") && (e('input:radio[name="' + n.attr("name") + '"]').each(function () { e(this).next().removeClass("checked") }), r.checked = r.checked ? !1 : !0, t.toggleClass("checked"), n.trigger("change")) } e("form.custom span.custom.checkbox").live("click", function (t) { t.preventDefault(), t.stopPropagation(), n(e(this)) }), e("form.custom span.custom.radio").live("click", function (t) { t.preventDefault(), t.stopPropagation(), r(e(this)) }), e("form.custom select").live("change", function (n) { t(e(this)) }), e("form.custom label").live("click", function (t) { var i = e("#" + e(this).attr("for")), s, o; i.length !== 0 && (i.attr("type") === "checkbox" ? (t.preventDefault(), s = e(this).find("span.custom.checkbox"), n(s)) : i.attr("type") === "radio" && (t.preventDefault(), o = e(this).find("span.custom.radio"), r(o))) }), e("form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector").live("click", function (t) { var n = e(this), r = n.closest("div.custom.dropdown"), i = r.prev(); t.preventDefault(); if (0 == i.is(":disabled")) return r.toggleClass("open"), r.hasClass("open") ? e(document).bind("click.customdropdown", function (t) { r.removeClass("open"), e(document).unbind(".customdropdown") }) : e(document).unbind(".customdropdown"), !1 }), e("form.custom div.custom.dropdown li").live("click", function (t) { var n = e(this), r = n.closest("div.custom.dropdown"), i = r.prev(), s = 0; t.preventDefault(), t.stopPropagation(), n.closest("ul").find("li").removeClass("selected"), n.addClass("selected"), r.removeClass("open").find("a.current").html(n.html()), n.closest("ul").find("li").each(function (e) { n[0] == this && (s = e) }), i[0].selectedIndex = s, i.trigger("change") }) }(jQuery), function (e, t, n) { function u(e) { var t = {}, r = /^jQuery\d+$/; return n.each(e.attributes, function (e, n) { n.specified && !r.test(n.name) && (t[n.name] = n.value) }), t } function a() { var e = n(this); e.val() === e.attr("placeholder") && e.hasClass("placeholder") && (e.data("placeholder-password") ? e.hide().next().show().focus().attr("id", e.removeAttr("id").data("placeholder-id")) : e.val("").removeClass("placeholder")) } function f() { var e, t = n(this), r = t, i = this.id; if (t.val() === "") { if (t.is(":password")) { if (!t.data("placeholder-textinput")) { try { e = t.clone().attr({ type: "text" }) } catch (s) { e = n("<input>").attr(n.extend(u(this), { type: "text" })) } e.removeAttr("name").data("placeholder-password", !0).data("placeholder-id", i).bind("focus.placeholder", a), t.data("placeholder-textinput", e).data("placeholder-id", i).before(e) } t = t.removeAttr("id").hide().prev().attr("id", i).show() } t.addClass("placeholder").val(t.attr("placeholder")) } else t.removeClass("placeholder") } var r = "placeholder" in t.createElement("input"), i = "placeholder" in t.createElement("textarea"), s = n.fn, o; r && i ? (o = s.placeholder = function () { return this }, o.input = o.textarea = !0) : (o = s.placeholder = function () { return this.filter((r ? "textarea" : ":input") + "[placeholder]").not(".placeholder").bind("focus.placeholder", a).bind("blur.placeholder", f).trigger("blur.placeholder").end() }, o.input = r, o.textarea = i, n(function () { n(t).delegate("form", "submit.placeholder", function () { var e = n(".placeholder", this).each(a); setTimeout(function () { e.each(f) }, 10) }) }), n(e).bind("unload.placeholder", function () { n(".placeholder").val("") })) }(this, document, jQuery), function (e) { var t = { bodyHeight: 0, pollInterval: 1e3 }, n = { init: function (r) { return this.each(function () { var r, i, s, o; e(window).data("tooltips", "init"), r = e(".has-tip"), i = e(".tooltip"), s = function (e, t) { return '<span data-id="' + e + '" class="tooltip">' + t + '<span class="nub"></span></span>' }, o = setInterval(n.isDomResized, t.pollInterval), i.length < 1 && r.each(function (t) { var r, i, o, u, a; r = e(this), o = "foundationTooltip" + t, u = r.attr("title"), a = r.attr("class"), r.data("id", o), i = e(s(o, u)), i.addClass(a).removeClass("has-tip").appendTo("body"), Modernizr.touch && i.append('<span class="tap-to-close">tap to close </span>'), n.reposition(r, i, a), i.fadeOut(150) }), e(window).on("resize.tooltip", function () { var t = e(".tooltip"); t.each(function () { var t, i, s, o; t = e(this).data(), i = r = e(".has-tip"), s = e(this), o = s.attr("class"), r.each(function () { e(this).data().id == t.id ? i = e(this) : i = i }), n.reposition(i, s, o) }) }), Modernizr.touch ? (e(".tooltip").on("click.tooltip touchstart.tooltip touchend.tooltip", function (t) { t.preventDefault(), e(this).fadeOut(150) }), r.on("click.tooltip touchstart.tooltip touchend.tooltip", function (t) { t.preventDefault(), e(".tooltip").hide(), e("span[data-id=" + e(this).data("id") + "].tooltip").fadeIn(150), r.attr("title", "") })) : r.hover(function () { e("span[data-id=" + e(this).data("id") + "].tooltip").fadeIn(150), r.attr("title", "") }, function () { e("span[data-id=" + e(this).data("id") + "].tooltip").fadeOut(150) }) }) }, reload: function () { var t = e(this); return t.data("tooltips") ? t.tooltips("destroy").tooltips("init") : t.tooltips("init") }, destroy: function () { return this.each(function () { e(window).unbind(".tooltip"), e(".has-tip").unbind(".tooltip"), e(".tooltip").each(function (t) { e(e(".has-tip").get(t)).attr("title", e(this).text()) }).remove() }) }, reposition: function (t, n, r) { var i, s, o, u, a, f; i = t.data("width"), s = n.children(".nub"), o = s.outerHeight(), u = s.outerWidth(), f = function (e, t, n, r, i, s) { return e.css({ top: t, bottom: r, left: i, right: n, width: s ? s : "auto" }).end() }, f(n, t.offset().top + t.outerHeight() + 10, "auto", "auto", t.offset().left, i), f(s, -o, "auto", "auto", 10), e(window).width() < 767 ? (a = t.parents(".row"), n.width(a.outerWidth() - 20).css("left", a.offset().left).addClass("tip-override"), f(s, -o, "auto", "auto", t.offset().left)) : r.indexOf("tip-top") > -1 ? (f(n, t.offset().top - n.outerHeight() - o, "auto", "auto", t.offset().left, i).removeClass("tip-override"), f(s, "auto", "auto", -o, "auto")) : r.indexOf("tip-left") > -1 ? (f(n, t.offset().top + t.outerHeight() / 2 - o, "auto", "auto", t.offset().left - n.outerWidth() - 10, i).removeClass("tip-override"), f(s, n.outerHeight() / 2 - o / 2, -o, "auto", "auto")) : r.indexOf("tip-right") > -1 && (f(n, t.offset().top + t.outerHeight() / 2 - o, "auto", "auto", t.offset().left + t.outerWidth() + 10, i).removeClass("tip-override"), f(s, n.outerHeight() / 2 - o / 2, "auto", "auto", -o)) }, isDomResized: function () { $body = e("body"), t.bodyHeight != $body.height() && (t.bodyHeight = $body.height(), e(window).trigger("resize")) } }; e.fn.tooltips = function (t) { if (n[t]) return n[t].apply(this, Array.prototype.slice.call(arguments, 1)); if (typeof t == "object" || !t) return n.init.apply(this, arguments); e.error("Method " + t + " does not exist on jQuery.tooltips") } }(jQuery), jQuery(document).ready(function (e) { function t(t) { var n = t.closest("dl").find("a.active"), r = t.attr("href") + "Tab"; r = r.replace(/^.+#/, "#"), n.removeClass("active"), t.addClass("active"), e(r).closest(".tabs-content").children("li").hide(), e(r).css("display", "block") } e("dl.tabs dd a").live("click", function (n) { t(e(this)) }), window.location.hash && (t(e('a[href="' + window.location.hash + '"]')), e.foundation.customForms.appendCustomMarkup()), e(".alert-box").delegate("a.close", "click", function (t) { t.preventDefault(), e(this).closest(".alert-box").fadeOut(function (t) { e(this).remove() }) }), e("input, textarea").placeholder(), e(this).tooltips(); var n = !1; e(".nav-bar a.flyout-toggle").live("click", function (t) { t.preventDefault(); var r = e(this).siblings(".flyout"); n === !1 && (e(".nav-bar .flyout").not(r).slideUp(500), r.slideToggle(500, function () { n = !1 })), n = !0 }), Modernizr.touch ? (e(".nav-bar>li.has-flyout>a.main").css({ "padding-right": "75px" }), e(".nav-bar>li.has-flyout>a.flyout-toggle").css({ "border-left": "1px dashed #eee" })) : e(".nav-bar>li.has-flyout").hover(function () { e(this).children(".flyout").show() }, function () { e(this).children(".flyout").hide() }) }); var wysihtml5ParserRules = {
    classes: {
        "wysiwyg-clear-both": 1, "wysiwyg-clear-left": 1, "wysiwyg-clear-right": 1, "wysiwyg-color-aqua": 1, "wysiwyg-color-black": 1, "wysiwyg-color-blue": 1, "wysiwyg-color-fuchsia": 1, "wysiwyg-color-gray": 1, "wysiwyg-color-green": 1, "wysiwyg-color-lime": 1, "wysiwyg-color-maroon": 1, "wysiwyg-color-navy": 1, "wysiwyg-color-olive": 1, "wysiwyg-color-purple": 1, "wysiwyg-color-red": 1, "wysiwyg-color-silver": 1, "wysiwyg-color-teal": 1, "wysiwyg-color-white": 1, "wysiwyg-color-yellow": 1, "wysiwyg-float-left": 1, "wysiwyg-float-right": 1, "wysiwyg-font-size-large": 1, "wysiwyg-font-size-larger": 1, "wysiwyg-font-size-medium": 1, "wysiwyg-font-size-small": 1, "wysiwyg-font-size-smaller": 1, "wysiwyg-font-size-x-large": 1, "wysiwyg-font-size-x-small": 1, "wysiwyg-font-size-xx-large": 1, "wysiwyg-font-size-xx-small"
            : 1, "wysiwyg-text-align-center": 1, "wysiwyg-text-align-justify": 1, "wysiwyg-text-align-left": 1, "wysiwyg-text-align-right": 1
    }, tags: { tr: { add_class: { align: "align_text" } }, strike: { remove: 1 }, form: { rename_tag: "div" }, rt: { rename_tag: "span" }, code: {}, acronym: { rename_tag: "span" }, br: { add_class: { clear: "clear_br" } }, details: { rename_tag: "div" }, h4: { add_class: { align: "align_text" } }, em: {}, title: { remove: 1 }, multicol: { rename_tag: "div" }, figure: { rename_tag: "div" }, xmp: { rename_tag: "span" }, small: { rename_tag: "span", set_class: "wysiwyg-font-size-smaller" }, area: { remove: 1 }, time: { rename_tag: "span" }, dir: { rename_tag: "ul" }, bdi: { rename_tag: "span" }, command: { remove: 1 }, ul: {}, progress: { rename_tag: "span" }, dfn: { rename_tag: "span" }, iframe: { remove: 1 }, figcaption: { rename_tag: "div" }, a: { check_attributes: { href: "url" }, set_attributes: { rel: "nofollow", target: "_blank" } }, img: { check_attributes: { width: "numbers", alt: "alt", src: "url", height: "numbers" }, add_class: { align: "align_img" } }, rb: { rename_tag: "span" }, footer: { rename_tag: "div" }, noframes: { remove: 1 }, abbr: { rename_tag: "span" }, u: {}, bgsound: { remove: 1 }, sup: { rename_tag: "span" }, address: { rename_tag: "div" }, basefont: { remove: 1 }, nav: { rename_tag: "div" }, h1: { add_class: { align: "align_text" } }, head: { remove: 1 }, tbody: { add_class: { align: "align_text" } }, dd: { rename_tag: "div" }, s: { rename_tag: "span" }, li: {}, td: { check_attributes: { rowspan: "numbers", colspan: "numbers" }, add_class: { align: "align_text" } }, object: { remove: 1 }, div: { add_class: { align: "align_text" } }, option: { rename_tag: "span" }, select: { rename_tag: "span" }, i: {}, track: { remove: 1 }, wbr: { remove: 1 }, fieldset: { rename_tag: "div" }, big: { rename_tag: "span", set_class: "wysiwyg-font-size-larger" }, button: { rename_tag: "span" }, noscript: { remove: 1 }, svg: { remove: 1 }, input: { remove: 1 }, table: {}, keygen: { remove: 1 }, h5: { add_class: { align: "align_text" } }, meta: { remove: 1 }, map: { rename_tag: "div" }, isindex: { remove: 1 }, mark: { rename_tag: "span" }, caption: { add_class: { align: "align_text" } }, tfoot: { add_class: { align: "align_text" } }, base: { remove: 1 }, video: { remove: 1 }, strong: {}, canvas: { remove: 1 }, output: { rename_tag: "span" }, marquee: { rename_tag: "span" }, b: {}, q: { check_attributes: { cite: "url" } }, applet: { remove: 1 }, span: {}, rp: { rename_tag: "span" }, spacer: { remove: 1 }, source: { remove: 1 }, aside: { rename_tag: "div" }, frame: { remove: 1 }, section: { rename_tag: "div" }, body: { rename_tag: "div" }, ol: {}, nobr: { rename_tag: "span" }, html: { rename_tag: "div" }, summary: { rename_tag: "span" }, "var": { rename_tag: "span" }, del: { remove: 1 }, blockquote: { check_attributes: { cite: "url" } }, style: { remove: 1 }, device: { remove: 1 }, meter: { rename_tag: "span" }, h3: { add_class: { align: "align_text" } }, textarea: { rename_tag: "span" }, embed: { remove: 1 }, hgroup: { rename_tag: "div" }, font: { rename_tag: "span", add_class: { size: "size_font" } }, tt: { rename_tag: "span" }, noembed: { remove: 1 }, thead: { add_class: { align: "align_text" } }, blink: { rename_tag: "span" }, plaintext: { rename_tag: "span" }, xml: { remove: 1 }, h6: { add_class: { align: "align_text" } }, param: { remove: 1 }, th: { check_attributes: { rowspan: "numbers", colspan: "numbers" }, add_class: { align: "align_text" } }, legend: { rename_tag: "span" }, hr: {}, label: { rename_tag: "span" }, dl: { rename_tag: "div" }, kbd: { rename_tag: "span" }, listing: { rename_tag: "div" }, dt: { rename_tag: "span" }, nextid: { remove: 1 }, pre: {}, center: { rename_tag: "div", set_class: "wysiwyg-text-align-center" }, audio: { remove: 1 }, datalist: { rename_tag: "span" }, samp: { rename_tag: "span" }, col: { remove: 1 }, article: { rename_tag: "div" }, cite: {}, link: { remove: 1 }, script: { remove: 1 }, bdo: { rename_tag: "span" }, menu: { rename_tag: "ul" }, colgroup: { remove: 1 }, ruby: { rename_tag: "span" }, h2: { add_class: { align: "align_text" } }, ins: { rename_tag: "span" }, p: { add_class: { align: "align_text" } }, sub: { rename_tag: "span" }, comment: { remove: 1 }, frameset: { remove: 1 }, optgroup: { rename_tag: "span" }, header: { rename_tag: "div" } }
}, wysihtml5 = { version: "0.3.0", commands: {}, dom: {}, quirks: {}, toolbar: {}, lang: {}, selection: {}, views: {}, INVISIBLE_SPACE: "ï»¿", EMPTY_FUNCTION: function () { }, ELEMENT_NODE: 1, TEXT_NODE: 3, BACKSPACE_KEY: 8, ENTER_KEY: 13, ESCAPE_KEY: 27, SPACE_KEY: 32, DELETE_KEY: 46 }; window.rangy = function () { function e(e, t) { var n = typeof e[t]; return n == f || n == a && !!e[t] || "unknown" == n } function t(e, t) { return typeof e[t] == a && !!e[t] } function n(e, t) { return typeof e[t] != l } function r(e) { return function (t, n) { for (var r = n.length; r--;)if (!e(t, n[r])) return !1; return !0 } } function i(e) { return e && v(e, d) && g(e, p) } function s(e) { window.alert("Rangy not supported in your browser. Reason: " + e), y.initialized = !0, y.supported = !1 } function o() { if (!y.initialized) { var n, r = !1, o = !1; e(document, "createRange") && (n = document.createRange(), v(n, h) && g(n, c) && (r = !0), n.detach()), (n = t(document, "body") ? document.body : document.getElementsByTagName("body")[0]) && e(n, "createTextRange") && (n = n.createTextRange(), i(n) && (o = !0)), !r && !o && s("Neither Range nor TextRange are implemented"), y.initialized = !0, y.features = { implementsDomRange: r, implementsTextRange: o }, r = w.concat(b), o = 0; for (n = r.length; o < n; ++o)try { r[o](y) } catch (u) { t(window, "console") && e(window.console, "log") && window.console.log("Init listener threw an exception. Continuing.", u) } } } function u(e) { this.name = e, this.supported = this.initialized = !1 } var a = "object", f = "function", l = "undefined", c = "startContainer startOffset endContainer endOffset collapsed commonAncestorContainer START_TO_START START_TO_END END_TO_START END_TO_END".split(" "), h = "setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "), p = "boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "), d = "collapse compareEndPoints duplicate getBookmark moveToBookmark moveToElementText parentElement pasteHTML select setEndPoint getBoundingClientRect".split(" "), v = r(e), m = r(t), g = r(n), y = { version: "1.2.2", initialized: !1, supported: !0, util: { isHostMethod: e, isHostObject: t, isHostProperty: n, areHostMethods: v, areHostObjects: m, areHostProperties: g, isTextRange: i }, features: {}, modules: {}, config: { alertOnWarn: !1, preferTextRange: !1 } }; y.fail = s, y.warn = function (e) { e = "Rangy warning: " + e, y.config.alertOnWarn ? window.alert(e) : typeof window.console != l && typeof window.console.log != l && window.console.log(e) }, {}.hasOwnProperty ? y.util.extend = function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]) } : s("hasOwnProperty not supported"); var b = [], w = []; y.init = o, y.addInitListener = function (e) { y.initialized ? e(y) : b.push(e) }; var E = []; y.addCreateMissingNativeApiListener = function (e) { E.push(e) }, y.createMissingNativeApi = function (e) { e = e || window, o(); for (var t = 0, n = E.length; t < n; ++t)E[t](e) }, u.prototype.fail = function (e) { throw this.initialized = !0, this.supported = !1, Error("Module '" + this.name + "' failed to load: " + e) }, u.prototype.warn = function (e) { y.warn("Module " + this.name + ": " + e) }, u.prototype.createError = function (e) { return Error("Error in Rangy " + this.name + " module: " + e) }, y.createModule = function (e, t) { var n = new u(e); y.modules[e] = n, w.push(function (e) { t(e, n), n.initialized = !0, n.supported = !0 }) }, y.requireModules = function (e) { for (var t = 0, n = e.length, r, i; t < n; ++t) { i = e[t], r = y.modules[i]; if (!r || !(r instanceof u)) throw Error("Module '" + i + "' not found"); if (!r.supported) throw Error("Module '" + i + "' not supported") } }; var S = !1, m = function () { S || (S = !0, y.initialized || o()) }; if (typeof window == l) s("No window found"); else { if (typeof document != l) return e(document, "addEventListener") && document.addEventListener("DOMContentLoaded", m, !1), e(window, "addEventListener") ? window.addEventListener("load", m, !1) : e(window, "attachEvent") ? window.attachEvent("onload", m) : s("Window does not have required addEventListener or attachEvent method"), y; s("No document found") } }(), rangy.createModule("DomUtil", function (e, t) { function n(e) { for (var t = 0; e = e.previousSibling;)t++; return t } function r(e, t) { var n = [], r; for (r = e; r; r = r.parentNode)n.push(r); for (r = t; r; r = r.parentNode)if (v(n, r)) return r; return null } function i(e, t, n) { for (n = n ? e : e.parentNode; n;) { e = n.parentNode; if (e === t) return n; n = e } return null } function s(e) { return e = e.nodeType, 3 == e || 4 == e || 8 == e } function o(e, t) { var n = t.nextSibling, r = t.parentNode; return n ? r.insertBefore(e, n) : r.appendChild(e), e } function u(e) { if (9 == e.nodeType) return e; if (typeof e.ownerDocument != h) return e.ownerDocument; if (typeof e.document != h) return e.document; if (e.parentNode) return u(e.parentNode); throw Error("getDocument: no document found for node") } function a(e) { return e ? s(e) ? '"' + e.data + '"' : 1 == e.nodeType ? "<" + e.nodeName + (e.id ? ' id="' + e.id + '"' : "") + ">[" + e.childNodes.length + "]" : e.nodeName : "[No node]" } function f(e) { this._next = this.root = e } function l(e, t) { this.node = e, this.offset = t } function c(e) { this.code = this[e], this.codeName = e, this.message = "DOMException: " + this.codeName } var h = "undefined", p = e.util; p.areHostMethods(document, ["createDocumentFragment", "createElement", "createTextNode"]) || t.fail("document missing a Node creation method"), p.isHostMethod(document, "getElementsByTagName") || t.fail("document missing getElementsByTagName method"); var d = document.createElement("div"); p.areHostMethods(d, ["insertBefore", "appendChild", "cloneNode"]) || t.fail("Incomplete Element implementation"), p.isHostProperty(d, "innerHTML") || t.fail("Element is missing innerHTML property"), d = document.createTextNode("test"), p.areHostMethods(d, ["splitText", "deleteData", "insertData", "appendData", "cloneNode"]) || t.fail("Incomplete Text Node implementation"); var v = function (e, t) { for (var n = e.length; n--;)if (e[n] === t) return !0; return !1 }; f.prototype = { _current: null, hasNext: function () { return !!this._next }, next: function () { var e = this._current = this._next, t; if (this._current) { t = e.firstChild; if (!t) for (t = null; e !== this.root && !(t = e.nextSibling);)e = e.parentNode; this._next = t } return this._current }, detach: function () { this._current = this._next = this.root = null } }, l.prototype = { equals: function (e) { return this.node === e.node & this.offset == e.offset }, inspect: function () { return "[DomPosition(" + a(this.node) + ":" + this.offset + ")]" } }, c.prototype = { INDEX_SIZE_ERR: 1, HIERARCHY_REQUEST_ERR: 3, WRONG_DOCUMENT_ERR: 4, NO_MODIFICATION_ALLOWED_ERR: 7, NOT_FOUND_ERR: 8, NOT_SUPPORTED_ERR: 9, INVALID_STATE_ERR: 11 }, c.prototype.toString = function () { return this.message }, e.dom = { arrayContains: v, isHtmlNamespace: function (e) { var t; return typeof e.namespaceURI == h || null === (t = e.namespaceURI) || "http://www.w3.org/1999/xhtml" == t }, parentElement: function (e) { return e = e.parentNode, 1 == e.nodeType ? e : null }, getNodeIndex: n, getNodeLength: function (e) { var t; return s(e) ? e.length : (t = e.childNodes) ? t.length : 0 }, getCommonAncestor: r, isAncestorOf: function (e, t, n) { for (t = n ? t : t.parentNode; t;) { if (t === e) return !0; t = t.parentNode } return !1 }, getClosestAncestorIn: i, isCharacterDataNode: s, insertAfter: o, splitDataNode: function (e, t) { var n = e.cloneNode(!1); return n.deleteData(0, t), e.deleteData(t, e.length - t), o(n, e), n }, getDocument: u, getWindow: function (e) { e = u(e); if (typeof e.defaultView != h) return e.defaultView; if (typeof e.parentWindow != h) return e.parentWindow; throw Error("Cannot get a window object for node") }, getIframeWindow: function (e) { if (typeof e.contentWindow != h) return e.contentWindow; if (typeof e.contentDocument != h) return e.contentDocument.defaultView; throw Error("getIframeWindow: No Window object found for iframe element") }, getIframeDocument: function (e) { if (typeof e.contentDocument != h) return e.contentDocument; if (typeof e.contentWindow != h) return e.contentWindow.document; throw Error("getIframeWindow: No Document object found for iframe element") }, getBody: function (e) { return p.isHostObject(e, "body") ? e.body : e.getElementsByTagName("body")[0] }, getRootContainer: function (e) { for (var t; t = e.parentNode;)e = t; return e }, comparePoints: function (e, t, s, o) { var u; if (e == s) return t === o ? 0 : t < o ? -1 : 1; if (u = i(s, e, !0)) return t <= n(u) ? -1 : 1; if (u = i(e, s, !0)) return n(u) < o ? -1 : 1; t = r(e, s), e = e === t ? t : i(e, t, !0), s = s === t ? t : i(s, t, !0); if (e === s) throw Error("comparePoints got to case 4 and childA and childB are the same!"); for (t = t.firstChild; t;) { if (t === e) return -1; if (t === s) return 1; t = t.nextSibling } throw Error("Should not be here!") }, inspectNode: a, fragmentFromNodeChildren: function (e) { for (var t = u(e).createDocumentFragment(), n; n = e.firstChild;)t.appendChild(n); return t }, createIterator: function (e) { return new f(e) }, DomPosition: l }, e.DOMException = c }), rangy.createModule("DomRange", function (e) { function t(e, t) { return 3 != e.nodeType && (D.isAncestorOf(e, t.startContainer, !0) || D.isAncestorOf(e, t.endContainer, !0)) } function n(e) { return D.getDocument(e.startContainer) } function r(e, t, n) { if (t = e._listeners[t]) for (var r = 0, i = t.length; r < i; ++r)t[r].call(e, { target: e, args: n }) } function i(e) { return new P(e.parentNode, D.getNodeIndex(e)) } function s(e) { return new P(e.parentNode, D.getNodeIndex(e) + 1) } function o(e, t, n) { var r = 11 == e.nodeType ? e.firstChild : e; return D.isCharacterDataNode(t) ? n == t.length ? D.insertAfter(e, t) : t.parentNode.insertBefore(e, 0 == n ? t : D.splitDataNode(t, n)) : n >= t.childNodes.length ? t.appendChild(e) : t.insertBefore(e, t.childNodes[n]), r } function u(e) { for (var t, r, i = n(e.range).createDocumentFragment(); r = e.next();) { t = e.isPartiallySelectedSubtree(), r = r.cloneNode(!t), t && (t = e.getSubtreeIterator(), r.appendChild(u(t)), t.detach(!0)); if (10 == r.nodeType) throw new H("HIERARCHY_REQUEST_ERR"); i.appendChild(r) } return i } function a(e, t, n) { for (var r, i, n = n || { stop: !1 }; r = e.next();)if (e.isPartiallySelectedSubtree()) { if (!1 === t(r)) { n.stop = !0; break } if (r = e.getSubtreeIterator(), a(r, t, n), r.detach(!0), n.stop) break } else for (r = D.createIterator(r); i = r.next();)if (!1 === t(i)) { n.stop = !0; return } } function f(e) { for (var t; e.next();)e.isPartiallySelectedSubtree() ? (t = e.getSubtreeIterator(), f(t), t.detach(!0)) : e.remove() } function l(e) { for (var t, r = n(e.range).createDocumentFragment(), i; t = e.next();) { e.isPartiallySelectedSubtree() ? (t = t.cloneNode(!1), i = e.getSubtreeIterator(), t.appendChild(l(i)), i.detach(!0)) : e.remove(); if (10 == t.nodeType) throw new H("HIERARCHY_REQUEST_ERR"); r.appendChild(t) } return r } function c(e, t, n) { var r = !!t && !!t.length, i, s = !!n; r && (i = RegExp("^(" + t.join("|") + ")$")); var o = []; return a(new p(e, !1), function (e) { (!r || i.test(e.nodeType)) && (!s || n(e)) && o.push(e) }), o } function h(e) { return "[" + ("undefined" == typeof e.getName ? "Range" : e.getName()) + "(" + D.inspectNode(e.startContainer) + ":" + e.startOffset + ", " + D.inspectNode(e.endContainer) + ":" + e.endOffset + ")]" } function p(e, t) { this.range = e, this.clonePartiallySelectedTextNodes = t; if (!e.collapsed) { this.sc = e.startContainer, this.so = e.startOffset, this.ec = e.endContainer, this.eo = e.endOffset; var n = e.commonAncestorContainer; this.sc === this.ec && D.isCharacterDataNode(this.sc) ? (this.isSingleCharacterDataNode = !0, this._first = this._last = this._next = this.sc) : (this._first = this._next = this.sc === n && !D.isCharacterDataNode(this.sc) ? this.sc.childNodes[this.so] : D.getClosestAncestorIn(this.sc, n, !0), this._last = this.ec === n && !D.isCharacterDataNode(this.ec) ? this.ec.childNodes[this.eo - 1] : D.getClosestAncestorIn(this.ec, n, !0)) } } function d(e) { this.code = this[e], this.codeName = e, this.message = "RangeException: " + this.codeName } function v(e, t, n) { this.nodes = c(e, t, n), this._next = this.nodes[0], this._position = 0 } function m(e) { return function (t, n) { for (var r, i = n ? t : t.parentNode; i;) { r = i.nodeType; if (D.arrayContains(e, r)) return i; i = i.parentNode } return null } } function g(e, t) { if (z(e, t)) throw new d("INVALID_NODE_TYPE_ERR") } function y(e) { if (!e.startContainer) throw new H("INVALID_STATE_ERR") } function b(e, t) { if (!D.arrayContains(t, e.nodeType)) throw new d("INVALID_NODE_TYPE_ERR") } function w(e, t) { if (0 > t || t > (D.isCharacterDataNode(e) ? e.length : e.childNodes.length)) throw new H("INDEX_SIZE_ERR") } function E(e, t) { if (R(e, !0) !== R(t, !0)) throw new H("WRONG_DOCUMENT_ERR") } function S(e) { if (U(e, !0)) throw new H("NO_MODIFICATION_ALLOWED_ERR") } function x(e, t) { if (!e) throw new H(t) } function T(e) { y(e); if (!D.arrayContains(j, e.startContainer.nodeType) && !R(e.startContainer, !0) || !D.arrayContains(j, e.endContainer.nodeType) && !R(e.endContainer, !0) || !(e.startOffset <= (D.isCharacterDataNode(e.startContainer) ? e.startContainer.length : e.startContainer.childNodes.length)) || !(e.endOffset <= (D.isCharacterDataNode(e.endContainer) ? e.endContainer.length : e.endContainer.childNodes.length))) throw Error("Range error: Range is no longer valid after DOM mutation (" + e.inspect() + ")") } function N() { } function C(e) { e.START_TO_START = J, e.START_TO_END = K, e.END_TO_END = Q, e.END_TO_START = G, e.NODE_BEFORE = Y, e.NODE_AFTER = Z, e.NODE_BEFORE_AND_AFTER = et, e.NODE_INSIDE = tt } function k(e) { C(e), C(e.prototype) } function L(e, t) { return function () { T(this); var n = this.startContainer, r = this.startOffset, i = this.commonAncestorContainer, o = new p(this, !0); return n !== i && (n = D.getClosestAncestorIn(n, i, !0), r = s(n), n = r.node, r = r.offset), a(o, S), o.reset(), i = e(o), o.detach(), t(this, n, r, n, r), i } } function A(n, r, o) { function u(e, t) { return function (n) { y(this), b(n, B), b(q(n), j), n = (e ? i : s)(n), (t ? a : c)(this, n.node, n.offset) } } function a(e, t, n) { var i = e.endContainer, s = e.endOffset; if (t !== e.startContainer || n !== e.startOffset) { if (q(t) != q(i) || 1 == D.comparePoints(t, n, i, s)) i = t, s = n; r(e, t, n, i, s) } } function c(e, t, n) { var i = e.startContainer, s = e.startOffset; if (t !== e.endContainer || n !== e.endOffset) { if (q(t) != q(i) || -1 == D.comparePoints(t, n, i, s)) i = t, s = n; r(e, i, s, t, n) } } n.prototype = new N, e.util.extend(n.prototype, { setStart: function (e, t) { y(this), g(e, !0), w(e, t), a(this, e, t) }, setEnd: function (e, t) { y(this), g(e, !0), w(e, t), c(this, e, t) }, setStartBefore: u(!0, !0), setStartAfter: u(!1, !0), setEndBefore: u(!0, !1), setEndAfter: u(!1, !1), collapse: function (e) { T(this), e ? r(this, this.startContainer, this.startOffset, this.startContainer, this.startOffset) : r(this, this.endContainer, this.endOffset, this.endContainer, this.endOffset) }, selectNodeContents: function (e) { y(this), g(e, !0), r(this, e, 0, e, D.getNodeLength(e)) }, selectNode: function (e) { y(this), g(e, !1), b(e, B); var t = i(e), e = s(e); r(this, t.node, t.offset, e.node, e.offset) }, extractContents: L(l, r), deleteContents: L(f, r), canSurroundContents: function () { T(this), S(this.startContainer), S(this.endContainer); var e = new p(this, !0), n = e._first && t(e._first, this) || e._last && t(e._last, this); return e.detach(), !n }, detach: function () { o(this) }, splitBoundaries: function () { T(this); var e = this.startContainer, t = this.startOffset, n = this.endContainer, i = this.endOffset, s = e === n; D.isCharacterDataNode(n) && 0 < i && i < n.length && D.splitDataNode(n, i), D.isCharacterDataNode(e) && 0 < t && t < e.length && (e = D.splitDataNode(e, t), s ? (i -= t, n = e) : n == e.parentNode && i >= D.getNodeIndex(e) && i++, t = 0), r(this, e, t, n, i) }, normalizeBoundaries: function () { T(this); var e = this.startContainer, t = this.startOffset, n = this.endContainer, i = this.endOffset, s = function (e) { var t = e.nextSibling; t && t.nodeType == e.nodeType && (n = e, i = e.length, e.appendData(t.data), t.parentNode.removeChild(t)) }, o = function (r) { var s = r.previousSibling; if (s && s.nodeType == r.nodeType) { e = r; var o = r.length; t = s.length, r.insertData(0, s.data), s.parentNode.removeChild(s), e == n ? (i += t, n = e) : n == r.parentNode && (s = D.getNodeIndex(r), i == s ? (n = r, i = o) : i > s && i--) } }, u = !0; D.isCharacterDataNode(n) ? n.length == i && s(n) : (0 < i && (u = n.childNodes[i - 1]) && D.isCharacterDataNode(u) && s(u), u = !this.collapsed), u ? D.isCharacterDataNode(e) ? 0 == t && o(e) : t < e.childNodes.length && (s = e.childNodes[t]) && D.isCharacterDataNode(s) && o(s) : (e = n, t = i), r(this, e, t, n, i) }, collapseToPoint: function (e, t) { y(this), g(e, !0), w(e, t), (e !== this.startContainer || t !== this.startOffset || e !== this.endContainer || t !== this.endOffset) && r(this, e, t, e, t) } }), k(n) } function O(e) { e.collapsed = e.startContainer === e.endContainer && e.startOffset === e.endOffset, e.commonAncestorContainer = e.collapsed ? e.startContainer : D.getCommonAncestor(e.startContainer, e.endContainer) } function M(e, t, n, i, s) { var o = e.startContainer !== t || e.startOffset !== n, u = e.endContainer !== i || e.endOffset !== s; e.startContainer = t, e.startOffset = n, e.endContainer = i, e.endOffset = s, O(e), r(e, "boundarychange", { startMoved: o, endMoved: u }) } function _(e) { this.startContainer = e, this.startOffset = 0, this.endContainer = e, this.endOffset = 0, this._listeners = { boundarychange: [], detach: [] }, O(this) } e.requireModules(["DomUtil"]); var D = e.dom, P = D.DomPosition, H = e.DOMException; p.prototype = { _current: null, _next: null, _first: null, _last: null, isSingleCharacterDataNode: !1, reset: function () { this._current = null, this._next = this._first }, hasNext: function () { return !!this._next }, next: function () { var e = this._current = this._next; return e && (this._next = e !== this._last ? e.nextSibling : null, D.isCharacterDataNode(e) && this.clonePartiallySelectedTextNodes && (e === this.ec && (e = e.cloneNode(!0)).deleteData(this.eo, e.length - this.eo), this._current === this.sc && (e = e.cloneNode(!0)).deleteData(0, this.so))), e }, remove: function () { var e = this._current, t, n; !D.isCharacterDataNode(e) || e !== this.sc && e !== this.ec ? e.parentNode && e.parentNode.removeChild(e) : (t = e === this.sc ? this.so : 0, n = e === this.ec ? this.eo : e.length, t != n && e.deleteData(t, n - t)) }, isPartiallySelectedSubtree: function () { return t(this._current, this.range) }, getSubtreeIterator: function () { var e; if (this.isSingleCharacterDataNode) e = this.range.cloneRange(), e.collapse(); else { e = new _(n(this.range)); var t = this._current, r = t, i = 0, s = t, o = D.getNodeLength(t); D.isAncestorOf(t, this.sc, !0) && (r = this.sc, i = this.so), D.isAncestorOf(t, this.ec, !0) && (s = this.ec, o = this.eo), M(e, r, i, s, o) } return new p(e, this.clonePartiallySelectedTextNodes) }, detach: function (e) { e && this.range.detach(), this.range = this._current = this._next = this._first = this._last = this.sc = this.so = this.ec = this.eo = null } }, d.prototype = { BAD_BOUNDARYPOINTS_ERR: 1, INVALID_NODE_TYPE_ERR: 2 }, d.prototype.toString = function () { return this.message }, v.prototype = { _current: null, hasNext: function () { return !!this._next }, next: function () { return this._current = this._next, this._next = this.nodes[++this._position], this._current }, detach: function () { this._current = this._next = this.nodes = null } }; var B = [1, 3, 4, 5, 7, 8, 10], j = [2, 9, 11], F = [1, 3, 4, 5, 7, 8, 10, 11], I = [1, 3, 4, 5, 7, 8], q = D.getRootContainer, R = m([9, 11]), U = m([5, 6, 10, 12]), z = m([6, 10, 12]), W = document.createElement("style"), X = !1; try { W.innerHTML = "<b>x</b>", X = 3 == W.firstChild.nodeType } catch (V) { } e.features.htmlParsingConforms = X; var $ = "startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "), J = 0, K = 1, Q = 2, G = 3, Y = 0, Z = 1, et = 2, tt = 3; N.prototype = { attachListener: function (e, t) { this._listeners[e].push(t) }, compareBoundaryPoints: function (e, t) { T(this), E(this.startContainer, t.startContainer); var n = e == G || e == J ? "start" : "end", r = e == K || e == J ? "start" : "end"; return D.comparePoints(this[n + "Container"], this[n + "Offset"], t[r + "Container"], t[r + "Offset"]) }, insertNode: function (e) { T(this), b(e, F), S(this.startContainer); if (D.isAncestorOf(e, this.startContainer, !0)) throw new H("HIERARCHY_REQUEST_ERR"); this.setStartBefore(o(e, this.startContainer, this.startOffset)) }, cloneContents: function () { T(this); var e, t; return this.collapsed ? n(this).createDocumentFragment() : this.startContainer === this.endContainer && D.isCharacterDataNode(this.startContainer) ? (e = this.startContainer.cloneNode(!0), e.data = e.data.slice(this.startOffset, this.endOffset), t = n(this).createDocumentFragment(), t.appendChild(e), t) : (t = new p(this, !0), e = u(t), t.detach(), e) }, canSurroundContents: function () { T(this), S(this.startContainer), S(this.endContainer); var e = new p(this, !0), n = e._first && t(e._first, this) || e._last && t(e._last, this); return e.detach(), !n }, surroundContents: function (e) { b(e, I); if (!this.canSurroundContents()) throw new d("BAD_BOUNDARYPOINTS_ERR"); var t = this.extractContents(); if (e.hasChildNodes()) for (; e.lastChild;)e.removeChild(e.lastChild); o(e, this.startContainer, this.startOffset), e.appendChild(t), this.selectNode(e) }, cloneRange: function () { T(this); for (var e = new _(n(this)), t = $.length, r; t--;)r = $[t], e[r] = this[r]; return e }, toString: function () { T(this); var e = this.startContainer; if (e === this.endContainer && D.isCharacterDataNode(e)) return 3 == e.nodeType || 4 == e.nodeType ? e.data.slice(this.startOffset, this.endOffset) : ""; var t = [], e = new p(this, !0); return a(e, function (e) { (3 == e.nodeType || 4 == e.nodeType) && t.push(e.data) }), e.detach(), t.join("") }, compareNode: function (e) { T(this); var t = e.parentNode, n = D.getNodeIndex(e); if (!t) throw new H("NOT_FOUND_ERR"); return e = this.comparePoint(t, n), t = this.comparePoint(t, n + 1), 0 > e ? 0 < t ? et : Y : 0 < t ? Z : tt }, comparePoint: function (e, t) { return T(this), x(e, "HIERARCHY_REQUEST_ERR"), E(e, this.startContainer), 0 > D.comparePoints(e, t, this.startContainer, this.startOffset) ? -1 : 0 < D.comparePoints(e, t, this.endContainer, this.endOffset) ? 1 : 0 }, createContextualFragment: X ? function (e) { var t = this.startContainer, n = D.getDocument(t); if (!t) throw new H("INVALID_STATE_ERR"); var r = null; return 1 == t.nodeType ? r = t : D.isCharacterDataNode(t) && (r = D.parentElement(t)), r = null === r || "HTML" == r.nodeName && D.isHtmlNamespace(D.getDocument(r).documentElement) && D.isHtmlNamespace(r) ? n.createElement("body") : r.cloneNode(!1), r.innerHTML = e, D.fragmentFromNodeChildren(r) } : function (e) { y(this); var t = n(this).createElement("body"); return t.innerHTML = e, D.fragmentFromNodeChildren(t) }, toHtml: function () { T(this); var e = n(this).createElement("div"); return e.appendChild(this.cloneContents()), e.innerHTML }, intersectsNode: function (e, t) { T(this), x(e, "NOT_FOUND_ERR"); if (D.getDocument(e) !== n(this)) return !1; var r = e.parentNode, i = D.getNodeIndex(e); x(r, "NOT_FOUND_ERR"); var s = D.comparePoints(r, i, this.endContainer, this.endOffset), r = D.comparePoints(r, i + 1, this.startContainer, this.startOffset); return t ? 0 >= s && 0 <= r : 0 > s && 0 < r }, isPointInRange: function (e, t) { return T(this), x(e, "HIERARCHY_REQUEST_ERR"), E(e, this.startContainer), 0 <= D.comparePoints(e, t, this.startContainer, this.startOffset) && 0 >= D.comparePoints(e, t, this.endContainer, this.endOffset) }, intersectsRange: function (e, t) { T(this); if (n(e) != n(this)) throw new H("WRONG_DOCUMENT_ERR"); var r = D.comparePoints(this.startContainer, this.startOffset, e.endContainer, e.endOffset), i = D.comparePoints(this.endContainer, this.endOffset, e.startContainer, e.startOffset); return t ? 0 >= r && 0 <= i : 0 > r && 0 < i }, intersection: function (e) { if (this.intersectsRange(e)) { var t = D.comparePoints(this.startContainer, this.startOffset, e.startContainer, e.startOffset), n = D.comparePoints(this.endContainer, this.endOffset, e.endContainer, e.endOffset), r = this.cloneRange(); return -1 == t && r.setStart(e.startContainer, e.startOffset), 1 == n && r.setEnd(e.endContainer, e.endOffset), r } return null }, union: function (e) { if (this.intersectsRange(e, !0)) { var t = this.cloneRange(); return -1 == D.comparePoints(e.startContainer, e.startOffset, this.startContainer, this.startOffset) && t.setStart(e.startContainer, e.startOffset), 1 == D.comparePoints(e.endContainer, e.endOffset, this.endContainer, this.endOffset) && t.setEnd(e.endContainer, e.endOffset), t } throw new d("Ranges do not intersect") }, containsNode: function (e, t) { return t ? this.intersectsNode(e, !1) : this.compareNode(e) == tt }, containsNodeContents: function (e) { return 0 <= this.comparePoint(e, 0) && 0 >= this.comparePoint(e, D.getNodeLength(e)) }, containsRange: function (e) { return this.intersection(e).equals(e) }, containsNodeText: function (e) { var t = this.cloneRange(); t.selectNode(e); var n = t.getNodes([3]); return 0 < n.length ? (t.setStart(n[0], 0), e = n.pop(), t.setEnd(e, e.length), e = this.containsRange(t), t.detach(), e) : this.containsNodeContents(e) }, createNodeIterator: function (e, t) { return T(this), new v(this, e, t) }, getNodes: function (e, t) { return T(this), c(this, e, t) }, getDocument: function () { return n(this) }, collapseBefore: function (e) { y(this), this.setEndBefore(e), this.collapse(!1) }, collapseAfter: function (e) { y(this), this.setStartAfter(e), this.collapse(!0) }, getName: function () { return "DomRange" }, equals: function (e) { return _.rangesEqual(this, e) }, inspect: function () { return h(this) } }, A(_, M, function (e) { y(e), e.startContainer = e.startOffset = e.endContainer = e.endOffset = null, e.collapsed = e.commonAncestorContainer = null, r(e, "detach", null), e._listeners = null }), e.rangePrototype = N.prototype, _.rangeProperties = $, _.RangeIterator = p, _.copyComparisonConstants = k, _.createPrototypeRange = A, _.inspect = h, _.getRangeDocument = n, _.rangesEqual = function (e, t) { return e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset }, e.DomRange = _, e.RangeException = d }), rangy.createModule("WrappedRange", function (e) {
    function t(e, t, n, r) { var o = e.duplicate(); o.collapse(n); var u = o.parentElement(); i.isAncestorOf(t, u, !0) || (u = t); if (!u.canHaveHTML) return new s(u.parentNode, i.getNodeIndex(u)); var t = i.getDocument(u).createElement("span"), a, l = n ? "StartToStart" : "StartToEnd"; do u.insertBefore(t, t.previousSibling), o.moveToElementText(t); while (0 < (a = o.compareEndPoints(l, e)) && t.previousSibling); l = t.nextSibling; if (-1 == a && l && i.isCharacterDataNode(l)) { o.setEndPoint(n ? "EndToStart" : "EndToEnd", e); if (/[\r\n]/.test(l.data)) { u = o.duplicate(), n = u.text.replace(/\r\n/g, "\r").length; for (n = u.moveStart("character", n); -1 == u.compareEndPoints("StartToEnd", u);)n++, u.moveStart("character", 1) } else n = o.text.length; u = new s(l, n) } else l = (r || !n) && t.previousSibling, u = (n = (r || n) && t.nextSibling) && i.isCharacterDataNode(n) ? new s(n, 0) : l && i.isCharacterDataNode(l) ? new s(l, l.length) : new s(u, i.getNodeIndex(t)); return t.parentNode.removeChild(t), u } function n(e, t) { var n, r, s = e.offset, o = i.getDocument(e.node), u = o.body.createTextRange(), a = i.isCharacterDataNode(e.node); return a ? (n = e.node, r = n.parentNode) : (n = e.node.childNodes, n = s < n.length ? n[s] : null, r = e.node), o = o.createElement("span"), o.innerHTML = "&#feff;", n ? r.insertBefore(o, n) : r.appendChild(o), u.moveToElementText(o), u.collapse(!t), r.removeChild(o), a && u[t ? "moveStart" : "moveEnd"]("character", s), u } e.requireModules(["DomUtil", "DomRange"]); var r, i = e.dom, s = i.DomPosition, o = e.DomRange; if (e.features.implementsDomRange && (!e.features.implementsTextRange || !e.config.preferTextRange)) (function () { function t(e) { for (var t = s.length, n; t--;)n = s[t], e[n] = e.nativeRange[n] } var n, s = o.rangeProperties, u; r = function (e) { if (!e) throw Error("Range must be specified"); this.nativeRange = e, t(this) }, o.createPrototypeRange(r, function (e, t, n, r, i) { var s = e.endContainer !== r || e.endOffset != i; if (e.startContainer !== t || e.startOffset != n || s) e.setEnd(r, i), e.setStart(t, n) }, function (e) { e.nativeRange.detach(), e.detached = !0; for (var t = s.length, n; t--;)n = s[t], e[n] = null }), n = r.prototype, n.selectNode = function (e) { this.nativeRange.selectNode(e), t(this) }, n.deleteContents = function () { this.nativeRange.deleteContents(), t(this) }, n.extractContents = function () { var e = this.nativeRange.extractContents(); return t(this), e }, n.cloneContents = function () { return this.nativeRange.cloneContents() }, n.surroundContents = function (e) { this.nativeRange.surroundContents(e), t(this) }, n.collapse = function (e) { this.nativeRange.collapse(e), t(this) }, n.cloneRange = function () { return new r(this.nativeRange.cloneRange()) }, n.refresh = function () { t(this) }, n.toString = function () { return this.nativeRange.toString() }; var a = document.createTextNode("test"); i.getBody(document).appendChild(a); var f = document.createRange(); f.setStart(a, 0), f.setEnd(a, 0); try { f.setStart(a, 1), n.setStart = function (e, n) { this.nativeRange.setStart(e, n), t(this) }, n.setEnd = function (e, n) { this.nativeRange.setEnd(e, n), t(this) }, u = function (e) { return function (n) { this.nativeRange[e](n), t(this) } } } catch (l) { n.setStart = function (e, n) { try { this.nativeRange.setStart(e, n) } catch (r) { this.nativeRange.setEnd(e, n), this.nativeRange.setStart(e, n) } t(this) }, n.setEnd = function (e, n) { try { this.nativeRange.setEnd(e, n) } catch (r) { this.nativeRange.setStart(e, n), this.nativeRange.setEnd(e, n) } t(this) }, u = function (e, n) { return function (r) { try { this.nativeRange[e](r) } catch (i) { this.nativeRange[n](r), this.nativeRange[e](r) } t(this) } } } n.setStartBefore = u("setStartBefore", "setEndBefore"), n.setStartAfter = u("setStartAfter", "setEndAfter"), n.setEndBefore = u("setEndBefore", "setStartBefore"), n.setEndAfter = u("setEndAfter", "setStartAfter"), f.selectNodeContents(a), n.selectNodeContents = f.startContainer == a && f.endContainer == a && 0 == f.startOffset && f.endOffset == a.length ? function (e) { this.nativeRange.selectNodeContents(e), t(this) } : function (e) { this.setStart(e, 0), this.setEnd(e, o.getEndOffset(e)) }, f.selectNodeContents(a), f.setEnd(a, 3), u = document.createRange(), u.selectNodeContents(a), u.setEnd(a, 4), u.setStart(a, 2), n.compareBoundaryPoints = -1 == f.compareBoundaryPoints(f.START_TO_END, u) & 1 == f.compareBoundaryPoints(f.END_TO_START, u) ? function (e, t) { return t = t.nativeRange || t, e == t.START_TO_END ? e = t.END_TO_START : e == t.END_TO_START && (e = t.START_TO_END), this.nativeRange.compareBoundaryPoints(e, t) } : function (e, t) { return this.nativeRange.compareBoundaryPoints(e, t.nativeRange || t) }, e.util.isHostMethod(f, "createContextualFragment") && (n.createContextualFragment = function (e) { return this.nativeRange.createContextualFragment(e) }), i.getBody(document).removeChild(a), f.detach(), u.detach() })(), e.createNativeRange = function (e) { return e = e || document, e.createRange() }; else if (e.features.implementsTextRange) { r = function (e) { this.textRange = e, this.refresh() }, r.prototype = new o(document), r.prototype.refresh = function () { var e, n, r = this.textRange; e = r.parentElement(); var s = r.duplicate(); s.collapse(!0), n = s.parentElement(), s = r.duplicate(), s.collapse(!1), r = s.parentElement(), n = n == r ? n : i.getCommonAncestor(n, r), n = n == e ? n : i.getCommonAncestor(e, n), 0 == this.textRange.compareEndPoints("StartToEnd", this.textRange) ? n = e = t(this.textRange, n, !0, !0) : (e = t(this.textRange, n, !0, !1), n = t(this.textRange, n, !1, !1)), this.setStart(e.node, e.offset), this.setEnd(n.node, n.offset) }, o.copyComparisonConstants(r); var u = function () { return this }(); "undefined" == typeof u.Range && (u.Range = r), e.createNativeRange = function (e) { return e = e || document, e.body.createTextRange() } } e.features.implementsTextRange && (r.rangeToTextRange = function (e) {
        if (e.collapsed) return n(new s(e.startContainer, e.startOffset), !0); var t = n(new s(e.startContainer, e.startOffset), !0), r = n(new s(e
            .endContainer, e.endOffset), !1), e = i.getDocument(e.startContainer).body.createTextRange(); return e.setEndPoint("StartToStart", t), e.setEndPoint("EndToEnd", r), e
    }), r.prototype.getName = function () { return "WrappedRange" }, e.WrappedRange = r, e.createRange = function (t) { return t = t || document, new r(e.createNativeRange(t)) }, e.createRangyRange = function (e) { return e = e || document, new o(e) }, e.createIframeRange = function (t) { return e.createRange(i.getIframeDocument(t)) }, e.createIframeRangyRange = function (t) { return e.createRangyRange(i.getIframeDocument(t)) }, e.addCreateMissingNativeApiListener(function (t) { t = t.document, typeof t.createRange == "undefined" && (t.createRange = function () { return e.createRange(this) }), t = t = null })
}), rangy.createModule("WrappedSelection", function (e, t) { function n(e) { return (e || window).getSelection() } function r(e) { return (e || window).document.selection } function i(e, t, n) { var r = n ? "end" : "start", n = n ? "start" : "end"; e.anchorNode = t[r + "Container"], e.anchorOffset = t[r + "Offset"], e.focusNode = t[n + "Container"], e.focusOffset = t[n + "Offset"] } function s(e) { e.anchorNode = e.focusNode = null, e.anchorOffset = e.focusOffset = 0, e.rangeCount = 0, e.isCollapsed = !0, e._ranges.length = 0 } function o(t) { var n; return t instanceof g ? (n = t._selectionNativeRange, n || (n = e.createNativeRange(v.getDocument(t.startContainer)), n.setEnd(t.endContainer, t.endOffset), n.setStart(t.startContainer, t.startOffset), t._selectionNativeRange = n, t.attachListener("detach", function () { this._selectionNativeRange = null }))) : t instanceof y ? n = t.nativeRange : e.features.implementsDomRange && t instanceof v.getWindow(t.startContainer).Range && (n = t), n } function u(e) { var t = e.getNodes(), n; e: if (!t.length || 1 != t[0].nodeType) n = !1; else { n = 1; for (var r = t.length; n < r; ++n)if (!v.isAncestorOf(t[0], t[n])) { n = !1; break e } n = !0 } if (!n) throw Error("getSingleElementFromRange: range " + e.inspect() + " did not consist of a single element"); return t[0] } function a(e, t) { var n = new y(t); e._ranges = [n], i(e, n, !1), e.rangeCount = 1, e.isCollapsed = n.collapsed } function f(t) { t._ranges.length = 0; if ("None" == t.docSelection.type) s(t); else { var n = t.docSelection.createRange(); if (n && "undefined" != typeof n.text) a(t, n); else { t.rangeCount = n.length; for (var r, o = v.getDocument(n.item(0)), u = 0; u < t.rangeCount; ++u)r = e.createRange(o), r.selectNode(n.item(u)), t._ranges.push(r); t.isCollapsed = 1 == t.rangeCount && t._ranges[0].collapsed, i(t, t._ranges[t.rangeCount - 1], !1) } } } function l(e, t) { for (var n = e.docSelection.createRange(), r = u(t), i = v.getDocument(n.item(0)), i = v.getBody(i).createControlRange(), s = 0, o = n.length; s < o; ++s)i.add(n.item(s)); try { i.add(r) } catch (a) { throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)") } i.select(), f(e) } function c(e, t, n) { this.nativeSelection = e, this.docSelection = t, this._ranges = [], this.win = n, this.refresh() } function h(e, t) { for (var n = v.getDocument(t[0].startContainer), n = v.getBody(n).createControlRange(), r = 0, i; r < rangeCount; ++r) { i = u(t[r]); try { n.add(i) } catch (s) { throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)") } } n.select(), f(e) } function p(e, t) { if (e.anchorNode && v.getDocument(e.anchorNode) !== v.getDocument(t)) throw new b("WRONG_DOCUMENT_ERR") } function d(e) { var t = [], n = new w(e.anchorNode, e.anchorOffset), r = new w(e.focusNode, e.focusOffset), i = "function" == typeof e.getName ? e.getName() : "Selection"; if ("undefined" != typeof e.rangeCount) for (var s = 0, o = e.rangeCount; s < o; ++s)t[s] = g.inspect(e.getRangeAt(s)); return "[" + i + "(Ranges: " + t.join(", ") + ")(anchor: " + n.inspect() + ", focus: " + r.inspect() + "]" } e.requireModules(["DomUtil", "DomRange", "WrappedRange"]), e.config.checkSelectionRanges = !0; var v = e.dom, m = e.util, g = e.DomRange, y = e.WrappedRange, b = e.DOMException, w = v.DomPosition, E, S, x = e.util.isHostMethod(window, "getSelection"), T = e.util.isHostObject(document, "selection"), N = T && (!x || e.config.preferTextRange); N ? (E = r, e.isSelectionValid = function (e) { var e = (e || window).document, t = e.selection; return "None" != t.type || v.getDocument(t.createRange().parentElement()) == e }) : x ? (E = n, e.isSelectionValid = function () { return !0 }) : t.fail("Neither document.selection or window.getSelection() detected."), e.getNativeSelection = E; var x = E(), C = e.createNativeRange(document), k = v.getBody(document), L = m.areHostObjects(x, m.areHostProperties(x, ["anchorOffset", "focusOffset"])); e.features.selectionHasAnchorAndFocus = L; var A = m.isHostMethod(x, "extend"); e.features.selectionHasExtend = A; var O = "number" == typeof x.rangeCount; e.features.selectionHasRangeCount = O; var M = !1, _ = !0; m.areHostMethods(x, ["addRange", "getRangeAt", "removeAllRanges"]) && "number" == typeof x.rangeCount && e.features.implementsDomRange && function () { var e = document.createElement("iframe"); k.appendChild(e); var t = v.getIframeDocument(e); t.open(), t.write("<html><head></head><body>12</body></html>"), t.close(); var n = v.getIframeWindow(e).getSelection(), r = t.documentElement.lastChild.firstChild, t = t.createRange(); t.setStart(r, 1), t.collapse(!0), n.addRange(t), _ = n.rangeCount == 1, n.removeAllRanges(); var i = t.cloneRange(); t.setStart(r, 0), i.setEnd(r, 2), n.addRange(t), n.addRange(i), M = n.rangeCount == 2, t.detach(), i.detach(), k.removeChild(e) }(), e.features.selectionSupportsMultipleRanges = M, e.features.collapsedNonEditableSelectionsSupported = _; var D = !1, P; k && m.isHostMethod(k, "createControlRange") && (P = k.createControlRange(), m.areHostProperties(P, ["item", "add"]) && (D = !0)), e.features.implementsControlRange = D, S = L ? function (e) { return e.anchorNode === e.focusNode && e.anchorOffset === e.focusOffset } : function (e) { return e.rangeCount ? e.getRangeAt(e.rangeCount - 1).collapsed : !1 }; var H; m.isHostMethod(x, "getRangeAt") ? H = function (e, t) { try { return e.getRangeAt(t) } catch (n) { return null } } : L && (H = function (t) { var n = v.getDocument(t.anchorNode), n = e.createRange(n); return n.setStart(t.anchorNode, t.anchorOffset), n.setEnd(t.focusNode, t.focusOffset), n.collapsed !== this.isCollapsed && (n.setStart(t.focusNode, t.focusOffset), n.setEnd(t.anchorNode, t.anchorOffset)), n }), e.getSelection = function (e) { var e = e || window, t = e._rangySelection, n = E(e), i = T ? r(e) : null; return t ? (t.nativeSelection = n, t.docSelection = i, t.refresh(e)) : (t = new c(n, i, e), e._rangySelection = t), t }, e.getIframeSelection = function (t) { return e.getSelection(v.getIframeWindow(t)) }, P = c.prototype; if (!N && L && m.areHostMethods(x, ["removeAllRanges", "addRange"])) { P.removeAllRanges = function () { this.nativeSelection.removeAllRanges(), s(this) }; var B = function (t, n) { var r = g.getRangeDocument(n), r = e.createRange(r); r.collapseToPoint(n.endContainer, n.endOffset), t.nativeSelection.addRange(o(r)), t.nativeSelection.extend(n.startContainer, n.startOffset), t.refresh() }; P.addRange = O ? function (t, n) { if (D && T && this.docSelection.type == "Control") l(this, t); else if (n && A) B(this, t); else { var r; M ? r = this.rangeCount : (this.removeAllRanges(), r = 0), this.nativeSelection.addRange(o(t)), this.rangeCount = this.nativeSelection.rangeCount, this.rangeCount == r + 1 ? (e.config.checkSelectionRanges && (r = H(this.nativeSelection, this.rangeCount - 1)) && !g.rangesEqual(r, t) && (t = new y(r)), this._ranges[this.rangeCount - 1] = t, i(this, t, I(this.nativeSelection)), this.isCollapsed = S(this)) : this.refresh() } } : function (e, t) { t && A ? B(this, e) : (this.nativeSelection.addRange(o(e)), this.refresh()) }, P.setRanges = function (e) { if (D && e.length > 1) h(this, e); else { this.removeAllRanges(); for (var t = 0, n = e.length; t < n; ++t)this.addRange(e[t]) } } } else { if (!(m.isHostMethod(x, "empty") && m.isHostMethod(C, "select") && D && N)) return t.fail("No means of selecting a Range or TextRange was found"), !1; P.removeAllRanges = function () { try { this.docSelection.empty(); if (this.docSelection.type != "None") { var e; if (this.anchorNode) e = v.getDocument(this.anchorNode); else if (this.docSelection.type == "Control") { var t = this.docSelection.createRange(); t.length && (e = v.getDocument(t.item(0)).body.createTextRange()) } e && (e.body.createTextRange().select(), this.docSelection.empty()) } } catch (n) { } s(this) }, P.addRange = function (e) { this.docSelection.type == "Control" ? l(this, e) : (y.rangeToTextRange(e).select(), this._ranges[0] = e, this.rangeCount = 1, this.isCollapsed = this._ranges[0].collapsed, i(this, e, !1)) }, P.setRanges = function (e) { this.removeAllRanges(); var t = e.length; t > 1 ? h(this, e) : t && this.addRange(e[0]) } } P.getRangeAt = function (e) { if (e < 0 || e >= this.rangeCount) throw new b("INDEX_SIZE_ERR"); return this._ranges[e] }; var j; if (N) j = function (t) { var n; e.isSelectionValid(t.win) ? n = t.docSelection.createRange() : (n = v.getBody(t.win.document).createTextRange(), n.collapse(!0)), t.docSelection.type == "Control" ? f(t) : n && typeof n.text != "undefined" ? a(t, n) : s(t) }; else if (m.isHostMethod(x, "getRangeAt") && "number" == typeof x.rangeCount) j = function (t) { if (D && T && t.docSelection.type == "Control") f(t); else { t._ranges.length = t.rangeCount = t.nativeSelection.rangeCount; if (t.rangeCount) { for (var n = 0, r = t.rangeCount; n < r; ++n)t._ranges[n] = new e.WrappedRange(t.nativeSelection.getRangeAt(n)); i(t, t._ranges[t.rangeCount - 1], I(t.nativeSelection)), t.isCollapsed = S(t) } else s(t) } }; else { if (!L || "boolean" != typeof x.isCollapsed || "boolean" != typeof C.collapsed || !e.features.implementsDomRange) return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"), !1; j = function (e) { var t; t = e.nativeSelection, t.anchorNode ? (t = H(t, 0), e._ranges = [t], e.rangeCount = 1, t = e.nativeSelection, e.anchorNode = t.anchorNode, e.anchorOffset = t.anchorOffset, e.focusNode = t.focusNode, e.focusOffset = t.focusOffset, e.isCollapsed = S(e)) : s(e) } } P.refresh = function (e) { var t = e ? this._ranges.slice(0) : null; j(this); if (e) { e = t.length; if (e != this._ranges.length) return !1; for (; e--;)if (!g.rangesEqual(t[e], this._ranges[e])) return !1; return !0 } }; var F = function (e, t) { var n = e.getAllRanges(), r = !1; e.removeAllRanges(); for (var i = 0, o = n.length; i < o; ++i)r || t !== n[i] ? e.addRange(n[i]) : r = !0; e.rangeCount || s(e) }; P.removeRange = D ? function (e) { if (this.docSelection.type == "Control") { for (var t = this.docSelection.createRange(), e = u(e), n = v.getDocument(t.item(0)), n = v.getBody(n).createControlRange(), r, i = !1, s = 0, o = t.length; s < o; ++s)r = t.item(s), r !== e || i ? n.add(t.item(s)) : i = !0; n.select(), f(this) } else F(this, e) } : function (e) { F(this, e) }; var I; !N && L && e.features.implementsDomRange ? (I = function (e) { var t = !1; return e.anchorNode && (t = v.comparePoints(e.anchorNode, e.anchorOffset, e.focusNode, e.focusOffset) == 1), t }, P.isBackwards = function () { return I(this) }) : I = P.isBackwards = function () { return !1 }, P.toString = function () { for (var e = [], t = 0, n = this.rangeCount; t < n; ++t)e[t] = "" + this._ranges[t]; return e.join("") }, P.collapse = function (t, n) { p(this, t); var r = e.createRange(v.getDocument(t)); r.collapseToPoint(t, n), this.removeAllRanges(), this.addRange(r), this.isCollapsed = !0 }, P.collapseToStart = function () { if (!this.rangeCount) throw new b("INVALID_STATE_ERR"); var e = this._ranges[0]; this.collapse(e.startContainer, e.startOffset) }, P.collapseToEnd = function () { if (!this.rangeCount) throw new b("INVALID_STATE_ERR"); var e = this._ranges[this.rangeCount - 1]; this.collapse(e.endContainer, e.endOffset) }, P.selectAllChildren = function (t) { p(this, t); var n = e.createRange(v.getDocument(t)); n.selectNodeContents(t), this.removeAllRanges(), this.addRange(n) }, P.deleteFromDocument = function () { if (D && T && this.docSelection.type == "Control") { for (var e = this.docSelection.createRange(), t; e.length;)t = e.item(0), e.remove(t), t.parentNode.removeChild(t); this.refresh() } else if (this.rangeCount) { e = this.getAllRanges(), this.removeAllRanges(), t = 0; for (var n = e.length; t < n; ++t)e[t].deleteContents(); this.addRange(e[n - 1]) } }, P.getAllRanges = function () { return this._ranges.slice(0) }, P.setSingleRange = function (e) { this.setRanges([e]) }, P.containsNode = function (e, t) { for (var n = 0, r = this._ranges.length; n < r; ++n)if (this._ranges[n].containsNode(e, t)) return !0; return !1 }, P.toHtml = function () { var e = ""; if (this.rangeCount) { for (var e = g.getRangeDocument(this._ranges[0]).createElement("div"), t = 0, n = this._ranges.length; t < n; ++t)e.appendChild(this._ranges[t].cloneContents()); e = e.innerHTML } return e }, P.getName = function () { return "WrappedSelection" }, P.inspect = function () { return d(this) }, P.detach = function () { this.win = this.anchorNode = this.focusNode = this.win._rangySelection = null }, c.inspect = d, e.Selection = c, e.selectionPrototype = P, e.addCreateMissingNativeApiListener(function (t) { typeof t.getSelection == "undefined" && (t.getSelection = function () { return e.getSelection(this) }), t = null }) }); var Base = function () { }; Base.extend = function (e, t) { var n = Base.prototype.extend; Base._prototyping = !0; var r = new this; n.call(r, e), r.base = function () { }, delete Base._prototyping; var i = r.constructor, s = r.constructor = function () { if (!Base._prototyping) if (this._constructing || this.constructor == s) this._constructing = !0, i.apply(this, arguments), delete this._constructing; else if (null != arguments[0]) return (arguments[0].extend || n).call(arguments[0], r) }; return s.ancestor = this, s.extend = this.extend, s.forEach = this.forEach, s.implement = this.implement, s.prototype = r, s.toString = this.toString, s.valueOf = function (e) { return "object" == e ? s : i.valueOf() }, n.call(s, t), "function" == typeof s.init && s.init(), s }, Base.prototype = { extend: function (e, t) { if (1 < arguments.length) { var n = this[e]; if (n && "function" == typeof t && (!n.valueOf || n.valueOf() != t.valueOf()) && /\bbase\b/.test(t)) { var r = t.valueOf(), t = function () { var e = this.base || Base.prototype.base; this.base = n; var t = r.apply(this, arguments); return this.base = e, t }; t.valueOf = function (e) { return "object" == e ? t : r }, t.toString = Base.toString } this[e] = t } else if (e) { var i = Base.prototype.extend; !Base._prototyping && "function" != typeof this && (i = this.extend || i); for (var s = { toSource: null }, o = ["constructor", "toString", "valueOf"], u = Base._prototyping ? 0 : 1; a = o[u++];)e[a] != s[a] && i.call(this, a, e[a]); for (var a in e) s[a] || i.call(this, a, e[a]) } return this } }, Base = Base.extend({ constructor: function (e) { this.extend(e) } }, { ancestor: Object, version: "1.1", forEach: function (e, t, n) { for (var r in e) void 0 === this.prototype[r] && t.call(n, e[r], r, e) }, implement: function () { for (var e = 0; e < arguments.length; e++)"function" == typeof arguments[e] ? arguments[e](this.prototype) : this.prototype.extend(arguments[e]); return this }, toString: function () { return "" + this.valueOf() } }), wysihtml5.browser = function () { var e = navigator.userAgent, t = document.createElement("div"), n = -1 !== e.indexOf("MSIE") && -1 === e.indexOf("Opera"), r = -1 !== e.indexOf("Gecko") && -1 === e.indexOf("KHTML"), i = -1 !== e.indexOf("AppleWebKit/"), s = -1 !== e.indexOf("Chrome/"), o = -1 !== e.indexOf("Opera/"); return { USER_AGENT: e, supported: function () { var e = this.USER_AGENT.toLowerCase(), n = "contentEditable" in t, r = document.execCommand && document.queryCommandSupported && document.queryCommandState, i = document.querySelector && document.querySelectorAll, e = this.isIos() && 5 > (/ipad|iphone|ipod/.test(e) && e.match(/ os (\d+).+? like mac os x/) || [, 0])[1] || -1 !== e.indexOf("opera mobi") || -1 !== e.indexOf("hpwos/"); return n && r && i && !e }, isTouchDevice: function () { return this.supportsEvent("touchmove") }, isIos: function () { var e = this.USER_AGENT.toLowerCase(); return -1 !== e.indexOf("webkit") && -1 !== e.indexOf("mobile") }, supportsSandboxedIframes: function () { return n }, throwsMixedContentWarningWhenIframeSrcIsEmpty: function () { return !("querySelector" in document) }, displaysCaretInEmptyContentEditableCorrectly: function () { return !r }, hasCurrentStyleProperty: function () { return "currentStyle" in t }, insertsLineBreaksOnReturn: function () { return r }, supportsPlaceholderAttributeOn: function (e) { return "placeholder" in e }, supportsEvent: function (e) { var n; return (n = "on" + e in t) || (t.setAttribute("on" + e, "return;"), n = "function" == typeof t["on" + e]), n }, supportsEventsInIframeCorrectly: function () { return !o }, firesOnDropOnlyWhenOnDragOverIsCancelled: function () { return i || r }, supportsDataTransfer: function () { try { return i && (window.Clipboard || window.DataTransfer).prototype.getData } catch (e) { return !1 } }, supportsHTML5Tags: function (e) { return e = e.createElement("div"), e.innerHTML = "<article>foo</article>", "<article>foo</article>" === e.innerHTML.toLowerCase() }, supportsCommand: function () { var e = { formatBlock: n, insertUnorderedList: n || o || i, insertOrderedList: n || o || i }, t = { insertHTML: r }; return function (n, r) { if (!e[r]) { try { return n.queryCommandSupported(r) } catch (i) { } try { return n.queryCommandEnabled(r) } catch (s) { return !!t[r] } } return !1 } }(), doesAutoLinkingInContentEditable: function () { return n }, canDisableAutoLinking: function () { return this.supportsCommand(document, "AutoUrlDetect") }, clearsContentEditableCorrectly: function () { return r || o || i }, supportsGetAttributeCorrectly: function () { return "1" != document.createElement("td").getAttribute("rowspan") }, canSelectImagesInContentEditable: function () { return r || n || o }, clearsListsInContentEditableCorrectly: function () { return r || n || i }, autoScrollsToCaret: function () { return !i }, autoClosesUnclosedTags: function () { var e = t.cloneNode(!1), n; return e.innerHTML = "<p><div></div>", e = e.innerHTML.toLowerCase(), n = "<p></p><div></div>" === e || "<p><div></div></p>" === e, this.autoClosesUnclosedTags = function () { return n }, n }, supportsNativeGetElementsByClassName: function () { return -1 !== ("" + document.getElementsByClassName).indexOf("[native code]") }, supportsSelectionModify: function () { return "getSelection" in window && "modify" in window.getSelection() }, supportsClassList: function () { return "classList" in t }, needsSpaceAfterLineBreak: function () { return o }, supportsSpeechApiOn: function (t) { return 11 <= (e.match(/Chrome\/(\d+)/) || [, 0])[1] && ("onwebkitspeechchange" in t || "speech" in t) }, crashesWhenDefineProperty: function (e) { return n && ("XMLHttpRequest" === e || "XDomainRequest" === e) }, doesAsyncFocus: function () { return n }, hasProblemsSettingCaretAfterImg: function () { return n }, hasUndoInContextMenu: function () { return r || s || o } } }(), wysihtml5.lang.array = function (e) { return { contains: function (t) { if (e.indexOf) return -1 !== e.indexOf(t); for (var n = 0, r = e.length; n < r; n++)if (e[n] === t) return !0; return !1 }, without: function (t) { for (var t = wysihtml5.lang.array(t), n = [], r = 0, i = e.length; r < i; r++)t.contains(e[r]) || n.push(e[r]); return n }, get: function () { for (var t = 0, n = e.length, r = []; t < n; t++)r.push(e[t]); return r } } }, wysihtml5.lang.Dispatcher = Base.extend({ observe: function (e, t) { return this.events = this.events || {}, this.events[e] = this.events[e] || [], this.events[e].push(t), this }, on: function () { return this.observe.apply(this, wysihtml5.lang.array(arguments).get()) }, fire: function (e, t) { this.events = this.events || {}; for (var n = this.events[e] || [], r = 0; r < n.length; r++)n[r].call(this, t); return this }, stopObserving: function (e, t) { this.events = this.events || {}; var n = 0, r, i; if (e) { r = this.events[e] || []; for (i = []; n < r.length; n++)r[n] !== t && t && i.push(r[n]); this.events[e] = i } else this.events = {}; return this } }), wysihtml5.lang.object = function (e) { return { merge: function (t) { for (var n in t) e[n] = t[n]; return this }, get: function () { return e }, clone: function () { var t = {}, n; for (n in e) t[n] = e[n]; return t }, isArray: function () { return "[object Array]" === Object.prototype.toString.call(e) } } }, function () { var e = /^\s+/, t = /\s+$/; wysihtml5.lang.string = function (n) { return n = "" + n, { trim: function () { return n.replace(e, "").replace(t, "") }, interpolate: function (e) { for (var t in e) n = this.replace("#{" + t + "}").by(e[t]); return n }, replace: function (e) { return { by: function (t) { return n.split(e).join(t) } } } } } }(), function (e) { function t(e) { return e.replace(i, function (e, t) { var n = (t.match(s) || [])[1] || "", r = u[n], t = t.replace(s, ""); t.split(r).length > t.split(n).length && (t += n, n = ""); var i = r = t; return t.length > o && (i = i.substr(0, o) + "..."), "www." === r.substr(0, 4) && (r = "http://" + r), '<a href="' + r + '">' + i + "</a>" + n }) } function n(s) { if (!r.contains(s.nodeName)) { if (s.nodeType !== e.TEXT_NODE || !s.data.match(i)) { o = e.lang.array(s.childNodes).get(), u = o.length; for (f = 0; f < u; f++)n(o[f]); return s } var o = s.parentNode, u; u = o.ownerDocument; var f = u._wysihtml5_tempElement; f || (f = u._wysihtml5_tempElement = u.createElement("div")), u = f, u.innerHTML = "<span></span>" + t(s.data); for (u.removeChild(u.firstChild); u.firstChild;)o.insertBefore(u.firstChild, s); o.removeChild(s) } } var r = e.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")), i = /((https?:\/\/|www\.)[^\s<]{3,})/gi, s = /([^\w\/\-](,?))$/i, o = 100, u = { ")": "(", "]": "[", "}": "{" }; e.dom.autoLink = function (e) { var t; e: { t = e; for (var i; t.parentNode;) { t = t.parentNode, i = t.nodeName; if (r.contains(i)) { t = !0; break e } if ("body" === i) break } t = !1 } return t ? e : (e === e.ownerDocument.documentElement && (e = e.ownerDocument.body), n(e)) }, e.dom.autoLink.URL_REG_EXP = i }(wysihtml5), function (e) { var t = e.browser.supportsClassList(), n = e.dom; n.addClass = function (e, r) { if (t) return e.classList.add(r); n.hasClass(e, r) || (e.className += " " + r) }, n.removeClass = function (e, n) { if (t) return e.classList.remove(n); e.className = e.className.replace(RegExp("(^|\\s+)" + n + "(\\s+|$)"), " ") }, n.hasClass = function (e, n) { if (t) return e.classList.contains(n); var r = e.className; return 0 < r.length && (r == n || RegExp("(^|\\s)" + n + "(\\s|$)").test(r)) } }(wysihtml5), wysihtml5.dom.contains = function () { var e = document.documentElement; if (e.contains) return function (e, t) { return t.nodeType !== wysihtml5.ELEMENT_NODE && (t = t.parentNode), e !== t && e.contains(t) }; if (e.compareDocumentPosition) return function (e, t) { return !!(e.compareDocumentPosition(t) & 16) } }(), wysihtml5.dom.convertToList = function () { function e(e, t) { var n = e.createElement("li"); return t.appendChild(n), n } return function (t, n) { if ("UL" === t.nodeName || "OL" === t.nodeName || "MENU" === t.nodeName) return t; var r = t.ownerDocument, i = r.createElement(n), s = t.querySelectorAll("br"), o = s.length, u, a, f, l, c; for (c = 0; c < o; c++)for (u = s[c]; (a = u.parentNode) && a !== t && a.lastChild === u;) { if ("block" === wysihtml5.dom.getStyle("display").from(a)) { a.removeChild(u); break } wysihtml5.dom.insert(u).after(u.parentNode) } s = wysihtml5.lang.array(t.childNodes).get(), o = s.length; for (c = 0; c < o; c++)l = l || e(r, i), u = s[c], a = "block" === wysihtml5.dom.getStyle("display").from(u), f = "BR" === u.nodeName, a ? (l = l.firstChild ? e(r, i) : l, l.appendChild(u), l = null) : f ? l = l.firstChild ? null : l : l.appendChild(u); return t.parentNode.replaceChild(i, t), i } }(), wysihtml5.dom.copyAttributes = function (e) { return { from: function (t) { return { to: function (n) { for (var r, i = 0, s = e.length; i < s; i++)r = e[i], "undefined" != typeof t[r] && "" !== t[r] && (n[r] = t[r]); return { andTo: arguments.callee } } } } } }, function (e) { var t = ["-webkit-box-sizing", "-moz-box-sizing", "-ms-box-sizing", "box-sizing"], n = function (n) { var r; e: for (var i = 0, s = t.length; i < s; i++)if ("border-box" === e.getStyle(t[i]).from(n)) { r = t[i]; break e } return r ? parseInt(e.getStyle("width").from(n), 10) < n.offsetWidth : !1 }; e.copyStyles = function (r) { return { from: function (i) { n(i) && (r = wysihtml5.lang.array(r).without(t)); for (var s = "", o = r.length, u = 0, f; u < o; u++)f = r[u], s += f + ":" + e.getStyle(f).from(i) + ";"; return { to: function (t) { return e.setStyles(s).on(t), { andTo: arguments.callee } } } } } } }(wysihtml5.dom), function (e) { e.dom.delegate = function (t, n, r, i) { return e.dom.observe(t, r, function (r) { for (var s = r.target, o = e.lang.array(t.querySelectorAll(n)); s && s !== t;) { if (o.contains(s)) { i.call(s, r); break } s = s.parentNode } }) } }(wysihtml5), wysihtml5.dom.getAsDom = function () { var e = "abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" "); return function (t, n) { var n = n || document, r; if ("object" == typeof t && t.nodeType) r = n.createElement("div"), r.appendChild(t); else if (wysihtml5.browser.supportsHTML5Tags(n)) r = n.createElement("div"), r.innerHTML = t; else { r = n; if (!r._wysihtml5_supportsHTML5Tags) { for (var i = 0, s = e.length; i < s; i++)r.createElement(e[i]); r._wysihtml5_supportsHTML5Tags = !0 } r = n, i = r.createElement("div"), i.style.display = "none", r.body.appendChild(i); try { i.innerHTML = t } catch (o) { } r.body.removeChild(i), r = i } return r } }(), wysihtml5.dom.getParentElement = function () { function e(e, t) { return !t || !t.length ? !0 : "string" == typeof t ? e === t : wysihtml5.lang.array(t).contains(e) } return function (t, n, r) { r = r || 50; if (n.className || n.classRegExp) { e: { for (var i = n.nodeName, s = n.className, n = n.classRegExp; r-- && t && "BODY" !== t.nodeName;) { var o; if (o = t.nodeType === wysihtml5.ELEMENT_NODE) if (o = e(t.nodeName, i)) { o = s; var u = (t.className || "").match(n) || []; o = o ? u[u.length - 1] === o : !!u.length } if (o) break e; t = t.parentNode } t = null } return t } e: { i = n.nodeName; for (s = r; s-- && t && "BODY" !== t.nodeName;) { if (e(t.nodeName, i)) break e; t = t.parentNode } t = null } return t } }(), wysihtml5.dom.getStyle = function () { function e(e) { return e.replace(n, function (e) { return e.charAt(1).toUpperCase() }) } var t = { "float": "styleFloat" in document.createElement("div").style ? "styleFloat" : "cssFloat" }, n = /\-[a-z]/g; return function (n) { return { from: function (r) { if (r.nodeType === wysihtml5.ELEMENT_NODE) { var i = r.ownerDocument, s = t[n] || e(n), o = r.style, u = r.currentStyle, f = o[s]; if (f) return f; if (u) try { return u[s] } catch (l) { } var s = i.defaultView || i.parentWindow, i = ("height" === n || "width" === n) && "TEXTAREA" === r.nodeName, h; if (s.getComputedStyle) return i && (h = o.overflow, o.overflow = "hidden"), r = s.getComputedStyle(r, null).getPropertyValue(n), i && (o.overflow = h || ""), r } } } } }(), wysihtml5.dom.hasElementWithTagName = function () { var e = {}, t = 1; return function (n, r) { var i = (n._wysihtml5_identifier || (n._wysihtml5_identifier = t++)) + ":" + r, s = e[i]; return s || (s = e[i] = n.getElementsByTagName(r)), 0 < s.length } }(), function (e) { var t = {}, n = 1; e.dom.hasElementWithClassName = function (r, i) { if (!e.browser.supportsNativeGetElementsByClassName()) return !!r.querySelector("." + i); var s = (r._wysihtml5_identifier || (r._wysihtml5_identifier = n++)) + ":" + i, o = t[s]; return o || (o = t[s] = r.getElementsByClassName(i)), 0 < o.length } }(wysihtml5), wysihtml5.dom.insert = function (e) { return { after: function (t) { t.parentNode.insertBefore(e, t.nextSibling) }, before: function (t) { t.parentNode.insertBefore(e, t) }, into: function (t) { t.appendChild(e) } } }, wysihtml5.dom.insertCSS = function (e) { return e = e.join("\n"), { into: function (t) { var n = t.head || t.getElementsByTagName("head")[0], r = t.createElement("style"); r.type = "text/css", r.styleSheet ? r.styleSheet.cssText = e : r.appendChild(t.createTextNode(e)), n && n.appendChild(r) } } }, wysihtml5.dom.observe = function (e, t, n) { for (var t = "string" == typeof t ? [t] : t, r, i, s = 0, o = t.length; s < o; s++)i = t[s], e.addEventListener ? e.addEventListener(i, n, !1) : (r = function (t) { "target" in t || (t.target = t.srcElement), t.preventDefault = t.preventDefault || function () { this.returnValue = !1 }, t.stopPropagation = t.stopPropagation || function () { this.cancelBubble = !0 }, n.call(e, t) }, e.attachEvent("on" + i, r)); return { stop: function () { for (var i, s = 0, o = t.length; s < o; s++)i = t[s], e.removeEventListener ? e.removeEventListener(i, n, !1) : e.detachEvent("on" + i, r) } } }, wysihtml5.dom.parse = function () { function e(t, i) { var s = t.childNodes, o = s.length, u; u = n[t.nodeType]; var a = 0; u = u && u(t); if (!u) return null; for (a = 0; a < o; a++)(newChild = e(s[a], i)) && u.appendChild(newChild); return i && 1 >= u.childNodes.length && u.nodeName.toLowerCase() === r && !u.attributes.length ? u.firstChild : u } function t(e, t) { var t = t.toLowerCase(), n; if (n = "IMG" == e.nodeName) if (n = "src" == t) { var r; try { r = e.complete && !e.mozMatchesSelector(":-moz-broken") } catch (i) { e.complete && "complete" === e.readyState && (r = !0) } n = !0 === r } return n ? e.src : u && "outerHTML" in e ? -1 != e.outerHTML.toLowerCase().indexOf(" " + t + "=") ? e.getAttribute(t) : null : e.getAttribute(t) } var n = { 1: function (e) { var n, s, u = o.tags; s = e.nodeName.toLowerCase(), n = e.scopeName; if (e._wysihtml5) return null; e._wysihtml5 = 1; if ("wysihtml5-temp" === e.className) return null; n && "HTML" != n && (s = n + ":" + s), "outerHTML" in e && !wysihtml5.browser.autoClosesUnclosedTags() && "P" === e.nodeName && "</p>" !== e.outerHTML.slice(-4).toLowerCase() && (s = "div"); if (s in u) { n = u[s]; if (!n || n.remove) return null; n = "string" == typeof n ? { rename_tag: n } : n } else { if (!e.firstChild) return null; n = { rename_tag: r } } s = e.ownerDocument.createElement(n.rename_tag || s); var u = {}, l = n.set_class, p = n.add_class, v = n.set_attributes, m = n.check_attributes, y = o.classes, b = 0, w = []; n = []; var E = [], S = [], x; v && (u = wysihtml5.lang.object(v).clone()); if (m) for (x in m) if (v = a[m[x]]) v = v(t(e, x)), "string" == typeof v && (u[x] = v); l && w.push(l); if (p) for (x in p) if (v = f[p[x]]) l = v(t(e, x)), "string" == typeof l && w.push(l); y["_wysihtml5-temp-placeholder"] = 1, (S = e.getAttribute("class")) && (w = w.concat(S.split(i))); for (p = w.length; b < p; b++)e = w[b], y[e] && n.push(e); for (y = n.length; y--;)e = n[y], wysihtml5.lang.array(E).contains(e) || E.unshift(e); E.length && (u["class"] = E.join(" ")); for (x in u) try { s.setAttribute(x, u[x]) } catch (T) { } return u.src && ("undefined" != typeof u.width && s.setAttribute("width", u.width), "undefined" != typeof u.height && s.setAttribute("height", u.height)), s }, 3: function (e) { return e.ownerDocument.createTextNode(e.data) } }, r = "span", i = /\s+/, s = { tags: {}, classes: {} }, o = {}, u = !wysihtml5.browser.supportsGetAttributeCorrectly(), a = { url: function () { var e = /^https?:\/\//i; return function (t) { return !t || !t.match(e) ? null : t.replace(e, function (e) { return e.toLowerCase() }) } }(), alt: function () { var e = /[^ a-z0-9_\-]/gi; return function (t) { return t ? t.replace(e, "") : "" } }(), numbers: function () { var e = /\D/g; return function (t) { return (t = (t || "").replace(e, "")) || null } }() }, f = { align_img: function () { var e = { left: "wysiwyg-float-left", right: "wysiwyg-float-right" }; return function (t) { return e[("" + t).toLowerCase()] } }(), align_text: function () { var e = { left: "wysiwyg-text-align-left", right: "wysiwyg-text-align-right", center: "wysiwyg-text-align-center", justify: "wysiwyg-text-align-justify" }; return function (t) { return e[("" + t).toLowerCase()] } }(), clear_br: function () { var e = { left: "wysiwyg-clear-left", right: "wysiwyg-clear-right", both: "wysiwyg-clear-both", all: "wysiwyg-clear-both" }; return function (t) { return e[("" + t).toLowerCase()] } }(), size_font: function () { var e = { 1: "wysiwyg-font-size-xx-small", 2: "wysiwyg-font-size-small", 3: "wysiwyg-font-size-medium", 4: "wysiwyg-font-size-large", 5: "wysiwyg-font-size-x-large", 6: "wysiwyg-font-size-xx-large", 7: "wysiwyg-font-size-xx-large", "-": "wysiwyg-font-size-smaller", "+": "wysiwyg-font-size-larger" }; return function (t) { return e[("" + t).charAt(0)] } }() }; return function (t, n, r, i) { wysihtml5.lang.object(o).merge(s).merge(n).get(); for (var r = r || t.ownerDocument || document, n = r.createDocumentFragment(), u = "string" == typeof t, t = u ? wysihtml5.dom.getAsDom(t, r) : t; t.firstChild;)r = t.firstChild, t.removeChild(r), (r = e(r, i)) && n.appendChild(r); return t.innerHTML = "", t.appendChild(n), u ? wysihtml5.quirks.getCorrectInnerHTML(t) : t } }(), wysihtml5.dom.removeEmptyTextNodes = function (e) { for (var t = wysihtml5.lang.array(e.childNodes).get(), n = t.length, r = 0; r < n; r++)e = t[r], e.nodeType === wysihtml5.TEXT_NODE && "" === e.data && e.parentNode.removeChild(e) }, wysihtml5.dom.renameElement = function (e, t) { for (var n = e.ownerDocument.createElement(t), r; r = e.firstChild;)n.appendChild(r); return wysihtml5.dom.copyAttributes(["align", "className"]).from(e).to(n), e.parentNode.replaceChild(n, e), n }, wysihtml5.dom.replaceWithChildNodes = function (e) { if (e.parentNode) if (e.firstChild) { for (var t = e.ownerDocument.createDocumentFragment(); e.firstChild;)t.appendChild(e.firstChild); e.parentNode.replaceChild(t, e) } else e.parentNode.removeChild(e) }, function (e) { function t(e) { var t = e.ownerDocument.createElement("br"); e.appendChild(t) } e.resolveList = function (n) { if ("MENU" === n.nodeName || "UL" === n.nodeName || "OL" === n.nodeName) { var r = n.ownerDocument.createDocumentFragment(), i = n.previousElementSibling || n.previousSibling, s, o, u; for (i && "block" !== e.getStyle("display").from(i) && t(r); u = n.firstChild;) { for (s = u.lastChild; i = u.firstChild;)o = (o = i === s) && "block" !== e.getStyle("display").from(i) && "BR" !== i.nodeName, r.appendChild(i), o && t(r); u.parentNode.removeChild(u) } n.parentNode.replaceChild(r, n) } } }(wysihtml5.dom), function (e) {
    var t = document, n = "parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "), r = "open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "), i = ["referrer", "write", "open", "close"]; e.dom.Sandbox = Base.extend({
        constructor: function (t, n) { this.callback = t || e.EMPTY_FUNCTION, this.config = e.lang.object({}).merge(n).get(), this.iframe = this._createIframe() }, insertInto: function (e) { "string" == typeof e && (e = t.getElementById(e)), e.appendChild(this.iframe) }, getIframe: function () { return this.iframe }, getWindow: function () { this._readyError() }, getDocument: function () { this._readyError() }, destroy: function () { var e = this.getIframe(); e.parentNode.removeChild(e) }, _readyError: function () { throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet") }, _createIframe: function () { var n = this, r = t.createElement("iframe"); return r.className = "wysihtml5-sandbox", e.dom.setAttributes({ security: "restricted", allowtransparency: "true", frameborder: 0, width: 0, height: 0, marginwidth: 0, marginheight: 0 }).on(r), e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty() && (r.src = "javascript:'<html></html>'"), r.onload = function () { r.onreadystatechange = r.onload = null, n._onLoadIframe(r) }, r.onreadystatechange = function () { /loaded|complete/.test(r.readyState) && (r.onreadystatechange = r.onload = null, n._onLoadIframe(r)) }, r }, _onLoadIframe: function (s) { if (e.dom.contains(t.documentElement, s)) { var o = this, u = s.contentWindow, f = s.contentWindow.document, l = this._getHtml({ charset: t.characterSet || t.charset || "utf-8", stylesheets: this.config.stylesheets }); f.open("text/html", "replace"), f.write(l), f.close(), this.getWindow = function () { return s.contentWindow }, this.getDocument = function () { return s.contentWindow.document }, u.onerror = function (e, t, n) { throw Error("wysihtml5.Sandbox: " + e, t, n) }; if (!e.browser.supportsSandboxedIframes()) { var h, l = 0; for (h = n.length; l < h; l++)this._unset(u, n[l]); l = 0; for (h = r.length; l < h; l++)this._unset(u, r[l], e.EMPTY_FUNCTION); l = 0; for (h = i.length; l < h; l++)this._unset(f, i[l]); this._unset(f, "cookie", "", !0) } this.loaded = !0, setTimeout(function () { o.callback(o) }, 0) } }, _getHtml: function (t) {
            var n = t.stylesheets, r = "", i = 0, s; if (n = "string" == typeof n ? [n] : n) for (s = n.length
                ; i < s; i++)r += '<link rel="stylesheet" href="' + n[i] + '">'; return t.stylesheets = r, e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)
        }, _unset: function (t, n, r, i) { try { t[n] = r } catch (s) { } try { t.__defineGetter__(n, function () { return r }) } catch (o) { } if (i) try { t.__defineSetter__(n, function () { }) } catch (u) { } if (!e.browser.crashesWhenDefineProperty(n)) try { var a = { get: function () { return r } }; i && (a.set = function () { }), Object.defineProperty(t, n, a) } catch (f) { } }
    })
}(wysihtml5), function () { var e = { className: "class" }; wysihtml5.dom.setAttributes = function (t) { return { on: function (n) { for (var r in t) n.setAttribute(e[r] || r, t[r]) } } } }(), wysihtml5.dom.setStyles = function (e) { return { on: function (t) { t = t.style; if ("string" == typeof e) t.cssText += ";" + e; else for (var n in e) "float" === n ? (t.cssFloat = e[n], t.styleFloat = e[n]) : t[n] = e[n] } } }, function (e) { e.simulatePlaceholder = function (t, n, r) { var i = function () { n.hasPlaceholderSet() && n.clear(), e.removeClass(n.element, "placeholder") }, s = function () { n.isEmpty() && (n.setValue(r), e.addClass(n.element, "placeholder")) }; t.observe("set_placeholder", s).observe("unset_placeholder", i).observe("focus:composer", i).observe("paste:composer", i).observe("blur:composer", s), s() } }(wysihtml5.dom), function (e) { var t = document.documentElement; "textContent" in t ? (e.setTextContent = function (e, t) { e.textContent = t }, e.getTextContent = function (e) { return e.textContent }) : "innerText" in t ? (e.setTextContent = function (e, t) { e.innerText = t }, e.getTextContent = function (e) { return e.innerText }) : (e.setTextContent = function (e, t) { e.nodeValue = t }, e.getTextContent = function (e) { return e.nodeValue }) }(wysihtml5.dom), wysihtml5.quirks.cleanPastedHTML = function () { var e = { "a u": wysihtml5.dom.replaceWithChildNodes }; return function (t, n, r) { var n = n || e, r = r || t.ownerDocument || document, i = "string" == typeof t, s, o, u, a = 0, t = i ? wysihtml5.dom.getAsDom(t, r) : t; for (u in n) { s = t.querySelectorAll(u), r = n[u]; for (o = s.length; a < o; a++)r(s[a]) } return i ? t.innerHTML : t } }(), function (e) { var t = e.dom; e.quirks.ensureProperClearing = function () { var e = function () { var e = this; setTimeout(function () { var t = e.innerHTML.toLowerCase(); if ("<p>&nbsp;</p>" == t || "<p>&nbsp;</p><p>&nbsp;</p>" == t) e.innerHTML = "" }, 0) }; return function (n) { t.observe(n.element, ["cut", "keydown"], e) } }(), e.quirks.ensureProperClearingOfLists = function () { var n = ["OL", "UL", "MENU"]; return function (r) { t.observe(r.element, "keydown", function (i) { if (i.keyCode === e.BACKSPACE_KEY) { var s = r.selection.getSelectedNode(), i = r.element; i.firstChild && e.lang.array(n).contains(i.firstChild.nodeName) && (s = t.getParentElement(s, { nodeName: n })) && s == i.firstChild && 1 >= s.childNodes.length && (s.firstChild ? "" === s.firstChild.innerHTML : 1) && s.parentNode.removeChild(s) } }) } }() }(wysihtml5), function (e) { e.quirks.getCorrectInnerHTML = function (t) { var n = t.innerHTML; if (-1 === n.indexOf("%7E")) return n; var t = t.querySelectorAll("[href*='~'], [src*='~']"), r, i, s, o; o = 0; for (s = t.length; o < s; o++)r = t[o].href || t[o].src, i = e.lang.string(r).replace("~").by("%7E"), n = e.lang.string(n).replace(i).by(r); return n } }(wysihtml5), function (e) { var t = e.dom, n = "LI P H1 H2 H3 H4 H5 H6".split(" "), r = ["UL", "OL", "MENU"]; e.quirks.insertLineBreakOnReturn = function (i) { function s(n) { if (n = t.getParentElement(n, { nodeName: ["P", "DIV"] }, 2)) { var r = document.createTextNode(e.INVISIBLE_SPACE); t.insert(r).before(n), t.replaceWithChildNodes(n), i.selection.selectNode(r) } } t.observe(i.element.ownerDocument, "keydown", function (o) { var u = o.keyCode; if (!(o.shiftKey || u !== e.ENTER_KEY && u !== e.BACKSPACE_KEY)) { var l = i.selection.getSelectedNode(); (l = t.getParentElement(l, { nodeName: n }, 4)) ? "LI" !== l.nodeName || u !== e.ENTER_KEY && u !== e.BACKSPACE_KEY ? l.nodeName.match(/H[1-6]/) && u === e.ENTER_KEY && setTimeout(function () { s(i.selection.getSelectedNode()) }, 0) : setTimeout(function () { var e = i.selection.getSelectedNode(), n; e && ((n = t.getParentElement(e, { nodeName: r }, 2)) || s(e)) }, 0) : u === e.ENTER_KEY && !e.browser.insertsLineBreaksOnReturn() && (i.commands.exec("insertLineBreak"), o.preventDefault()) } }) } }(wysihtml5), function (e) { e.quirks.redraw = function (t) { e.dom.addClass(t, "wysihtml5-quirks-redraw"), e.dom.removeClass(t, "wysihtml5-quirks-redraw"); try { var n = t.ownerDocument; n.execCommand("italic", !1, null), n.execCommand("italic", !1, null) } catch (r) { } } }(wysihtml5), function (e) { var t = e.dom; e.Selection = Base.extend({ constructor: function (e) { window.rangy.init(), this.editor = e, this.composer = e.composer, this.doc = this.composer.doc }, getBookmark: function () { var e = this.getRange(); return e && e.cloneRange() }, setBookmark: function (e) { e && this.setSelection(e) }, setBefore: function (e) { var t = rangy.createRange(this.doc); return t.setStartBefore(e), t.setEndBefore(e), this.setSelection(t) }, setAfter: function (e) { var t = rangy.createRange(this.doc); return t.setStartAfter(e), t.setEndAfter(e), this.setSelection(t) }, selectNode: function (n) { var r = rangy.createRange(this.doc), i = n.nodeType === e.ELEMENT_NODE, s = "canHaveHTML" in n ? n.canHaveHTML : "IMG" !== n.nodeName, o = i ? n.innerHTML : n.data, o = "" === o || o === e.INVISIBLE_SPACE, u = t.getStyle("display").from(n), u = "block" === u || "list-item" === u; if (o && i && s) try { n.innerHTML = e.INVISIBLE_SPACE } catch (a) { } s ? r.selectNodeContents(n) : r.selectNode(n), s && o && i ? r.collapse(u) : s && o && (r.setStartAfter(n), r.setEndAfter(n)), this.setSelection(r) }, getSelectedNode: function (e) { return e && this.doc.selection && "Control" === this.doc.selection.type && (e = this.doc.selection.createRange()) && e.length ? e.item(0) : (e = this.getSelection(this.doc), e.focusNode === e.anchorNode ? e.focusNode : (e = this.getRange(this.doc)) ? e.commonAncestorContainer : this.doc.body) }, executeAndRestore: function (t, n) { var r = this.doc.body, i = n && r.scrollTop, s = n && r.scrollLeft, o = '<span class="_wysihtml5-temp-placeholder">' + e.INVISIBLE_SPACE + "</span>", u = this.getRange(this.doc); if (u) { o = u.createContextualFragment(o), u.insertNode(o); try { t(u.startContainer, u.endContainer) } catch (a) { setTimeout(function () { throw a }, 0) } (caretPlaceholder = this.doc.querySelector("._wysihtml5-temp-placeholder")) ? (u = rangy.createRange(this.doc), u.selectNode(caretPlaceholder), u.deleteContents(), this.setSelection(u)) : r.focus(), n && (r.scrollTop = i, r.scrollLeft = s); try { caretPlaceholder.parentNode.removeChild(caretPlaceholder) } catch (f) { } } else t(r, r) }, executeAndRestoreSimple: function (e) { var t, n, r = this.getRange(), i = this.doc.body, s; if (r) { t = r.getNodes([3]), i = t[0] || r.startContainer, s = t[t.length - 1] || r.endContainer, t = i === r.startContainer ? r.startOffset : 0, n = s === r.endContainer ? r.endOffset : s.length; try { e(r.startContainer, r.endContainer) } catch (o) { setTimeout(function () { throw o }, 0) } e = rangy.createRange(this.doc); try { e.setStart(i, t) } catch (u) { } try { e.setEnd(s, n) } catch (a) { } try { this.setSelection(e) } catch (f) { } } else e(i, i) }, insertHTML: function (e) { var e = rangy.createRange(this.doc).createContextualFragment(e), t = e.lastChild; this.insertNode(e), t && this.setAfter(t) }, insertNode: function (e) { var t = this.getRange(); t && t.insertNode(e) }, surround: function (e) { var t = this.getRange(); if (t) try { t.surroundContents(e), this.selectNode(e) } catch (n) { e.appendChild(t.extractContents()), t.insertNode(e) } }, scrollIntoView: function () { var t = this.doc, n = t.documentElement.scrollHeight > t.documentElement.offsetHeight, r; (r = t._wysihtml5ScrollIntoViewElement) || (r = t.createElement("span"), r.innerHTML = e.INVISIBLE_SPACE), r = t._wysihtml5ScrollIntoViewElement = r; if (n) { this.insertNode(r); var n = r, i = 0; if (n.parentNode) do i += n.offsetTop || 0, n = n.offsetParent; while (n); n = i, r.parentNode.removeChild(r), n > t.body.scrollTop && (t.body.scrollTop = n) } }, selectLine: function () { e.browser.supportsSelectionModify() ? this._selectLine_W3C() : this.doc.selection && this._selectLine_MSIE() }, _selectLine_W3C: function () { var e = this.doc.defaultView.getSelection(); e.modify("extend", "left", "lineboundary"), e.modify("extend", "right", "lineboundary") }, _selectLine_MSIE: function () { var e = this.doc.selection.createRange(), t = e.boundingTop, n = this.doc.body.scrollWidth, r; if (e.moveToPoint) { 0 === t && (r = this.doc.createElement("span"), this.insertNode(r), t = r.offsetTop, r.parentNode.removeChild(r)), t += 1; for (r = -10; r < n; r += 2)try { e.moveToPoint(r, t); break } catch (i) { } for (r = this.doc.selection.createRange(); 0 <= n; n--)try { r.moveToPoint(n, t); break } catch (s) { } e.setEndPoint("EndToEnd", r), e.select() } }, getText: function () { var e = this.getSelection(); return e ? e.toString() : "" }, getNodes: function (e, t) { var n = this.getRange(); return n ? n.getNodes([e], t) : [] }, getRange: function () { var e = this.getSelection(); return e && e.rangeCount && e.getRangeAt(0) }, getSelection: function () { return rangy.getSelection(this.doc.defaultView || this.doc.parentWindow) }, setSelection: function (e) { return rangy.getSelection(this.doc.defaultView || this.doc.parentWindow).setSingleRange(e) } }) }(wysihtml5), function (e, t) { function n(e, n) { return t.dom.isCharacterDataNode(e) ? 0 == n ? !!e.previousSibling : n == e.length ? !!e.nextSibling : !0 : 0 < n && n < e.childNodes.length } function r(e, n, i) { var s; t.dom.isCharacterDataNode(n) && (0 == i ? (i = t.dom.getNodeIndex(n), n = n.parentNode) : i == n.length ? (i = t.dom.getNodeIndex(n) + 1, n = n.parentNode) : s = t.dom.splitDataNode(n, i)); if (!s) { s = n.cloneNode(!1), s.id && s.removeAttribute("id"); for (var o; o = n.childNodes[i];)s.appendChild(o); t.dom.insertAfter(s, n) } return n == e ? s : r(e, s.parentNode, t.dom.getNodeIndex(s)) } function i(t) { this.firstTextNode = (this.isElementMerge = t.nodeType == e.ELEMENT_NODE) ? t.lastChild : t, this.textNodes = [this.firstTextNode] } function s(e, t, n, r) { this.tagNames = e || [o], this.cssClass = t || "", this.similarClassRegExp = n, this.normalize = r, this.applyToAnyTagName = !1 } var o = "span", u = /\s+/g; i.prototype = { doMerge: function () { for (var e = [], t, n, r = 0, i = this.textNodes.length; r < i; ++r)t = this.textNodes[r], n = t.parentNode, e[r] = t.data, r && (n.removeChild(t), n.hasChildNodes() || n.parentNode.removeChild(n)); return this.firstTextNode.data = e = e.join("") }, getLength: function () { for (var e = this.textNodes.length, t = 0; e--;)t += this.textNodes[e].length; return t }, toString: function () { for (var e = [], t = 0, n = this.textNodes.length; t < n; ++t)e[t] = "'" + this.textNodes[t].data + "'"; return "[Merge(" + e.join(",") + ")]" } }, s.prototype = { getAncestorWithClass: function (n) { for (var r; n;) { if (this.cssClass) if (r = this.cssClass, n.className) { var i = n.className.match(this.similarClassRegExp) || []; r = i[i.length - 1] === r } else r = !1; else r = !0; if (n.nodeType == e.ELEMENT_NODE && t.dom.arrayContains(this.tagNames, n.tagName.toLowerCase()) && r) return n; n = n.parentNode } return !1 }, postApply: function (e, t) { for (var n = e[0], r = e[e.length - 1], s = [], o, u = n, a = r, f = 0, l = r.length, c, h, p = 0, d = e.length; p < d; ++p)if (c = e[p], h = this.getAdjacentMergeableTextNode(c.parentNode, !1)) { if (o || (o = new i(h), s.push(o)), o.textNodes.push(c), c === n && (u = o.firstTextNode, f = u.length), c === r) a = o.firstTextNode, l = o.getLength() } else o = null; if (n = this.getAdjacentMergeableTextNode(r.parentNode, !0)) o || (o = new i(r), s.push(o)), o.textNodes.push(n); if (s.length) { p = 0; for (d = s.length; p < d; ++p)s[p].doMerge(); t.setStart(u, f), t.setEnd(a, l) } }, getAdjacentMergeableTextNode: function (t, n) { var r = t.nodeType == e.TEXT_NODE, i = r ? t.parentNode : t, s = n ? "nextSibling" : "previousSibling"; if (r) { if ((r = t[s]) && r.nodeType == e.TEXT_NODE) return r } else if ((r = i[s]) && this.areElementsMergeable(t, r)) return r[n ? "firstChild" : "lastChild"]; return null }, areElementsMergeable: function (e, n) { var r; if (r = t.dom.arrayContains(this.tagNames, (e.tagName || "").toLowerCase())) if (r = t.dom.arrayContains(this.tagNames, (n.tagName || "").toLowerCase())) if (r = e.className.replace(u, " ") == n.className.replace(u, " ")) e: if (e.attributes.length != n.attributes.length) r = !1; else { r = 0; for (var i = e.attributes.length, s, o; r < i; ++r)if (s = e.attributes[r], o = s.name, "class" != o && (o = n.attributes.getNamedItem(o), s.specified != o.specified || s.specified && s.nodeValue !== o.nodeValue)) { r = !1; break e } r = !0 } return r }, createContainer: function (e) { return e = e.createElement(this.tagNames[0]), this.cssClass && (e.className = this.cssClass), e }, applyToTextNode: function (e) { var n = e.parentNode; 1 == n.childNodes.length && t.dom.arrayContains(this.tagNames, n.tagName.toLowerCase()) ? this.cssClass && (e = this.cssClass, n.className ? (n.className && (n.className = n.className.replace(this.similarClassRegExp, "")), n.className += " " + e) : n.className = e) : (n = this.createContainer(t.dom.getDocument(e)), e.parentNode.insertBefore(n, e), n.appendChild(e)) }, isRemovable: function (n) { return t.dom.arrayContains(this.tagNames, n.tagName.toLowerCase()) && e.lang.string(n.className).trim() == this.cssClass }, undoToTextNode: function (e, t, i) { t.containsNode(i) || (e = t.cloneRange(), e.selectNode(i), e.isPointInRange(t.endContainer, t.endOffset) && n(t.endContainer, t.endOffset) && (r(i, t.endContainer, t.endOffset), t.setEndAfter(i)), e.isPointInRange(t.startContainer, t.startOffset) && n(t.startContainer, t.startOffset) && (i = r(i, t.startContainer, t.startOffset))), this.similarClassRegExp && i.className && (i.className = i.className.replace(this.similarClassRegExp, "")); if (this.isRemovable(i)) { t = i; for (i = t.parentNode; t.firstChild;)i.insertBefore(t.firstChild, t); i.removeChild(t) } }, applyToRange: function (t) { var n = t.getNodes([e.TEXT_NODE]); if (!n.length) try { var r = this.createContainer(t.endContainer.ownerDocument); t.surroundContents(r), this.selectNode(t, r); return } catch (i) { } t.splitBoundaries(), n = t.getNodes([e.TEXT_NODE]); if (n.length) { for (var s = 0, o = n.length; s < o; ++s)r = n[s], this.getAncestorWithClass(r) || this.applyToTextNode(r); t.setStart(n[0], 0), r = n[n.length - 1], t.setEnd(r, r.length), this.normalize && this.postApply(n, t) } }, undoToRange: function (t) { var n = t.getNodes([e.TEXT_NODE]), r, i; n.length ? (t.splitBoundaries(), n = t.getNodes([e.TEXT_NODE])) : (n = t.endContainer.ownerDocument.createTextNode(e.INVISIBLE_SPACE), t.insertNode(n), t.selectNode(n), n = [n]); for (var s = 0, o = n.length; s < o; ++s)r = n[s], (i = this.getAncestorWithClass(r)) && this.undoToTextNode(r, t, i); 1 == o ? this.selectNode(t, n[0]) : (t.setStart(n[0], 0), r = n[n.length - 1], t.setEnd(r, r.length), this.normalize && this.postApply(n, t)) }, selectNode: function (t, n) { var r = n.nodeType === e.ELEMENT_NODE, i = "canHaveHTML" in n ? n.canHaveHTML : !0, s = r ? n.innerHTML : n.data; if ((s = "" === s || s === e.INVISIBLE_SPACE) && r && i) try { n.innerHTML = e.INVISIBLE_SPACE } catch (o) { } t.selectNodeContents(n), s && r ? t.collapse(!1) : s && (t.setStartAfter(n), t.setEndAfter(n)) }, getTextSelectedByRange: function (e, t) { var n = t.cloneRange(); n.selectNodeContents(e); var r = n.intersection(t), r = r ? r.toString() : ""; return n.detach(), r }, isAppliedToRange: function (t) { var n = [], r, i = t.getNodes([e.TEXT_NODE]); if (!i.length) return (r = this.getAncestorWithClass(t.startContainer)) ? [r] : !1; for (var s = 0, o = i.length, u; s < o; ++s) { u = this.getTextSelectedByRange(i[s], t), r = this.getAncestorWithClass(i[s]); if ("" != u && !r) return !1; n.push(r) } return n }, toggleRange: function (e) { this.isAppliedToRange(e) ? this.undoToRange(e) : this.applyToRange(e) } }, e.selection.HTMLApplier = s }(wysihtml5, rangy), wysihtml5.Commands = Base.extend({ constructor: function (e) { this.editor = e, this.composer = e.composer, this.doc = this.composer.doc }, support: function (e) { return wysihtml5.browser.supportsCommand(this.doc, e) }, exec: function (e, t) { var n = wysihtml5.commands[e], r = wysihtml5.lang.array(arguments).get(), i = n && n.exec, s = null; this.editor.fire("beforecommand:composer"); if (i) r.unshift(this.composer), s = i.apply(n, r); else try { s = this.doc.execCommand(e, !1, t) } catch (o) { } return this.editor.fire("aftercommand:composer"), s }, state: function (e, t) { var n = wysihtml5.commands[e], r = wysihtml5.lang.array(arguments).get(), i = n && n.state; if (i) return r.unshift(this.composer), i.apply(n, r); try { return this.doc.queryCommandState(e) } catch (s) { return !1 } }, value: function (e) { var t = wysihtml5.commands[e], n = t && t.value; if (n) return n.call(t, this.composer, e); try { return this.doc.queryCommandValue(e) } catch (r) { return null } } }), function (e) { e.commands.bold = { exec: function (t, n) { return e.commands.formatInline.exec(t, n, "b") }, state: function (t, n) { return e.commands.formatInline.state(t, n, "b") }, value: function () { } } }(wysihtml5), function (e) { function t(t, s) { var o = t.doc, u = "_wysihtml5-temp-" + +(new Date), f = 0, l, c, h; e.commands.formatInline.exec(t, n, r, u, /non-matching-class/g), l = o.querySelectorAll(r + "." + u); for (u = l.length; f < u; f++)for (h in c = l[f], c.removeAttribute("class"), s) c.setAttribute(h, s[h]); f = c, 1 === u && (h = i.getTextContent(c), u = !!c.querySelector("*"), h = "" === h || h === e.INVISIBLE_SPACE, !u && h && (i.setTextContent(c, s.text || c.href), o = o.createTextNode(" "), t.selection.setAfter(c), t.selection.insertNode(o), f = o)), t.selection.setAfter(f) } var n, r = "A", i = e.dom; e.commands.createLink = { exec: function (e, n, r) { var s = this.state(e, n); s ? e.selection.executeAndRestore(function () { for (var e = s.length, t = 0, n, r, o; t < e; t++)n = s[t], r = i.getParentElement(n, { nodeName: "code" }), o = i.getTextContent(n), o.match(i.autoLink.URL_REG_EXP) && !r ? i.renameElement(n, "code") : i.replaceWithChildNodes(n) }) : (r = "object" == typeof r ? r : { href: r }, t(e, r)) }, state: function (t, n) { return e.commands.formatInline.state(t, n, "A") }, value: function () { return n } } }(wysihtml5), function (e) { var t = /wysiwyg-font-size-[a-z\-]+/g; e.commands.fontSize = { exec: function (n, r, i) { return e.commands.formatInline.exec(n, r, "span", "wysiwyg-font-size-" + i, t) }, state: function (n, r, i) { return e.commands.formatInline.state(n, r, "span", "wysiwyg-font-size-" + i, t) }, value: function () { } } }(wysihtml5), function (e) { var t = /wysiwyg-color-[a-z]+/g; e.commands.foreColor = { exec: function (n, r, i) { return e.commands.formatInline.exec(n, r, "span", "wysiwyg-color-" + i, t) }, state: function (n, r, i) { return e.commands.formatInline.state(n, r, "span", "wysiwyg-color-" + i, t) }, value: function () { } } }(wysihtml5), function (e) { function t(t) { for (t = t.previousSibling; t && t.nodeType === e.TEXT_NODE && !e.lang.string(t.data).trim();)t = t.previousSibling; return t } function n(t) { for (t = t.nextSibling; t && t.nodeType === e.TEXT_NODE && !e.lang.string(t.data).trim();)t = t.nextSibling; return t } function r(e) { return "BR" === e.nodeName || "block" === o.getStyle("display").from(e) ? !0 : !1 } function i(t, n, r, i) { if (i) var s = o.observe(t, "DOMNodeInserted", function (t) { var t = t.target, n; t.nodeType === e.ELEMENT_NODE && (n = o.getStyle("display").from(t), "inline" !== n.substr(0, 6) && (t.className += " " + i)) }); t.execCommand(n, !1, r), s && s.stop() } function s(e, r) { e.selection.selectLine(), e.selection.surround(r); var i = n(r), s = t(r); i && "BR" === i.nodeName && i.parentNode.removeChild(i), s && "BR" === s.nodeName && s.parentNode.removeChild(s), (i = r.lastChild) && "BR" === i.nodeName && i.parentNode.removeChild(i), e.selection.selectNode(r) } var o = e.dom, u = "H1 H2 H3 H4 H5 H6 P BLOCKQUOTE DIV".split(" "); e.commands.formatBlock = { exec: function (l, h, p, v, m) { var y = l.doc, w = this.state(l, h, p, v, m), E, p = "string" == typeof p ? p.toUpperCase() : p; if (w) l.selection.executeAndRestoreSimple(function () { m && (w.className = w.className.replace(m, "")); var i = !!e.lang.string(w.className).trim(); if (!i && w.nodeName === (p || "DIV")) { var i = w, s = i.ownerDocument, u = n(i), f = t(i); u && !r(u) && i.parentNode.insertBefore(s.createElement("br"), u), f && !r(f) && i.parentNode.insertBefore(s.createElement("br"), i), o.replaceWithChildNodes(w) } else i && o.renameElement(w, "DIV") }); else { if (null === p || e.lang.array(u).contains(p)) if (E = l.selection.getSelectedNode(), w = o.getParentElement(E, { nodeName: u })) { l.selection.executeAndRestoreSimple(function () { p && (w = o.renameElement(w, p)); if (v) { var e = w; e.className ? (e.className = e.className.replace(m, ""), e.className += " " + v) : e.className = v } }); return } l.commands.support(h) ? i(y, h, p || "DIV", v) : (w = y.createElement(p || "DIV"), v && (w.className = v), s(l, w)) } }, state: function (e, t, n, r, i) { return n = "string" == typeof n ? n.toUpperCase() : n, e = e.selection.getSelectedNode(), o.getParentElement(e, { nodeName: n, className: r, classRegExp: i }) }, value: function () { } } }(wysihtml5), function (e) { function t(t, i, s) { var o = t + ":" + i; if (!r[o]) { var u = r, f = e.selection.HTMLApplier, l = n[t], t = l ? [t.toLowerCase(), l.toLowerCase()] : [t.toLowerCase()]; u[o] = new f(t, i, s, !0) } return r[o] } var n = { strong: "b", em: "i", b: "strong", i: "em" }, r = {}; e.commands.formatInline = { exec: function (e, n, r, i, s) { n = e.selection.getRange(); if (!n) return !1; t(r, i, s).toggleRange(n), e.selection.setSelection(n) }, state: function (r, i, s, o, u) { var i = r.doc, f = n[s] || s; return !e.dom.hasElementWithTagName(i, s) && !e.dom.hasElementWithTagName(i, f) || o && !e.dom.hasElementWithClassName(i, o) ? !1 : (r = r.selection.getRange(), r ? t(s, o, u).isAppliedToRange(r) : !1) }, value: function () { } } }(wysihtml5), function (e) { e.commands.insertHTML = { exec: function (e, t, n) { e.commands.support(t) ? e.doc.execCommand(t, !1, n) : e.selection.insertHTML(n) }, state: function () { return !1 }, value: function () { } } }(wysihtml5), function (e) { e.commands.insertImage = { exec: function (t, n, r) { var r = "object" == typeof r ? r : { src: r }, i = t.doc, n = this.state(t), s; if (n) t.selection.setBefore(n), r = n.parentNode, r.removeChild(n), e.dom.removeEmptyTextNodes(r), "A" === r.nodeName && !r.firstChild && (t.selection.setAfter(r), r.parentNode.removeChild(r)), e.quirks.redraw(t.element); else { n = i.createElement("IMG"); for (s in r) n[s] = r[s]; t.selection.insertNode(n), e.browser.hasProblemsSettingCaretAfterImg() ? (r = i.createTextNode(e.INVISIBLE_SPACE), t.selection.insertNode(r), t.selection.setAfter(r)) : t.selection.setAfter(n) } }, state: function (t) { var n; return e.dom.hasElementWithTagName(t.doc, "IMG") ? (n = t.selection.getSelectedNode(), n ? "IMG" === n.nodeName ? n : n.nodeType !== e.ELEMENT_NODE ? !1 : (n = t.selection.getText(), (n = e.lang.string(n).trim()) ? !1 : (t = t.selection.getNodes(e.ELEMENT_NODE, function (e) { return "IMG" === e.nodeName }), 1 !== t.length ? !1 : t[0])) : !1) : !1 }, value: function (e) { return (e = this.state(e)) && e.src } } }(wysihtml5), function (e) { var t = "<br>" + (e.browser.needsSpaceAfterLineBreak() ? " " : ""); e.commands.insertLineBreak = { exec: function (n, r) { n.commands.support(r) ? (n.doc.execCommand(r, !1, null), e.browser.autoScrollsToCaret() || n.selection.scrollIntoView()) : n.commands.exec("insertHTML", t) }, state: function () { return !1 }, value: function () { } } }(wysihtml5), function (e) { e.commands.insertOrderedList = { exec: function (t, n) { var r = t.doc, i = t.selection.getSelectedNode(), s = e.dom.getParentElement(i, { nodeName: "OL" }), o = e.dom.getParentElement(i, { nodeName: "UL" }), i = "_wysihtml5-temp-" + (new Date).getTime(), u; t.commands.support(n) ? r.execCommand(n, !1, null) : s ? t.selection.executeAndRestoreSimple(function () { e.dom.resolveList(s) }) : o ? t.selection.executeAndRestoreSimple(function () { e.dom.renameElement(o, "ol") }) : (t.commands.exec("formatBlock", "div", i), u = r.querySelector("." + i), r = "" === u.innerHTML || u.innerHTML === e.INVISIBLE_SPACE, t.selection.executeAndRestoreSimple(function () { s = e.dom.convertToList(u, "ol") }), r && t.selection.selectNode(s.querySelector("li"))) }, state: function (t) { return t = t.selection.getSelectedNode(), e.dom.getParentElement(t, { nodeName: "OL" }) }, value: function () { } } }(wysihtml5), function (e) { e.commands.insertUnorderedList = { exec: function (t, n) { var r = t.doc, i = t.selection.getSelectedNode(), s = e.dom.getParentElement(i, { nodeName: "UL" }), o = e.dom.getParentElement(i, { nodeName: "OL" }), i = "_wysihtml5-temp-" + (new Date).getTime(), u; t.commands.support(n) ? r.execCommand(n, !1, null) : s ? t.selection.executeAndRestoreSimple(function () { e.dom.resolveList(s) }) : o ? t.selection.executeAndRestoreSimple(function () { e.dom.renameElement(o, "ul") }) : (t.commands.exec("formatBlock", "div", i), u = r.querySelector("." + i), r = "" === u.innerHTML || u.innerHTML === e.INVISIBLE_SPACE, t.selection.executeAndRestoreSimple(function () { s = e.dom.convertToList(u, "ul") }), r && t.selection.selectNode(s.querySelector("li"))) }, state: function (t) { return t = t.selection.getSelectedNode(), e.dom.getParentElement(t, { nodeName: "UL" }) }, value: function () { } } }(wysihtml5), function (e) { e.commands.italic = { exec: function (t, n) { return e.commands.formatInline.exec(t, n, "i") }, state: function (t, n) { return e.commands.formatInline.state(t, n, "i") }, value: function () { } } }(wysihtml5), function (e) { var t = /wysiwyg-text-align-[a-z]+/g; e.commands.justifyCenter = { exec: function (n) { return e.commands.formatBlock.exec(n, "formatBlock", null, "wysiwyg-text-align-center", t) }, state: function (n) { return e.commands.formatBlock.state(n, "formatBlock", null, "wysiwyg-text-align-center", t) }, value: function () { } } }(wysihtml5), function (e) { var t = /wysiwyg-text-align-[a-z]+/g; e.commands.justifyLeft = { exec: function (n) { return e.commands.formatBlock.exec(n, "formatBlock", null, "wysiwyg-text-align-left", t) }, state: function (n) { return e.commands.formatBlock.state(n, "formatBlock", null, "wysiwyg-text-align-left", t) }, value: function () { } } }(wysihtml5), function (e) { var t = /wysiwyg-text-align-[a-z]+/g; e.commands.justifyRight = { exec: function (n) { return e.commands.formatBlock.exec(n, "formatBlock", null, "wysiwyg-text-align-right", t) }, state: function (n) { return e.commands.formatBlock.state(n, "formatBlock", null, "wysiwyg-text-align-right", t) }, value: function () { } } }(wysihtml5), function (e) { e.commands.underline = { exec: function (t, n) { return e.commands.formatInline.exec(t, n, "u") }, state: function (t, n) { return e.commands.formatInline.state(t, n, "u") }, value: function () { } } }(wysihtml5), function (e) { var t = '<span id="_wysihtml5-undo" class="_wysihtml5-temp">' + e.INVISIBLE_SPACE + "</span>", n = '<span id="_wysihtml5-redo" class="_wysihtml5-temp">' + e.INVISIBLE_SPACE + "</span>", r = e.dom; e.UndoManager = e.lang.Dispatcher.extend({ constructor: function (e) { this.editor = e, this.composer = e.composer, this.element = this.composer.element, this.history = [this.composer.getValue()], this.position = 1, this.composer.commands.support("insertHTML") && this._observe() }, _observe: function () { var i = this, s = this.composer.sandbox.getDocument(), o; r.observe(this.element, "keydown", function (e) { if (!(e.altKey || !e.ctrlKey && !e.metaKey)) { var t = e.keyCode, n = 90 === t && e.shiftKey || 89 === t; 90 === t && !e.shiftKey ? (i.undo(), e.preventDefault()) : n && (i.redo(), e.preventDefault()) } }), r.observe(this.element, "keydown", function (e) { e = e.keyCode, e !== o && (o = e, (8 === e || 46 === e) && i.transact()) }); if (e.browser.hasUndoInContextMenu()) { var u, f, l = function () { for (var e; e = s.querySelector("._wysihtml5-temp");)e.parentNode.removeChild(e); clearInterval(u) }; r.observe(this.element, "contextmenu", function () { l(), i.composer.selection.executeAndRestoreSimple(function () { i.element.lastChild && i.composer.selection.setAfter(i.element.lastChild), s.execCommand("insertHTML", !1, t), s.execCommand("insertHTML", !1, n), s.execCommand("undo", !1, null) }), u = setInterval(function () { s.getElementById("_wysihtml5-redo") ? (l(), i.redo()) : s.getElementById("_wysihtml5-undo") || (l(), i.undo()) }, 400), f || (f = !0, r.observe(document, "mousedown", l), r.observe(s, ["mousedown", "paste", "cut", "copy"], l)) }) } this.editor.observe("newword:composer", function () { i.transact() }).observe("beforecommand:composer", function () { i.transact() }) }, transact: function () { var e = this.history[this.position - 1], t = this.composer.getValue(); t != e && (40 < (this.history.length = this.position) && (this.history.shift(), this.position--), this.position++, this.history.push(t)) }, undo: function () { this.transact(), 1 >= this.position || (this.set(this.history[--this.position - 1]), this.editor.fire("undo:composer")) }, redo: function () { this.position >= this.history.length || (this.set(this.history[++this.position - 1]), this.editor.fire("redo:composer")) }, set: function (e) { this.composer.setValue(e), this.editor.focus(!0) } }) }(wysihtml5), wysihtml5.views.View = Base.extend({ constructor: function (e, t, n) { this.parent = e, this.element = t, this.config = n, this._observeViewChange() }, _observeViewChange: function () { var e = this; this.parent.observe("beforeload", function () { e.parent.observe("change_view", function (t) { t === e.name ? (e.parent.currentView = e, e.show(), setTimeout(function () { e.focus() }, 0)) : e.hide() }) }) }, focus: function () { if (this.element.ownerDocument.querySelector(":focus") !== this.element) try { this.element.focus() } catch (e) { } }, hide: function () { this.element.style.display = "none" }, show: function () { this.element.style.display = "" }, disable: function () { this.element.setAttribute("disabled", "disabled") }, enable: function () { this.element.removeAttribute("disabled") } }), function (e) { var t = e.dom, n = e.browser; e.views.Composer = e.views.View.extend({ name: "composer", CARET_HACK: "<br>", constructor: function (e, t, n) { this.base(e, t, n), this.textarea = this.parent.textarea, this._initSandbox() }, clear: function () { this.element.innerHTML = n.displaysCaretInEmptyContentEditableCorrectly() ? "" : this.CARET_HACK }, getValue: function (t) { var n = this.isEmpty() ? "" : e.quirks.getCorrectInnerHTML(this.element); return t && (n = this.parent.parse(n)), n = e.lang.string(n).replace(e.INVISIBLE_SPACE).by("") }, setValue: function (e, t) { t && (e = this.parent.parse(e)), this.element.innerHTML = e }, show: function () { this.iframe.style.display = this._displayStyle || "", this.disable(), this.enable() }, hide: function () { this._displayStyle = t.getStyle("display").from(this.iframe), "none" === this._displayStyle && (this._displayStyle = null), this.iframe.style.display = "none" }, disable: function () { this.element.removeAttribute("contentEditable"), this.base() }, enable: function () { this.element.setAttribute("contentEditable", "true"), this.base() }, focus: function (t) { e.browser.doesAsyncFocus() && this.hasPlaceholderSet() && this.clear(), this.base(); var n = this.element.lastChild; t && n && ("BR" === n.nodeName ? this.selection.setBefore(this.element.lastChild) : this.selection.setAfter(this.element.lastChild)) }, getTextContent: function () { return t.getTextContent(this.element) }, hasPlaceholderSet: function () { return this.getTextContent() == this.textarea.element.getAttribute("placeholder") }, isEmpty: function () { var e = this.element.innerHTML; return "" === e || e === this.CARET_HACK || this.hasPlaceholderSet() || "" === this.getTextContent() && !this.element.querySelector("blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea") }, _initSandbox: function () { var e = this; this.sandbox = new t.Sandbox(function () { e._create() }, { stylesheets: this.config.stylesheets }), this.iframe = this.sandbox.getIframe(); var n = document.createElement("input"); n.type = "hidden", n.name = "_wysihtml5_mode", n.value = 1; var r = this.textarea.element; t.insert(this.iframe).after(r), t.insert(n).after(r) }, _create: function () { var r = this; this.doc = this.sandbox.getDocument(), this.element = this.doc.body, this.textarea = this.parent.textarea, this.element.innerHTML = this.textarea.getValue(!0), this.enable(), this.selection = new e.Selection(this.parent), this.commands = new e.Commands(this.parent), t.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element), t.addClass(this.element, this.config.composerClassName), this.config.style && this.style(), this.observe(); var i = this.config.name; i && (t.addClass(this.element, i), t.addClass(this.iframe, i)), (i = "string" == typeof this.config.placeholder ? this.config.placeholder : this.textarea.element.getAttribute("placeholder")) && t.simulatePlaceholder(this.parent, this, i), this.commands.exec("styleWithCSS", !1), this._initAutoLinking(), this._initObjectResizing(), this._initUndoManager(), (this.textarea.element.hasAttribute("autofocus") || document.querySelector(":focus") == this.textarea.element) && setTimeout(function () { r.focus() }, 100), e.quirks.insertLineBreakOnReturn(this), n.clearsContentEditableCorrectly() || e.quirks.ensureProperClearing(this), n.clearsListsInContentEditableCorrectly() || e.quirks.ensureProperClearingOfLists(this), this.initSync && this.config.sync && this.initSync(), this.textarea.hide(), this.parent.fire("beforeload").fire("load") }, _initAutoLinking: function () { var r = this, i = n.canDisableAutoLinking(), s = n.doesAutoLinkingInContentEditable(); i && this.commands.exec("autoUrlDetect", !1); if (this.config.autoLink) { (!s || s && i) && this.parent.observe("newword:composer", function () { r.selection.executeAndRestore(function (e, n) { t.autoLink(n.parentNode) }) }); var o = this.sandbox.getDocument().getElementsByTagName("a"), u = t.autoLink.URL_REG_EXP, f = function (n) { return n = e.lang.string(t.getTextContent(n)).trim(), "www." === n.substr(0, 4) && (n = "http://" + n), n }; t.observe(this.element, "keydown", function (e) { if (o.length) { var e = r.selection.getSelectedNode(e.target.ownerDocument), n = t.getParentElement(e, { nodeName: "A" }, 4), i; n && (i = f(n), setTimeout(function () { var e = f(n); e !== i && e.match(u) && n.setAttribute("href", e) }, 0)) } }) } }, _initObjectResizing: function () { var r = ["width", "height"], i = r.length, s = this.element; this.commands.exec("enableObjectResizing", this.config.allowObjectResizing), this.config.allowObjectResizing ? n.supportsEvent("resizeend") && t.observe(s, "resizeend", function (t) { for (var t = t.target || t.srcElement, n = t.style, o = 0, u; o < i; o++)u = r[o], n[u] && (t.setAttribute(u, parseInt(n[u], 10)), n[u] = ""); e.quirks.redraw(s) }) : n.supportsEvent("resizestart") && t.observe(s, "resizestart", function (e) { e.preventDefault() }) }, _initUndoManager: function () { new e.UndoManager(this.parent) } }) }(wysihtml5), function (e) {
    var t = e.dom, n = document, r = window, i = n.createElement("div"), s = "background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "), o = "background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height"
        .split(" "), u = "width height top left right bottom".split(" "), a = ["html             { height: 100%; }", "body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }", "._wysihtml5-temp { display: none; }", e.browser.isGecko ? "body.placeholder { color: graytext !important; }" : "body.placeholder { color: #a9a9a9 !important; }", "body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }", "img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"], f = function (e) { if (e.setActive) try { e.setActive() } catch (i) { } else { var s = e.style, o = n.documentElement.scrollTop || n.body.scrollTop, u = n.documentElement.scrollLeft || n.body.scrollLeft, s = { position: s.position, top: s.top, left: s.left, WebkitUserSelect: s.WebkitUserSelect }; t.setStyles({ position: "absolute", top: "-99999px", left: "-99999px", WebkitUserSelect: "none" }).on(e), e.focus(), t.setStyles(s).on(e), r.scrollTo && r.scrollTo(u, o) } }; e.views.Composer.prototype.style = function () { var l = this, p = n.querySelector(":focus"), v = this.textarea.element, m = v.hasAttribute("placeholder"), y = m && v.getAttribute("placeholder"); this.focusStylesHost = this.focusStylesHost || i.cloneNode(!1), this.blurStylesHost = this.blurStylesHost || i.cloneNode(!1), m && v.removeAttribute("placeholder"), v === p && v.blur(), t.copyStyles(o).from(v).to(this.iframe).andTo(this.blurStylesHost), t.copyStyles(s).from(v).to(this.element).andTo(this.blurStylesHost), t.insertCSS(a).into(this.element.ownerDocument), f(v), t.copyStyles(o).from(v).to(this.focusStylesHost), t.copyStyles(s).from(v).to(this.focusStylesHost); var w = e.lang.array(o).without(["display"]); p ? p.focus() : v.blur(), m && v.setAttribute("placeholder", y); if (!e.browser.hasCurrentStyleProperty()) var E = t.observe(r, "resize", function () { if (t.contains(document.documentElement, l.iframe)) { var e = t.getStyle("display").from(v), n = t.getStyle("display").from(l.iframe); v.style.display = "", l.iframe.style.display = "none", t.copyStyles(u).from(v).to(l.iframe).andTo(l.focusStylesHost).andTo(l.blurStylesHost), l.iframe.style.display = n, v.style.display = e } else E.stop() }); return this.parent.observe("focus:composer", function () { t.copyStyles(w).from(l.focusStylesHost).to(l.iframe), t.copyStyles(s).from(l.focusStylesHost).to(l.element) }), this.parent.observe("blur:composer", function () { t.copyStyles(w).from(l.blurStylesHost).to(l.iframe), t.copyStyles(s).from(l.blurStylesHost).to(l.element) }), this }
}(wysihtml5), function (e) { var t = e.dom, n = e.browser, r = { 66: "bold", 73: "italic", 85: "underline" }; e.views.Composer.prototype.observe = function () { var i = this, s = this.getValue(), o = this.sandbox.getIframe(), u = this.element, f = n.supportsEventsInIframeCorrectly() ? u : this.sandbox.getWindow(), l = n.supportsEvent("drop") ? ["drop", "paste"] : ["dragdrop", "paste"]; t.observe(o, "DOMNodeRemoved", function () { clearInterval(h), i.parent.fire("destroy:composer") }); var h = setInterval(function () { t.contains(document.documentElement, o) || (clearInterval(h), i.parent.fire("destroy:composer")) }, 250); t.observe(f, "focus", function () { i.parent.fire("focus").fire("focus:composer"), setTimeout(function () { s = i.getValue() }, 0) }), t.observe(f, "blur", function () { s !== i.getValue() && i.parent.fire("change").fire("change:composer"), i.parent.fire("blur").fire("blur:composer") }), e.browser.isIos() && t.observe(u, "blur", function () { var e = u.ownerDocument.createElement("input"), t = document.documentElement.scrollTop || document.body.scrollTop, n = document.documentElement.scrollLeft || document.body.scrollLeft; try { i.selection.insertNode(e) } catch (r) { u.appendChild(e) } e.focus(), e.parentNode.removeChild(e), window.scrollTo(n, t) }), t.observe(u, "dragenter", function () { i.parent.fire("unset_placeholder") }), n.firesOnDropOnlyWhenOnDragOverIsCancelled() && t.observe(u, ["dragover", "dragenter"], function (e) { e.preventDefault() }), t.observe(u, l, function (e) { var t = e.dataTransfer, r; t && n.supportsDataTransfer() && (r = t.getData("text/html") || t.getData("text/plain")), r ? (u.focus(), i.commands.exec("insertHTML", r), i.parent.fire("paste").fire("paste:composer"), e.stopPropagation(), e.preventDefault()) : setTimeout(function () { i.parent.fire("paste").fire("paste:composer") }, 0) }), t.observe(u, "keyup", function (t) { t = t.keyCode, (t === e.SPACE_KEY || t === e.ENTER_KEY) && i.parent.fire("newword:composer") }), this.parent.observe("paste:composer", function () { setTimeout(function () { i.parent.fire("newword:composer") }, 0) }), n.canSelectImagesInContentEditable() || t.observe(u, "mousedown", function (e) { var t = e.target; "IMG" === t.nodeName && (i.selection.selectNode(t), e.preventDefault()) }), t.observe(u, "keydown", function (e) { var t = r[e.keyCode]; (e.ctrlKey || e.metaKey) && !e.altKey && t && (i.commands.exec(t), e.preventDefault()) }), t.observe(u, "keydown", function (t) { var n = i.selection.getSelectedNode(!0), r = t.keyCode; n && "IMG" === n.nodeName && (r === e.BACKSPACE_KEY || r === e.DELETE_KEY) && (r = n.parentNode, r.removeChild(n), "A" === r.nodeName && !r.firstChild && r.parentNode.removeChild(r), setTimeout(function () { e.quirks.redraw(u) }, 0), t.preventDefault()) }); var p = { IMG: "Image: ", A: "Link: " }; t.observe(u, "mouseover", function (e) { var e = e.target, t = e.nodeName; ("A" === t || "IMG" === t) && !e.hasAttribute("title") && (t = p[t] + (e.getAttribute("href") || e.getAttribute("src")), e.setAttribute("title", t)) }) } }(wysihtml5), function (e) { e.views.Synchronizer = Base.extend({ constructor: function (e, t, n) { this.editor = e, this.textarea = t, this.composer = n, this._observe() }, fromComposerToTextarea: function (t) { this.textarea.setValue(e.lang.string(this.composer.getValue()).trim(), t) }, fromTextareaToComposer: function (e) { var t = this.textarea.getValue(); t ? this.composer.setValue(t, e) : (this.composer.clear(), this.editor.fire("set_placeholder")) }, sync: function (e) { "textarea" === this.editor.currentView.name ? this.fromTextareaToComposer(e) : this.fromComposerToTextarea(e) }, _observe: function () { var t, n = this, r = this.textarea.element.form, i = function () { t = setInterval(function () { n.fromComposerToTextarea() }, 400) }, s = function () { clearInterval(t), t = null }; i(), r && (e.dom.observe(r, "submit", function () { n.sync(!0) }), e.dom.observe(r, "reset", function () { setTimeout(function () { n.fromTextareaToComposer() }, 0) })), this.editor.observe("change_view", function (e) { e === "composer" && !t ? (n.fromTextareaToComposer(!0), i()) : e === "textarea" && (n.fromComposerToTextarea(!0), s()) }), this.editor.observe("destroy:composer", s) } }) }(wysihtml5), wysihtml5.views.Textarea = wysihtml5.views.View.extend({ name: "textarea", constructor: function (e, t, n) { this.base(e, t, n), this._observe() }, clear: function () { this.element.value = "" }, getValue: function (e) { var t = this.isEmpty() ? "" : this.element.value; return e && (t = this.parent.parse(t)), t }, setValue: function (e, t) { t && (e = this.parent.parse(e)), this.element.value = e }, hasPlaceholderSet: function () { var e = wysihtml5.browser.supportsPlaceholderAttributeOn(this.element), t = this.element.getAttribute("placeholder") || null, n = this.element.value; return e && !n || n === t }, isEmpty: function () { return !wysihtml5.lang.string(this.element.value).trim() || this.hasPlaceholderSet() }, _observe: function () { var e = this.element, t = this.parent, n = { focusin: "focus", focusout: "blur" }, r = wysihtml5.browser.supportsEvent("focusin") ? ["focusin", "focusout", "change"] : ["focus", "blur", "change"]; t.observe("beforeload", function () { wysihtml5.dom.observe(e, r, function (e) { e = n[e.type] || e.type, t.fire(e).fire(e + ":textarea") }), wysihtml5.dom.observe(e, ["paste", "drop"], function () { setTimeout(function () { t.fire("paste").fire("paste:textarea") }, 0) }) }) } }), function (e) { var t = e.dom; e.toolbar.Dialog = e.lang.Dispatcher.extend({ constructor: function (e, t) { this.link = e, this.container = t }, _observe: function () { if (!this._observed) { var n = this, r = function (e) { var t = n._serialize(); t == n.elementToChange ? n.fire("edit", t) : n.fire("save", t), n.hide(), e.preventDefault(), e.stopPropagation() }; t.observe(n.link, "click", function () { t.hasClass(n.link, "wysihtml5-command-dialog-opened") && setTimeout(function () { n.hide() }, 0) }), t.observe(this.container, "keydown", function (t) { var i = t.keyCode; i === e.ENTER_KEY && r(t), i === e.ESCAPE_KEY && n.hide() }), t.delegate(this.container, "[data-wysihtml5-dialog-action=save]", "click", r), t.delegate(this.container, "[data-wysihtml5-dialog-action=cancel]", "click", function (e) { n.fire("cancel"), n.hide(), e.preventDefault(), e.stopPropagation() }); for (var i = this.container.querySelectorAll("input, select, textarea"), s = 0, o = i.length, u = function () { clearInterval(n.interval) }; s < o; s++)t.observe(i[s], "change", u); this._observed = !0 } }, _serialize: function () { for (var e = this.elementToChange || {}, t = this.container.querySelectorAll("[data-wysihtml5-dialog-field]"), n = t.length, r = 0; r < n; r++)e[t[r].getAttribute("data-wysihtml5-dialog-field")] = t[r].value; return e }, _interpolate: function (e) { for (var t, n, r = document.querySelector(":focus"), i = this.container.querySelectorAll("[data-wysihtml5-dialog-field]"), s = i.length, o = 0; o < s; o++)t = i[o], t !== r && (!e || "hidden" !== t.type) && (n = t.getAttribute("data-wysihtml5-dialog-field"), n = this.elementToChange ? this.elementToChange[n] || "" : t.defaultValue, t.value = n) }, show: function (e) { var n = this, r = this.container.querySelector("input, select, textarea"); this.elementToChange = e, this._observe(), this._interpolate(), e && (this.interval = setInterval(function () { n._interpolate(!0) }, 500)), t.addClass(this.link, "wysihtml5-command-dialog-opened"), this.container.style.display = "", this.fire("show"); if (r && !e) try { r.focus() } catch (i) { } }, hide: function () { clearInterval(this.interval), this.elementToChange = null, t.removeClass(this.link, "wysihtml5-command-dialog-opened"), this.container.style.display = "none", this.fire("hide") } }) }(wysihtml5), function (e) { var t = e.dom, n = { position: "relative" }, r = { left: 0, margin: 0, opacity: 0, overflow: "hidden", padding: 0, position: "absolute", top: 0, zIndex: 1 }, i = { cursor: "inherit", fontSize: "50px", height: "50px", marginTop: "-25px", outline: 0, padding: 0, position: "absolute", right: "-4px", top: "50%" }, s = { "x-webkit-speech": "", speech: "" }; e.toolbar.Speech = function (o, u) { var l = document.createElement("input"); if (e.browser.supportsSpeechApiOn(l)) { var h = document.createElement("div"); e.lang.object(r).merge({ width: u.offsetWidth + "px", height: u.offsetHeight + "px" }), t.insert(l).into(h), t.insert(h).into(u), t.setStyles(i).on(l), t.setAttributes(s).on(l), t.setStyles(r).on(h), t.setStyles(n).on(u), t.observe(l, "onwebkitspeechchange" in l ? "webkitspeechchange" : "speechchange", function () { o.execCommand("insertText", l.value), l.value = "" }), t.observe(l, "click", function (e) { t.hasClass(u, "wysihtml5-command-disabled") && e.preventDefault(), e.stopPropagation() }) } else u.style.display = "none" } }(wysihtml5), function (e) { var t = e.dom; e.toolbar.Toolbar = Base.extend({ constructor: function (t, n) { this.editor = t, this.container = "string" == typeof n ? document.getElementById(n) : n, this.composer = t.composer, this._getLinks("command"), this._getLinks("action"), this._observe(), this.show(); for (var r = this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"), i = r.length, s = 0; s < i; s++)new e.toolbar.Speech(this, r[s]) }, _getLinks: function (t) { for (var n = this[t + "Links"] = e.lang.array(this.container.querySelectorAll("[data-wysihtml5-" + t + "]")).get(), r = n.length, i = 0, s = this[t + "Mapping"] = {}, o, u, a, f, l; i < r; i++)o = n[i], a = o.getAttribute("data-wysihtml5-" + t), f = o.getAttribute("data-wysihtml5-" + t + "-value"), u = this.container.querySelector("[data-wysihtml5-" + t + "-group='" + a + "']"), l = this._getDialog(o, a), s[a + ":" + f] = { link: o, group: u, name: a, value: f, dialog: l, state: !1 } }, _getDialog: function (t, n) { var r = this, i = this.container.querySelector("[data-wysihtml5-dialog='" + n + "']"), s, o; return i && (s = new e.toolbar.Dialog(t, i), s.observe("show", function () { o = r.composer.selection.getBookmark(), r.editor.fire("show:dialog", { command: n, dialogContainer: i, commandLink: t }) }), s.observe("save", function (e) { o && r.composer.selection.setBookmark(o), r._execCommand(n, e), r.editor.fire("save:dialog", { command: n, dialogContainer: i, commandLink: t }) }), s.observe("cancel", function () { r.editor.focus(!1), r.editor.fire("cancel:dialog", { command: n, dialogContainer: i, commandLink: t }) })), s }, execCommand: function (e, t) { if (!this.commandsDisabled) { var n = this.commandMapping[e + ":" + t]; n && n.dialog && !n.state ? n.dialog.show() : this._execCommand(e, t) } }, _execCommand: function (e, t) { this.editor.focus(!1), this.composer.commands.exec(e, t), this._updateLinkStates() }, execAction: function (e) { var t = this.editor; switch (e) { case "change_view": t.currentView === t.textarea ? t.fire("change_view", "composer") : t.fire("change_view", "textarea") } }, _observe: function () { for (var e = this, n = this.editor, r = this.container, i = this.commandLinks.concat(this.actionLinks), s = i.length, o = 0; o < s; o++)t.setAttributes({ href: "javascript:;", unselectable: "on" }).on(i[o]); t.delegate(r, "[data-wysihtml5-command]", "mousedown", function (e) { e.preventDefault() }), t.delegate(r, "[data-wysihtml5-command]", "click", function (t) { var n = this.getAttribute("data-wysihtml5-command"), r = this.getAttribute("data-wysihtml5-command-value"); e.execCommand(n, r), t.preventDefault() }), t.delegate(r, "[data-wysihtml5-action]", "click", function (t) { var n = this.getAttribute("data-wysihtml5-action"); e.execAction(n), t.preventDefault() }), n.observe("focus:composer", function () { e.bookmark = null, clearInterval(e.interval), e.interval = setInterval(function () { e._updateLinkStates() }, 500) }), n.observe("blur:composer", function () { clearInterval(e.interval) }), n.observe("destroy:composer", function () { clearInterval(e.interval) }), n.observe("change_view", function (n) { setTimeout(function () { e.commandsDisabled = "composer" !== n, e._updateLinkStates(), e.commandsDisabled ? t.addClass(r, "wysihtml5-commands-disabled") : t.removeClass(r, "wysihtml5-commands-disabled") }, 0) }) }, _updateLinkStates: function () { var n = this.commandMapping, r = this.actionMapping, i, s, o; for (i in n) if (o = n[i], this.commandsDisabled ? (s = !1, t.removeClass(o.link, "wysihtml5-command-active"), o.group && t.removeClass(o.group, "wysihtml5-command-active"), o.dialog && o.dialog.hide()) : (s = this.composer.commands.state(o.name, o.value), e.lang.object(s).isArray() && (s = 1 === s.length ? s[0] : !0), t.removeClass(o.link, "wysihtml5-command-disabled"), o.group && t.removeClass(o.group, "wysihtml5-command-disabled")), o.state !== s) (o.state = s) ? (t.addClass(o.link, "wysihtml5-command-active"), o.group && t.addClass(o.group, "wysihtml5-command-active"), o.dialog && ("object" == typeof s ? o.dialog.show(s) : o.dialog.hide())) : (t.removeClass(o.link, "wysihtml5-command-active"), o.group && t.removeClass(o.group, "wysihtml5-command-active"), o.dialog && o.dialog.hide()); for (i in r) n = r[i], "change_view" === n.name && (n.state = this.editor.currentView === this.editor.textarea, n.state ? t.addClass(n.link, "wysihtml5-action-active") : t.removeClass(n.link, "wysihtml5-action-active")) }, show: function () { this.container.style.display = "" }, hide: function () { this.container.style.display = "none" } }) }(wysihtml5), function (e) { var t = { name: void 0, style: !0, toolbar: void 0, autoLink: !0, parserRules: { tags: { br: {}, span: {}, div: {}, p: {} }, classes: {} }, parser: e.dom.parse, composerClassName: "wysihtml5-editor", bodyClassName: "wysihtml5-supported", stylesheets: [], placeholderText: void 0, allowObjectResizing: !0, supportTouchDevices: !0 }; e.Editor = e.lang.Dispatcher.extend({ constructor: function (n, r) { this.textareaElement = "string" == typeof n ? document.getElementById(n) : n, this.config = e.lang.object({}).merge(t).merge(r).get(), this.currentView = this.textarea = new e.views.Textarea(this, this.textareaElement, this.config), this._isCompatible = e.browser.supported(); if (!this._isCompatible || !this.config.supportTouchDevices && e.browser.isTouchDevice()) { var i = this; setTimeout(function () { i.fire("beforeload").fire("load") }, 0) } else { e.dom.addClass(document.body, this.config.bodyClassName), this.currentView = this.composer = new e.views.Composer(this, this.textareaElement, this.config), "function" == typeof this.config.parser && this._initParser(), this.observe("beforeload", function () { this.synchronizer = new e.views.Synchronizer(this, this.textarea, this.composer), this.config.toolbar && (this.toolbar = new e.toolbar.Toolbar(this, this.config.toolbar)) }); try { console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5") } catch (s) { } } }, isCompatible: function () { return this._isCompatible }, clear: function () { return this.currentView.clear(), this }, getValue: function (e) { return this.currentView.getValue(e) }, setValue: function (e, t) { return e ? (this.currentView.setValue(e, t), this) : this.clear() }, focus: function (e) { return this.currentView.focus(e), this }, disable: function () { return this.currentView.disable(), this }, enable: function () { return this.currentView.enable(), this }, isEmpty: function () { return this.currentView.isEmpty() }, hasPlaceholderSet: function () { return this.currentView.hasPlaceholderSet() }, parse: function (t) { var n = this.config.parser(t, this.config.parserRules, this.composer.sandbox.getDocument(), !0); return "object" == typeof t && e.quirks.redraw(t), n }, _initParser: function () { this.observe("paste:composer", function () { var t = this; t.composer.selection.executeAndRestore(function () { e.quirks.cleanPastedHTML(t.composer.element), t.parse(t.composer.element) }, !0) }), this.observe("paste:textarea", function () { this.textarea.setValue(this.parse(this.textarea.getValue())) }) } }) }(wysihtml5), function (e, t, n, r) {
    "use strict"; var i = n(e), s = n(t), o = n.fancybox = function () { o.open.apply(this, arguments) }, u = navigator.userAgent.match(/msie/), a = null, f = t.createTouch !== r, l = function (e) { return e && e.hasOwnProperty && e instanceof n }, c = function (e) { return e && n.type(e) === "string" }, h = function (e) { return c(e) && e.indexOf("%") > 0 }, p = function (e) { return e && (!e.style.overflow || e.style.overflow !== "hidden") && (e.clientWidth && e.scrollWidth > e.clientWidth || e.clientHeight && e.scrollHeight > e.clientHeight) }, d = function (e, t) { var n = parseInt(e, 10) || 0; return t && h(e) && (n = o.getViewport()[t] / 100 * n), Math.ceil(n) }, v = function (e, t) { return d(e, t) + "px" }; n.extend(o, {
        version: "2.1.4", defaults: { padding: 15, margin: 20, width: 800, height: 600, minWidth: 100, minHeight: 100, maxWidth: 9999, maxHeight: 9999, autoSize: !0, autoHeight: !1, autoWidth: !1, autoResize: !0, autoCenter: !f, fitToView: !0, aspectRatio: !1, topRatio: .5, leftRatio: .5, scrolling: "auto", wrapCSS: "", arrows: !0, closeBtn: !0, closeClick: !1, nextClick: !1, mouseWheel: !0, autoPlay: !1, playSpeed: 3e3, preload: 3, modal: !1, loop: !0, ajax: { dataType: "html", headers: { "X-fancyBox": !0 } }, iframe: { scrolling: "auto", preload: !0 }, swf: { wmode: "transparent", allowfullscreen: "true", allowscriptaccess: "always" }, keys: { next: { 13: "left", 34: "up", 39: "left", 40: "up" }, prev: { 8: "right", 33: "down", 37: "right", 38: "down" }, close: [27], play: [32], toggle: [70] }, direction: { next: "left", prev: "right" }, scrollOutside: !0, index: 0, type: null, href: null, content: null, title: null, tpl: { wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>', image: '<img class="fancybox-image" src="{href}" alt="" />', iframe: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (u ? ' allowtransparency="true"' : "") + "></iframe>", error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>', closeBtn: '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>', next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>', prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>' }, openEffect: "fade", openSpeed: 250, openEasing: "swing", openOpacity: !0, openMethod: "zoomIn", closeEffect: "fade", closeSpeed: 250, closeEasing: "swing", closeOpacity: !0, closeMethod: "zoomOut", nextEffect: "elastic", nextSpeed: 250, nextEasing: "swing", nextMethod: "changeIn", prevEffect: "elastic", prevSpeed: 250, prevEasing: "swing", prevMethod: "changeOut", helpers: { overlay: !0, title: !0 }, onCancel: n.noop, beforeLoad: n.noop, afterLoad: n.noop, beforeShow: n.noop, afterShow: n.noop, beforeChange: n.noop, beforeClose: n.noop, afterClose: n.noop }, group: {}, opts: {}, previous: null, coming: null, current: null, isActive: !1, isOpen: !1, isOpened: !1, wrap: null, skin: null, outer: null, inner: null, player: { timer: null, isActive: !1 }, ajaxLoad: null, imgPreload: null, transitions: {}, helpers: {}, open: function (e, t) { if (!e) return; n.isPlainObject(t) || (t = {}); if (!1 === o.close(!0)) return; return n.isArray(e) || (e = l(e) ? n(e).get() : [e]), n.each(e, function (i, s) { var u = {}, a, f, h, p, d, v, m; n.type(s) === "object" && (s.nodeType && (s = n(s)), l(s) ? (u = { href: s.data("fancybox-href") || s.attr("href"), title: s.data("fancybox-title") || s.attr("title"), isDom: !0, element: s }, n.metadata && n.extend(!0, u, s.metadata())) : u = s), a = t.href || u.href || (c(s) ? s : null), f = t.title !== r ? t.title : u.title || "", h = t.content || u.content, p = h ? "html" : t.type || u.type, !p && u.isDom && (p = s.data("fancybox-type"), p || (d = s.prop("class").match(/fancybox\.(\w+)/), p = d ? d[1] : null)), c(a) && (p || (o.isImage(a) ? p = "image" : o.isSWF(a) ? p = "swf" : a.charAt(0) === "#" ? p = "inline" : c(s) && (p = "html", h = s)), p === "ajax" && (v = a.split(/\s+/, 2), a = v.shift(), m = v.shift())), h || (p === "inline" ? a ? h = n(c(a) ? a.replace(/.*(?=#[^\s]+$)/, "") : a) : u.isDom && (h = s) : p === "html" ? h = a : !p && !a && u.isDom && (p = "inline", h = s)), n.extend(u, { href: a, type: p, content: h, title: f, selector: m }), e[i] = u }), o.opts = n.extend(!0, {}, o.defaults, t), t.keys !== r && (o.opts.keys = t.keys ? n.extend({}, o.defaults.keys, t.keys) : !1), o.group = e, o._start(o.opts.index) }, cancel: function () { var e = o.coming; if (!e || !1 === o.trigger("onCancel")) return; o.hideLoading(), o.ajaxLoad && o.ajaxLoad.abort(), o.ajaxLoad = null, o.imgPreload && (o.imgPreload.onload = o.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), o.coming = null, o.current || o._afterZoomOut(e) }, close: function (e) { o.cancel(); if (!1 === o.trigger("beforeClose")) return; o.unbindEvents(); if (!o.isActive) return; !o.isOpen || e === !0 ? (n(".fancybox-wrap").stop(!0).trigger("onReset").remove(), o._afterZoomOut()) : (o.isOpen = o.isOpened = !1, o.isClosing = !0, n(".fancybox-item, .fancybox-nav").remove(), o.wrap.stop(!0, !0).removeClass("fancybox-opened"), o.transitions[o.current.closeMethod]()) }, play: function (e) { var t = function () { clearTimeout(o.player.timer) }, r = function () { t(), o.current && o.player.isActive && (o.player.timer = setTimeout(o.next, o.current.playSpeed)) }, i = function () { t(), n("body").unbind(".player"), o.player.isActive = !1, o.trigger("onPlayEnd") }, s = function () { o.current && (o.current.loop || o.current.index < o.group.length - 1) && (o.player.isActive = !0, n("body").bind({ "afterShow.player onUpdate.player": r, "onCancel.player beforeClose.player": i, "beforeLoad.player": t }), r(), o.trigger("onPlayStart")) }; e === !0 || !o.player.isActive && e !== !1 ? s() : i() }, next: function (e) { var t = o.current; t && (c(e) || (e = t.direction.next), o.jumpto(t.index + 1, e, "next")) }, prev: function (e) { var t = o.current; t && (c(e) || (e = t.direction.prev), o.jumpto(t.index - 1, e, "prev")) }, jumpto: function (e, t, n) { var i = o.current; if (!i) return; e = d(e), o.direction = t || i.direction[e >= i.index ? "next" : "prev"], o.router = n || "jumpto", i.loop && (e < 0 && (e = i.group.length + e % i.group.length), e %= i.group.length), i.group[e] !== r && (o.cancel(), o._start(e)) }, reposition: function (e, t) { var r = o.current, i = r ? r.wrap : null, s; i && (s = o._getPosition(t), e && e.type === "scroll" ? (delete s.position, i.stop(!0, !0).animate(s, 200)) : (i.css(s), r.pos = n.extend({}, r.dim, s))) }, update: function (e) { var t = e && e.type, n = !t || t === "orientationchange"; n && (clearTimeout(a), a = null); if (!o.isOpen || a) return; a = setTimeout(function () { var r = o.current; if (!r || o.isClosing) return; o.wrap.removeClass("fancybox-tmp"), (n || t === "load" || t === "resize" && r.autoResize) && o._setDimension(), (t !== "scroll" || !r.canShrink) && o.reposition(e), o.trigger("onUpdate"), a = null }, n && !f ? 0 : 300) }, toggle: function (e) { o.isOpen && (o.current.fitToView = n.type(e) === "boolean" ? e : !o.current.fitToView, f && (o.wrap.removeAttr("style").addClass("fancybox-tmp"), o.trigger("onUpdate")), o.update()) }, hideLoading: function () { s.unbind(".loading"), n("#fancybox-loading").remove() }, showLoading: function () { var e, t; o.hideLoading(), e = n('<div id="fancybox-loading"><div></div></div>').click(o.cancel).appendTo("body"), s.bind("keydown.loading", function (e) { (e.which || e.keyCode) === 27 && (e.preventDefault(), o.cancel()) }), o.defaults.fixed || (t = o.getViewport(), e.css({ position: "absolute", top: t.h * .5 + t.y, left: t.w * .5 + t.x })) }, getViewport: function () { var t = o.current && o.current.locked || !1, n = { x: i.scrollLeft(), y: i.scrollTop() }; return t ? (n.w = t[0].clientWidth, n.h = t[0].clientHeight) : (n.w = f && e.innerWidth ? e.innerWidth : i.width(), n.h = f && e.innerHeight ? e.innerHeight : i.height()), n }, unbindEvents: function () { o.wrap && l(o.wrap) && o.wrap.unbind(".fb"), s.unbind(".fb"), i.unbind(".fb") }, bindEvents: function () { var e = o.current, t; if (!e) return; i.bind("orientationchange.fb" + (f ? "" : " resize.fb") + (e.autoCenter && !e.locked ? " scroll.fb" : ""), o.update), t = e.keys, t && s.bind("keydown.fb", function (i) { var s = i.which || i.keyCode, u = i.target || i.srcElement; if (s === 27 && o.coming) return !1; !i.ctrlKey && !i.altKey && !i.shiftKey && !i.metaKey && (!u || !u.type && !n(u).is("[contenteditable]")) && n.each(t, function (t, u) { if (e.group.length > 1 && u[s] !== r) return o[t](u[s]), i.preventDefault(), !1; if (n.inArray(s, u) > -1) return o[t](), i.preventDefault(), !1 }) }), n.fn.mousewheel && e.mouseWheel && o.wrap.bind("mousewheel.fb", function (t, r, i, s) { var u = t.target || null, a = n(u), f = !1; while (a.length) { if (f || a.is(".fancybox-skin") || a.is(".fancybox-wrap")) break; f = p(a[0]), a = n(a).parent() } r !== 0 && !f && o.group.length > 1 && !e.canShrink && (s > 0 || i > 0 ? o.prev(s > 0 ? "down" : "left") : (s < 0 || i < 0) && o.next(s < 0 ? "up" : "right"), t.preventDefault()) }) }, trigger: function (e, t) { var r, i = t || o.coming || o.current; if (!i) return; n.isFunction(i[e]) && (r = i[e].apply(i, Array.prototype.slice.call(arguments, 1))); if (r === !1) return !1; i.helpers && n.each(i.helpers, function (t, r) { r && o.helpers[t] && n.isFunction(o.helpers[t][e]) && (r = n.extend(!0, {}, o.helpers[t].defaults, r), o.helpers[t][e](r, i)) }), n.event.trigger(e + ".fb") }, isImage: function (e) { return c(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i) }, isSWF: function (e) { return c(e) && e.match(/\.(swf)((\?|#).*)?$/i) }, _start: function (e) { var t = {}, r, i, s, u, a; e = d(e), r = o.group[e] || null; if (!r) return !1; t = n.extend(!0, {}, o.opts, r), u = t.margin, a = t.padding, n.type(u) === "number" && (t.margin = [u, u, u, u]), n.type(a) === "number" && (t.padding = [a, a, a, a]), t.modal && n.extend(!0, t, { closeBtn: !1, closeClick: !1, nextClick: !1, arrows: !1, mouseWheel: !1, keys: null, helpers: { overlay: { closeClick: !1 } } }), t.autoSize && (t.autoWidth = t.autoHeight = !0), t.width === "auto" && (t.autoWidth = !0), t.height === "auto" && (t.autoHeight = !0), t.group = o.group, t.index = e, o.coming = t; if (!1 === o.trigger("beforeLoad")) { o.coming = null; return } s = t.type, i = t.href; if (!s) return o.coming = null, o.current && o.router && o.router !== "jumpto" ? (o.current.index = e, o[o.router](o.direction)) : !1; o.isActive = !0; if (s === "image" || s === "swf") t.autoHeight = t.autoWidth = !1, t.scrolling = "visible"; s === "image" && (t.aspectRatio = !0), s === "iframe" && f && (t.scrolling = "scroll"), t.wrap = n(t.tpl.wrap).addClass("fancybox-" + (f ? "mobile" : "desktop") + " fancybox-type-" + s + " fancybox-tmp " + t.wrapCSS).appendTo(t.parent || "body"), n.extend(t, { skin: n(".fancybox-skin", t.wrap), outer: n(".fancybox-outer", t.wrap), inner: n(".fancybox-inner", t.wrap) }), n.each(["Top", "Right", "Bottom", "Left"], function (e, n) { t.skin.css("padding" + n, v(t.padding[e])) }), o.trigger("onReady"); if (s === "inline" || s === "html") { if (!t.content || !t.content.length) return o._error("content") } else if (!i) return o._error("href"); s === "image" ? o._loadImage() : s === "ajax" ? o._loadAjax() : s === "iframe" ? o._loadIframe() : o._afterLoad() }, _error: function (e) { n.extend(o.coming, { type: "html", autoWidth: !0, autoHeight: !0, minWidth: 0, minHeight: 0, scrolling: "no", hasError: e, content: o.coming.tpl.error }), o._afterLoad() }, _loadImage: function () { var e = o.imgPreload = new Image; e.onload = function () { this.onload = this.onerror = null, o.coming.width = this.width, o.coming.height = this.height, o._afterLoad() }, e.onerror = function () { this.onload = this.onerror = null, o._error("image") }, e.src = o.coming.href, e.complete !== !0 && o.showLoading() }, _loadAjax: function () { var e = o.coming; o.showLoading(), o.ajaxLoad = n.ajax(n.extend({}, e.ajax, { url: e.href, error: function (e, t) { o.coming && t !== "abort" ? o._error("ajax", e) : o.hideLoading() }, success: function (t, n) { n === "success" && (e.content = t, o._afterLoad()) } })) }, _loadIframe: function () { var e = o.coming, t = n(e.tpl.iframe.replace(/\{rnd\}/g, (new Date).getTime())).attr("scrolling", f ? "auto" : e.iframe.scrolling).attr("src", e.href); n(e.wrap).bind("onReset", function () { try { n(this).find("iframe").hide().attr("src", "//about:blank").end().empty() } catch (e) { } }), e.iframe.preload && (o.showLoading(), t.one("load", function () { n(this).data("ready", 1), f || n(this).bind("load.fb", o.update), n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(), o._afterLoad() })), e.content = t.appendTo(e.inner), e.iframe.preload || o._afterLoad() }, _preloadImages: function () { var e = o.group, t = o.current, n = e.length, r = t.preload ? Math.min(t.preload, n - 1) : 0, i, s; for (s = 1; s <= r; s += 1)i = e[(t.index + s) % n], i.type === "image" && i.href && ((new Image).src = i.href) }, _afterLoad: function () { var e = o.coming, t = o.current, r = "fancybox-placeholder", i, s, u, a, f, c; o.hideLoading(); if (!e || o.isActive === !1) return; if (!1 === o.trigger("afterLoad", e, t)) { e.wrap.stop(!0).trigger("onReset").remove(), o.coming = null; return } t && (o.trigger("beforeChange", t), t.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), o.unbindEvents(), i = e, s = e.content, u = e.type, a = e.scrolling, n.extend(o, { wrap: i.wrap, skin: i.skin, outer: i.outer, inner: i.inner, current: i, previous: t }), f = i.href; switch (u) { case "inline": case "ajax": case "html": i.selector ? s = n("<div>").html(s).find(i.selector) : l(s) && (s.data(r) || s.data(r, n('<div class="' + r + '"></div>').insertAfter(s).hide()), s = s.show().detach(), i.wrap.bind("onReset", function () { n(this).find(s).length && s.hide().replaceAll(s.data(r)).data(r, !1) })); break; case "image": s = i.tpl.image.replace("{href}", f); break; case "swf": s = '<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="' + f + '"></param>', c = "", n.each(i.swf, function (e, t) { s += '<param name="' + e + '" value="' + t + '"></param>', c += " " + e + '="' + t + '"' }), s += '<embed src="' + f + '" type="application/x-shockwave-flash" width="100%" height="100%"' + c + "></embed></object>" }(!l(s) || !s.parent().is(i.inner)) && i.inner.append(s), o.trigger("beforeShow"), i.inner.css("overflow", a === "yes" ? "scroll" : a === "no" ? "hidden" : a), o._setDimension(), o.reposition(), o.isOpen = !1, o.coming = null, o.bindEvents(), o.isOpened ? t.prevMethod && o.transitions[t.prevMethod]() : n(".fancybox-wrap").not(i.wrap).stop(!0).trigger("onReset").remove(), o.transitions[o.isOpened ? i.nextMethod : i.openMethod](), o._preloadImages() }, _setDimension: function () { var e = o.getViewport(), t = 0, r = !1, i = !1, s = o.wrap, u = o.skin, a = o.inner, f = o.current, l = f.width, c = f.height, p = f.minWidth, m = f.minHeight, g = f.maxWidth, y = f.maxHeight, b = f.scrolling, w = f.scrollOutside ? f.scrollbarWidth : 0, E = f.margin, S = d(E[1] + E[3]), x = d(E[0] + E[2]), T, N, C, k, L, A, O, M, _, D, P, H, B, j, I; s.add(u).add(a).width("auto").height("auto").removeClass("fancybox-tmp"), T = d(u.outerWidth(!0) - u.width()), N = d(u.outerHeight(!0) - u.height()), C = S + T, k = x + N, L = h(l) ? (e.w - C) * d(l) / 100 : l, A = h(c) ? (e.h - k) * d(c) / 100 : c; if (f.type === "iframe") { j = f.content; if (f.autoHeight && j.data("ready") === 1) try { j[0].contentWindow.document.location && (a.width(L).height(9999), I = j.contents().find("body"), w && I.css("overflow-x", "hidden"), A = I.height()) } catch (q) { } } else if (f.autoWidth || f.autoHeight) a.addClass("fancybox-tmp"), f.autoWidth || a.width(L), f.autoHeight || a.height(A), f.autoWidth && (L = a.width()), f.autoHeight && (A = a.height()), a.removeClass("fancybox-tmp"); l = d(L), c = d(A), _ = L / A, p = d(h(p) ? d(p, "w") - C : p), g = d(h(g) ? d(g, "w") - C : g), m = d(h(m) ? d(m, "h") - k : m), y = d(h(y) ? d(y, "h") - k : y), O = g, M = y, f.fitToView && (g = Math.min(e.w - C, g), y = Math.min(e.h - k, y)), H = e.w - S, B = e.h - x, f.aspectRatio ? (l > g && (l = g, c = d(l / _)), c > y && (c = y, l = d(c * _)), l < p && (l = p, c = d(l / _)), c < m && (c = m, l = d(c * _))) : (l = Math.max(p, Math.min(l, g)), f.autoHeight && f.type !== "iframe" && (a.width(l), c = a.height()), c = Math.max(m, Math.min(c, y))); if (f.fitToView) { a.width(l).height(c), s.width(l + T), D = s.width(), P = s.height(); if (f.aspectRatio) while ((D > H || P > B) && l > p && c > m) { if (t++ > 19) break; c = Math.max(m, Math.min(y, c - 10)), l = d(c * _), l < p && (l = p, c = d(l / _)), l > g && (l = g, c = d(l / _)), a.width(l).height(c), s.width(l + T), D = s.width(), P = s.height() } else l = Math.max(p, Math.min(l, l - (D - H))), c = Math.max(m, Math.min(c, c - (P - B))) } w && b === "auto" && c < A && l + T + w < H && (l += w), a.width(l).height(c), s.width(l + T), D = s.width(), P = s.height(), r = (D > H || P > B) && l > p && c > m, i = f.aspectRatio ? l < O && c < M && l < L && c < A : (l < O || c < M) && (l < L || c < A), n.extend(f, { dim: { width: v(D), height: v(P) }, origWidth: L, origHeight: A, canShrink: r, canExpand: i, wPadding: T, hPadding: N, wrapSpace: P - u.outerHeight(!0), skinSpace: u.height() - c }), !j && f.autoHeight && c > m && c < y && !i && a.height("auto") }, _getPosition: function (e) { var t = o.current, n = o.getViewport(), r = t.margin, i = o.wrap.width() + r[1] + r[3], s = o.wrap.height() + r[0] + r[2], u = { position: "absolute", top: r[0], left: r[3] }; return t.autoCenter && t.fixed && !e && s <= n.h && i <= n.w ? u.position = "fixed" : t.locked || (u.top += n.y, u.left += n.x), u.top = v(Math.max(u.top, u.top + (n.h - s) * t.topRatio)), u.left = v(Math.max(u.left, u.left + (n.w - i) * t.leftRatio)), u }, _afterZoomIn: function () {
            var e = o.current; if (!e) return; o.isOpen = o.isOpened = !0, o.wrap.css("overflow", "visible").addClass("fancybox-opened"), o.update(), (e.closeClick || e.nextClick && o.group.length > 1) && o.inner.css("cursor", "pointer").bind("click.fb", function (t) {
                !n(t.target).is("a") && !n(t.target).parent().is("a") && (t.preventDefault(), o[e.closeClick ? "close" : "next"
                ]())
            }), e.closeBtn && n(e.tpl.closeBtn).appendTo(o.skin).bind("click.fb", function (e) { e.preventDefault(), o.close() }), e.arrows && o.group.length > 1 && ((e.loop || e.index > 0) && n(e.tpl.prev).appendTo(o.outer).bind("click.fb", o.prev), (e.loop || e.index < o.group.length - 1) && n(e.tpl.next).appendTo(o.outer).bind("click.fb", o.next)), o.trigger("afterShow"), !e.loop && e.index === e.group.length - 1 ? o.play(!1) : o.opts.autoPlay && !o.player.isActive && (o.opts.autoPlay = !1, o.play())
        }, _afterZoomOut: function (e) { e = e || o.current, n(".fancybox-wrap").trigger("onReset").remove(), n.extend(o, { group: {}, opts: {}, router: !1, current: null, isActive: !1, isOpened: !1, isOpen: !1, isClosing: !1, wrap: null, skin: null, outer: null, inner: null }), o.trigger("afterClose", e) }
    }), o.transitions = { getOrigPosition: function () { var e = o.current, t = e.element, n = e.orig, r = {}, i = 50, s = 50, u = e.hPadding, a = e.wPadding, f = o.getViewport(); !n && e.isDom && t.is(":visible") && (n = t.find("img:first"), n.length || (n = t)), l(n) ? (r = n.offset(), n.is("img") && (i = n.outerWidth(), s = n.outerHeight())) : (r.top = f.y + (f.h - s) * e.topRatio, r.left = f.x + (f.w - i) * e.leftRatio); if (o.wrap.css("position") === "fixed" || e.locked) r.top -= f.y, r.left -= f.x; return r = { top: v(r.top - u * e.topRatio), left: v(r.left - a * e.leftRatio), width: v(i + a), height: v(s + u) }, r }, step: function (e, t) { var n, r, i, s = t.prop, u = o.current, a = u.wrapSpace, f = u.skinSpace; if (s === "width" || s === "height") n = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), o.isClosing && (n = 1 - n), r = s === "width" ? u.wPadding : u.hPadding, i = e - r, o.skin[s](d(s === "width" ? i : i - a * n)), o.inner[s](d(s === "width" ? i : i - a * n - f * n)) }, zoomIn: function () { var e = o.current, t = e.pos, r = e.openEffect, i = r === "elastic", s = n.extend({ opacity: 1 }, t); delete s.position, i ? (t = this.getOrigPosition(), e.openOpacity && (t.opacity = .1)) : r === "fade" && (t.opacity = .1), o.wrap.css(t).animate(s, { duration: r === "none" ? 0 : e.openSpeed, easing: e.openEasing, step: i ? this.step : null, complete: o._afterZoomIn }) }, zoomOut: function () { var e = o.current, t = e.closeEffect, n = t === "elastic", r = { opacity: .1 }; n && (r = this.getOrigPosition(), e.closeOpacity && (r.opacity = .1)), o.wrap.animate(r, { duration: t === "none" ? 0 : e.closeSpeed, easing: e.closeEasing, step: n ? this.step : null, complete: o._afterZoomOut }) }, changeIn: function () { var e = o.current, t = e.nextEffect, n = e.pos, r = { opacity: 1 }, i = o.direction, s = 200, u; n.opacity = .1, t === "elastic" && (u = i === "down" || i === "up" ? "top" : "left", i === "down" || i === "right" ? (n[u] = v(d(n[u]) - s), r[u] = "+=" + s + "px") : (n[u] = v(d(n[u]) + s), r[u] = "-=" + s + "px")), t === "none" ? o._afterZoomIn() : o.wrap.css(n).animate(r, { duration: e.nextSpeed, easing: e.nextEasing, complete: o._afterZoomIn }) }, changeOut: function () { var e = o.previous, t = e.prevEffect, r = { opacity: .1 }, i = o.direction, s = 200; t === "elastic" && (r[i === "down" || i === "up" ? "top" : "left"] = (i === "up" || i === "left" ? "-" : "+") + "=" + s + "px"), e.wrap.animate(r, { duration: t === "none" ? 0 : e.prevSpeed, easing: e.prevEasing, complete: function () { n(this).trigger("onReset").remove() } }) } }, o.helpers.overlay = { defaults: { closeClick: !0, speedOut: 200, showEarly: !0, css: {}, locked: !f, fixed: !0 }, overlay: null, fixed: !1, create: function (e) { e = n.extend({}, this.defaults, e), this.overlay && this.close(), this.overlay = n('<div class="fancybox-overlay"></div>').appendTo("body"), this.fixed = !1, e.fixed && o.defaults.fixed && (this.overlay.addClass("fancybox-overlay-fixed"), this.fixed = !0) }, open: function (e) { var t = this; e = n.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.fixed || (i.bind("resize.overlay", n.proxy(this.update, this)), this.update()), e.closeClick && this.overlay.bind("click.overlay", function (e) { n(e.target).hasClass("fancybox-overlay") && (o.isActive ? o.close() : t.close()) }), this.overlay.css(e.css).show() }, close: function () { n(".fancybox-overlay").remove(), i.unbind("resize.overlay"), this.overlay = null, this.margin !== !1 && (n("body").css("margin-right", this.margin), this.margin = !1), this.el && this.el.removeClass("fancybox-lock") }, update: function () { var e = "100%", n; this.overlay.width(e).height("100%"), u ? (n = Math.max(t.documentElement.offsetWidth, t.body.offsetWidth), s.width() > n && (e = s.width())) : s.width() > i.width() && (e = s.width()), this.overlay.width(e).height(s.height()) }, onReady: function (e, r) { n(".fancybox-overlay").stop(!0, !0), this.overlay || (this.margin = s.height() > i.height() || n("body").css("overflow-y") === "scroll" ? n("body").css("margin-right") : !1, this.el = t.all && !t.querySelector ? n("html") : n("body"), this.create(e)), e.locked && this.fixed && (r.locked = this.overlay.append(r.wrap), r.fixed = !1), e.showEarly === !0 && this.beforeShow.apply(this, arguments) }, beforeShow: function (e, t) { t.locked && (this.el.addClass("fancybox-lock"), this.margin !== !1 && n("body").css("margin-right", d(this.margin) + t.scrollbarWidth)), this.open(e) }, onUpdate: function () { this.fixed || this.update() }, afterClose: function (e) { this.overlay && !o.isActive && this.overlay.fadeOut(e.speedOut, n.proxy(this.close, this)) } }, o.helpers.title = { defaults: { type: "float", position: "bottom" }, beforeShow: function (e) { var t = o.current, r = t.title, i = e.type, s, a; n.isFunction(r) && (r = r.call(t.element, t)); if (!c(r) || n.trim(r) === "") return; s = n('<div class="fancybox-title fancybox-title-' + i + '-wrap">' + r + "</div>"); switch (i) { case "inside": a = o.skin; break; case "outside": a = o.wrap; break; case "over": a = o.inner; break; default: a = o.skin, s.appendTo("body"), u && s.width(s.width()), s.wrapInner('<span class="child"></span>'), o.current.margin[2] += Math.abs(d(s.css("margin-bottom"))) }s[e.position === "top" ? "prependTo" : "appendTo"](a) } }, n.fn.fancybox = function (e) { var t, r = n(this), i = this.selector || "", u = function (s) { var u = n(this).blur(), a = t, f, l; !(s.ctrlKey || s.altKey || s.shiftKey || s.metaKey) && !u.is(".fancybox-wrap") && (f = e.groupAttr || "data-fancybox-group", l = u.attr(f), l || (f = "rel", l = u.get(0)[f]), l && l !== "" && l !== "nofollow" && (u = i.length ? n(i) : r, u = u.filter("[" + f + '="' + l + '"]'), a = u.index(this)), e.index = a, o.open(u, e) !== !1 && s.preventDefault()) }; return e = e || {}, t = e.index || 0, !i || e.live === !1 ? r.unbind("click.fb-start").bind("click.fb-start", u) : s.undelegate(i, "click.fb-start").delegate(i + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", u), this.filter("[data-fancybox-start=1]").trigger("click"), this }, s.ready(function () { n.scrollbarWidth === r && (n.scrollbarWidth = function () { var e = n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"), t = e.children(), r = t.innerWidth() - t.height(99).innerWidth(); return e.remove(), r }), n.support.fixedPosition === r && (n.support.fixedPosition = function () { var e = n('<div style="position:fixed;top:20px;"></div>').appendTo("body"), t = e[0].offsetTop === 20 || e[0].offsetTop === 15; return e.remove(), t }()), n.extend(o.defaults, { scrollbarWidth: n.scrollbarWidth(), fixed: n.support.fixedPosition, parent: n("body") }) })
}(window, document, jQuery), function (e) { e.flexslider = function (t, n) { var r = e(t), i = e.extend({}, e.flexslider.defaults, n), s = i.namespace, o = "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch, u = o ? "touchend" : "click", a = "vertical" === i.direction, f = i.reverse, l = 0 < i.itemWidth, c = "fade" === i.animation, h = "" !== i.asNavFor, p = {}; e.data(t, "flexslider", r), p = { init: function () { r.animating = !1, r.currentSlide = i.startAt, r.animatingTo = r.currentSlide, r.atEnd = 0 === r.currentSlide || r.currentSlide === r.last, r.containerSelector = i.selector.substr(0, i.selector.search(" ")), r.slides = e(i.selector, r), r.container = e(r.containerSelector, r), r.count = r.slides.length, r.syncExists = 0 < e(i.sync).length, "slide" === i.animation && (i.animation = "swing"), r.prop = a ? "top" : "marginLeft", r.args = {}, r.manualPause = !1; var t = r, n; if (n = !i.video) if (n = !c) if (n = i.useCSS) e: { n = document.createElement("div"); var s = ["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"], u; for (u in s) if (void 0 !== n.style[s[u]]) { r.pfx = s[u].replace("Perspective", "").toLowerCase(), r.prop = "-" + r.pfx + "-transform", n = !0; break e } n = !1 } t.transitions = n, "" !== i.controlsContainer && (r.controlsContainer = 0 < e(i.controlsContainer).length && e(i.controlsContainer)), "" !== i.manualControls && (r.manualControls = 0 < e(i.manualControls).length && e(i.manualControls)), i.randomize && (r.slides.sort(function () { return Math.round(Math.random()) - .5 }), r.container.empty().append(r.slides)), r.doMath(), h && p.asNav.setup(), r.setup("init"), i.controlNav && p.controlNav.setup(), i.directionNav && p.directionNav.setup(), i.keyboard && (1 === e(r.containerSelector).length || i.multipleKeyboard) && e(document).bind("keyup", function (e) { e = e.keyCode, !r.animating && (39 === e || 37 === e) && (e = 39 === e ? r.getTarget("next") : 37 === e ? r.getTarget("prev") : !1, r.flexAnimate(e, i.pauseOnAction)) }), i.mousewheel && r.bind("mousewheel", function (e, t) { e.preventDefault(); var n = 0 > t ? r.getTarget("next") : r.getTarget("prev"); r.flexAnimate(n, i.pauseOnAction) }), i.pausePlay && p.pausePlay.setup(), i.slideshow && (i.pauseOnHover && r.hover(function () { !r.manualPlay && !r.manualPause && r.pause() }, function () { !r.manualPause && !r.manualPlay && r.play() }), 0 < i.initDelay ? setTimeout(r.play, i.initDelay) : r.play()), o && i.touch && p.touch(), (!c || c && i.smoothHeight) && e(window).bind("resize focus", p.resize), setTimeout(function () { i.start(r) }, 200) }, asNav: { setup: function () { r.asNav = !0, r.animatingTo = Math.floor(r.currentSlide / r.move), r.currentItem = r.currentSlide, r.slides.removeClass(s + "active-slide").eq(r.currentItem).addClass(s + "active-slide"), r.slides.click(function (t) { t.preventDefault(); var t = e(this), n = t.index(); !e(i.asNavFor).data("flexslider").animating && !t.hasClass("active") && (r.direction = r.currentItem < n ? "next" : "prev", r.flexAnimate(n, i.pauseOnAction, !1, !0, !0)) }) } }, controlNav: { setup: function () { r.manualControls ? p.controlNav.setupManual() : p.controlNav.setupPaging() }, setupPaging: function () { var t = 1, n; r.controlNavScaffold = e('<ol class="' + s + "control-nav " + s + ("thumbnails" === i.controlNav ? "control-thumbs" : "control-paging") + '"></ol>'); if (1 < r.pagingCount) for (var a = 0; a < r.pagingCount; a++)n = "thumbnails" === i.controlNav ? '<img src="' + r.slides.eq(a).attr("data-thumb") + '"/>' : "<a>" + t + "</a>", r.controlNavScaffold.append("<li>" + n + "</li>"), t++; r.controlsContainer ? e(r.controlsContainer).append(r.controlNavScaffold) : r.append(r.controlNavScaffold), p.controlNav.set(), p.controlNav.active(), r.controlNavScaffold.delegate("a, img", u, function (t) { t.preventDefault(); var t = e(this), n = r.controlNav.index(t); t.hasClass(s + "active") || (r.direction = n > r.currentSlide ? "next" : "prev", r.flexAnimate(n, i.pauseOnAction)) }), o && r.controlNavScaffold.delegate("a", "click touchstart", function (e) { e.preventDefault() }) }, setupManual: function () { r.controlNav = r.manualControls, p.controlNav.active(), r.controlNav.live(u, function (t) { t.preventDefault(); var t = e(this), n = r.controlNav.index(t); t.hasClass(s + "active") || (n > r.currentSlide ? r.direction = "next" : r.direction = "prev", r.flexAnimate(n, i.pauseOnAction)) }), o && r.controlNav.live("click touchstart", function (e) { e.preventDefault() }) }, set: function () { r.controlNav = e("." + s + "control-nav li " + ("thumbnails" === i.controlNav ? "img" : "a"), r.controlsContainer ? r.controlsContainer : r) }, active: function () { r.controlNav.removeClass(s + "active").eq(r.animatingTo).addClass(s + "active") }, update: function (t, n) { 1 < r.pagingCount && "add" === t ? r.controlNavScaffold.append(e("<li><a>" + r.count + "</a></li>")) : 1 === r.pagingCount ? r.controlNavScaffold.find("li").remove() : r.controlNav.eq(n).closest("li").remove(), p.controlNav.set(), 1 < r.pagingCount && r.pagingCount !== r.controlNav.length ? r.update(n, t) : p.controlNav.active() } }, directionNav: { setup: function () { var t = e('<ul class="' + s + 'direction-nav"><li><a class="' + s + 'prev" href="#">' + i.prevText + '</a></li><li><a class="' + s + 'next" href="#">' + i.nextText + "</a></li></ul>"); r.controlsContainer ? (e(r.controlsContainer).append(t), r.directionNav = e("." + s + "direction-nav li a", r.controlsContainer)) : (r.append(t), r.directionNav = e("." + s + "direction-nav li a", r)), p.directionNav.update(), r.directionNav.bind(u, function (t) { t.preventDefault(), t = e(this).hasClass(s + "next") ? r.getTarget("next") : r.getTarget("prev"), r.flexAnimate(t, i.pauseOnAction) }), o && r.directionNav.bind("click touchstart", function (e) { e.preventDefault() }) }, update: function () { var e = s + "disabled"; 1 === r.pagingCount ? r.directionNav.addClass(e) : i.animationLoop ? r.directionNav.removeClass(e) : 0 === r.animatingTo ? r.directionNav.removeClass(e).filter("." + s + "prev").addClass(e) : r.animatingTo === r.last ? r.directionNav.removeClass(e).filter("." + s + "next").addClass(e) : r.directionNav.removeClass(e) } }, pausePlay: { setup: function () { var t = e('<div class="' + s + 'pauseplay"><a></a></div>'); r.controlsContainer ? (r.controlsContainer.append(t), r.pausePlay = e("." + s + "pauseplay a", r.controlsContainer)) : (r.append(t), r.pausePlay = e("." + s + "pauseplay a", r)), p.pausePlay.update(i.slideshow ? s + "pause" : s + "play"), r.pausePlay.bind(u, function (t) { t.preventDefault(), e(this).hasClass(s + "pause") ? (r.manualPause = !0, r.manualPlay = !1, r.pause()) : (r.manualPause = !1, r.manualPlay = !0, r.play()) }), o && r.pausePlay.bind("click touchstart", function (e) { e.preventDefault() }) }, update: function (e) { "play" === e ? r.pausePlay.removeClass(s + "pause").addClass(s + "play").text(i.playText) : r.pausePlay.removeClass(s + "play").addClass(s + "pause").text(i.pauseText) } }, touch: function () { function e(e) { p = a ? s - e.touches[0].pageY : s - e.touches[0].pageX, v = a ? Math.abs(p) < Math.abs(e.touches[0].pageX - o) : Math.abs(p) < Math.abs(e.touches[0].pageY - o); if (!v || 500 < Number(new Date) - d) e.preventDefault(), !c && r.transitions && (i.animationLoop || (p /= 0 === r.currentSlide && 0 > p || r.currentSlide === r.last && 0 < p ? Math.abs(p) / h + 2 : 1), r.setProps(u + p, "setTouch")) } function n() { t.removeEventListener("touchmove", e, !1); if (r.animatingTo === r.currentSlide && !v && null !== p) { var a = f ? -p : p, l = 0 < a ? r.getTarget("next") : r.getTarget("prev"); r.canAdvance(l) && (550 > Number(new Date) - d && 50 < Math.abs(a) || Math.abs(a) > h / 2) ? r.flexAnimate(l, i.pauseOnAction) : c || r.flexAnimate(r.currentSlide, i.pauseOnAction, !0) } t.removeEventListener("touchend", n, !1), u = p = o = s = null } var s, o, u, h, p, d, v = !1; t.addEventListener("touchstart", function (c) { r.animating ? c.preventDefault() : 1 === c.touches.length && (r.pause(), h = a ? r.h : r.w, d = Number(new Date), u = l && f && r.animatingTo === r.last ? 0 : l && f ? r.limit - (r.itemW + i.itemMargin) * r.move * r.animatingTo : l && r.currentSlide === r.last ? r.limit : l ? (r.itemW + i.itemMargin) * r.move * r.currentSlide : f ? (r.last - r.currentSlide + r.cloneOffset) * h : (r.currentSlide + r.cloneOffset) * h, s = a ? c.touches[0].pageY : c.touches[0].pageX, o = a ? c.touches[0].pageX : c.touches[0].pageY, t.addEventListener("touchmove", e, !1), t.addEventListener("touchend", n, !1)) }, !1) }, resize: function () { !r.animating && r.is(":visible") && (l || r.doMath(), c ? p.smoothHeight() : l ? (r.slides.width(r.computedW), r.update(r.pagingCount), r.setProps()) : a ? (r.viewport.height(r.h), r.setProps(r.h, "setTotal")) : (i.smoothHeight && p.smoothHeight(), r.newSlides.width(r.computedW), r.setProps(r.computedW, "setTotal"))) }, smoothHeight: function (e) { if (!a || c) { var t = c ? r : r.viewport; e ? t.animate({ height: r.slides.eq(r.animatingTo).height() }, e) : t.height(r.slides.eq(r.animatingTo).height()) } }, sync: function (t) { var n = e(i.sync).data("flexslider"), s = r.animatingTo; switch (t) { case "animate": n.flexAnimate(s, i.pauseOnAction, !1, !0); break; case "play": !n.playing && !n.asNav && n.play(); break; case "pause": n.pause() } } }, r.flexAnimate = function (t, n, u, v, g) { h && 1 === r.pagingCount && (r.direction = r.currentItem < t ? "next" : "prev"); if (!r.animating && (r.canAdvance(t, g) || u) && r.is(":visible")) { if (h && v) { if (u = e(i.asNavFor).data("flexslider"), r.atEnd = 0 === t || t === r.count - 1, u.flexAnimate(t, !0, !1, !0, g), r.direction = r.currentItem < t ? "next" : "prev", u.direction = r.direction, Math.ceil((t + 1) / r.visible) - 1 === r.currentSlide || 0 === t) return r.currentItem = t, r.slides.removeClass(s + "active-slide").eq(t).addClass(s + "active-slide"), !1; r.currentItem = t, r.slides.removeClass(s + "active-slide").eq(t).addClass(s + "active-slide"), t = Math.floor(t / r.visible) } r.animating = !0, r.animatingTo = t, i.before(r), n && r.pause(), r.syncExists && !g && p.sync("animate"), i.controlNav && p.controlNav.active(), l || r.slides.removeClass(s + "active-slide").eq(t).addClass(s + "active-slide"), r.atEnd = 0 === t || t === r.last, i.directionNav && p.directionNav.update(), t === r.last && (i.end(r), i.animationLoop || r.pause()); if (c) o ? (r.slides.eq(r.currentSlide).css({ opacity: 0, zIndex: 1 }), r.slides.eq(t).css({ opacity: 1, zIndex: 2 }), r.slides.unbind("webkitTransitionEnd transitionend"), r.slides.eq(r.currentSlide).bind("webkitTransitionEnd transitionend", function () { i.after(r) }), r.animating = !1, r.currentSlide = r.animatingTo) : (r.slides.eq(r.currentSlide).fadeOut(i.animationSpeed, i.easing), r.slides.eq(t).fadeIn(i.animationSpeed, i.easing, r.wrapup)); else { var y = a ? r.slides.filter(":first").height() : r.computedW; l ? (t = i.itemWidth > r.w ? 2 * i.itemMargin : i.itemMargin, t = (r.itemW + t) * r.move * r.animatingTo, t = t > r.limit && 1 !== r.visible ? r.limit : t) : t = 0 === r.currentSlide && t === r.count - 1 && i.animationLoop && "next" !== r.direction ? f ? (r.count + r.cloneOffset) * y : 0 : r.currentSlide === r.last && 0 === t && i.animationLoop && "prev" !== r.direction ? f ? 0 : (r.count + 1) * y : f ? (r.count - 1 - t + r.cloneOffset) * y : (t + r.cloneOffset) * y, r.setProps(t, "", i.animationSpeed); if (r.transitions) { if (!i.animationLoop || !r.atEnd) r.animating = !1, r.currentSlide = r.animatingTo; r.container.unbind("webkitTransitionEnd transitionend"), r.container.bind("webkitTransitionEnd transitionend", function () { r.wrapup(y) }) } else r.container.animate(r.args, i.animationSpeed, i.easing, function () { r.wrapup(y) }) } i.smoothHeight && p.smoothHeight(i.animationSpeed) } }, r.wrapup = function (e) { !c && !l && (0 === r.currentSlide && r.animatingTo === r.last && i.animationLoop ? r.setProps(e, "jumpEnd") : r.currentSlide === r.last && 0 === r.animatingTo && i.animationLoop && r.setProps(e, "jumpStart")), r.animating = !1, r.currentSlide = r.animatingTo, i.after(r) }, r.animateSlides = function () { r.animating || r.flexAnimate(r.getTarget("next")) }, r.pause = function () { clearInterval(r.animatedSlides), r.playing = !1, i.pausePlay && p.pausePlay.update("play"), r.syncExists && p.sync("pause") }, r.play = function () { r.animatedSlides = setInterval(r.animateSlides, i.slideshowSpeed), r.playing = !0, i.pausePlay && p.pausePlay.update("pause"), r.syncExists && p.sync("play") }, r.canAdvance = function (e, t) { var n = h ? r.pagingCount - 1 : r.last; return t ? !0 : h && r.currentItem === r.count - 1 && 0 === e && "prev" === r.direction ? !0 : h && 0 === r.currentItem && e === r.pagingCount - 1 && "next" !== r.direction ? !1 : e === r.currentSlide && !h ? !1 : i.animationLoop ? !0 : r.atEnd && 0 === r.currentSlide && e === n && "next" !== r.direction ? !1 : r.atEnd && r.currentSlide === n && 0 === e && "next" === r.direction ? !1 : !0 }, r.getTarget = function (e) { return r.direction = e, "next" === e ? r.currentSlide === r.last ? 0 : r.currentSlide + 1 : 0 === r.currentSlide ? r.last : r.currentSlide - 1 }, r.setProps = function (e, t, n) { var s, o = e ? e : (r.itemW + i.itemMargin) * r.move * r.animatingTo; s = -1 * function () { if (l) return "setTouch" === t ? e : f && r.animatingTo === r.last ? 0 : f ? r.limit - (r.itemW + i.itemMargin) * r.move * r.animatingTo : r.animatingTo === r.last ? r.limit : o; switch (t) { case "setTotal": return f ? (r.count - 1 - r.currentSlide + r.cloneOffset) * e : (r.currentSlide + r.cloneOffset) * e; case "setTouch": return e; case "jumpEnd": return f ? e : r.count * e; case "jumpStart": return f ? r.count * e : e; default: return e } }() + "px", r.transitions && (s = a ? "translate3d(0," + s + ",0)" : "translate3d(" + s + ",0,0)", n = void 0 !== n ? n / 1e3 + "s" : "0s", r.container.css("-" + r.pfx + "-transition-duration", n)), r.args[r.prop] = s, (r.transitions || void 0 === n) && r.container.css(r.args) }, r.setup = function (t) { if (c) r.slides.css({ width: "100%", "float": "left", marginRight: "-100%", position: "relative" }), "init" === t && (o ? r.slides.css({ opacity: 0, display: "block", webkitTransition: "opacity " + i.animationSpeed / 1e3 + "s ease", zIndex: 1 }).eq(r.currentSlide).css({ opacity: 1, zIndex: 2 }) : r.slides.eq(r.currentSlide).fadeIn(i.animationSpeed, i.easing)), i.smoothHeight && p.smoothHeight(); else { var n, u; "init" === t && (r.viewport = e('<div class="' + s + 'viewport"></div>').css({ overflow: "hidden", position: "relative" }).appendTo(r).append(r.container), r.cloneCount = 0, r.cloneOffset = 0, f && (u = e.makeArray(r.slides).reverse(), r.slides = e(u), r.container.empty().append(r.slides))), i.animationLoop && !l && (r.cloneCount = 2, r.cloneOffset = 1, "init" !== t && r.container.find(".clone").remove(), r.container.append(r.slides.first().clone().addClass("clone")).prepend(r.slides.last().clone().addClass("clone"))), r.newSlides = e(i.selector, r), n = f ? r.count - 1 - r.currentSlide + r.cloneOffset : r.currentSlide + r.cloneOffset, a && !l ? (r.container.height(200 * (r.count + r.cloneCount) + "%").css("position", "absolute").width("100%"), setTimeout(function () { r.newSlides.css({ display: "block" }), r.doMath(), r.viewport.height(r.h), r.setProps(n * r.h, "init") }, "init" === t ? 100 : 0)) : (r.container.width(200 * (r.count + r.cloneCount) + "%"), r.setProps(n * r.computedW, "init"), setTimeout(function () { r.doMath(), r.newSlides.css({ width: r.computedW, "float": "left", display: "block" }), i.smoothHeight && p.smoothHeight() }, "init" === t ? 100 : 0)) } l || r.slides.removeClass(s + "active-slide").eq(r.currentSlide).addClass(s + "active-slide") }, r.doMath = function () { var e = r.slides.first(), t = i.itemMargin, n = i.minItems, s = i.maxItems; r.w = r.width(), r.h = e.height(), r.boxPadding = e.outerWidth() - e.width(), l ? (r.itemT = i.itemWidth + t, r.minW = n ? n * r.itemT : r.w, r.maxW = s ? s * r.itemT : r.w, r.itemW = r.minW > r.w ? (r.w - t * n) / n : r.maxW < r.w ? (r.w - t * s) / s : i.itemWidth > r.w ? r.w : i.itemWidth, r.visible = Math.floor(r.w / (r.itemW + t)), r.move = 0 < i.move && i.move < r.visible ? i.move : r.visible, r.pagingCount = Math.ceil((r.count - r.visible) / r.move + 1), r.last = r.pagingCount - 1, r.limit = 1 === r.pagingCount ? 0 : i.itemWidth > r.w ? (r.itemW + 2 * t) * r.count - r.w - t : (r.itemW + t) * r.count - r.w - t) : (r.itemW = r.w, r.pagingCount = r.count, r.last = r.count - 1), r.computedW = r.itemW - r.boxPadding }, r.update = function (e, t) { r.doMath(), l || (e < r.currentSlide ? r.currentSlide += 1 : e <= r.currentSlide && 0 !== e && (r.currentSlide -= 1), r.animatingTo = r.currentSlide); if (i.controlNav && !r.manualControls) if ("add" === t && !l || r.pagingCount > r.controlNav.length) p.controlNav.update("add"); else if ("remove" === t && !l || r.pagingCount < r.controlNav.length) l && r.currentSlide > r.last && (r.currentSlide -= 1, r.animatingTo -= 1), p.controlNav.update("remove", r.last); i.directionNav && p.directionNav.update() }, r.addSlide = function (t, n) { var s = e(t); r.count += 1, r.last = r.count - 1, a && f ? void 0 !== n ? r.slides.eq(r.count - n).after(s) : r.container.prepend(s) : void 0 !== n ? r.slides.eq(n).before(s) : r.container.append(s), r.update(n, "add"), r.slides = e(i.selector + ":not(.clone)", r), r.setup(), i.added(r) }, r.removeSlide = function (t) { var n = isNaN(t) ? r.slides.index(e(t)) : t; r.count -= 1, r.last = r.count - 1, isNaN(t) ? e(t, r.slides).remove() : a && f ? r.slides.eq(r.last).remove() : r.slides.eq(t).remove(), r.doMath(), r.update(n, "remove"), r.slides = e(i.selector + ":not(.clone)", r), r.setup(), i.removed(r) }, p.init() }, e.flexslider.defaults = { namespace: "flex-", selector: ".slides > li", animation: "fade", easing: "swing", direction: "horizontal", reverse: !1, animationLoop: !0, smoothHeight: !1, startAt: 0, slideshow: !0, slideshowSpeed: 7e3, animationSpeed: 600, initDelay: 0, randomize: !1, pauseOnAction: !0, pauseOnHover: !1, useCSS: !0, touch: !0, video: !1, controlNav: !0, directionNav: !0, prevText: "Previous", nextText: "Next", keyboard: !0, multipleKeyboard: !1, mousewheel: !1, pausePlay: !1, pauseText: "Pause", playText: "Play", controlsContainer: "", manualControls: "", sync: "", asNavFor: "", itemWidth: 0, itemMargin: 0, minItems: 0, maxItems: 0, move: 0, start: function () { }, before: function () { }, after: function () { }, end: function () { }, added: function () { }, removed: function () { } }, e.fn.flexslider = function (t) { void 0 === t && (t = {}); if ("object" == typeof t) return this.each(function () { var n = e(this), r = n.find(t.selector ? t.selector : ".slides > li"); 1 === r.length ? (r.fadeIn(400), t.start && t.start(n)) : void 0 == n.data("flexslider") && new e.flexslider(this, t) }); var n = e(this).data("flexslider"); switch (t) { case "play": n.play(); break; case "pause": n.pause(); break; case "next": n.flexAnimate(n.getTarget("next"), !0); break; case "prev": case "previous": n.flexAnimate(n.getTarget("prev"), !0); break; default: "number" == typeof t && n.flexAnimate(t, !0) } } }(jQuery), function (e) { e.fn.equalize = function (t) { var n = !1, r = !1, i, s; return e.isPlainObject(t) ? (i = t.equalize || "height", n = t.children || !1, r = t.reset || !1) : i = t || "height", e.isFunction(e.fn[i]) ? (s = 0 < i.indexOf("eight") ? "height" : "width", this.each(function () { var t = n ? e(this).find(n) : e(this).children(), o = 0; t.each(function () { var t = e(this); r && t.css(s, ""), t = t[i](), t > o && (o = t) }), t.css(s, o + "px") })) : !1 } }(jQuery), jQuery(function (e) { window.NestedFormEvents = function () { this.addFields = e.proxy(this.addFields, this), this.removeFields = e.proxy(this.removeFields, this) }, NestedFormEvents.prototype = { addFields: function (t) { var n = t.currentTarget, r = e(n).data("association"), i = e("#" + e(n).data("blueprint-id")), s = i.data("blueprint"), o = (e(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name") || "").replace(new RegExp("[[a-z_]+]$"), ""); if (o) { var u = o.match(/[a-z_]+_attributes/g) || [], a = o.match(/[0-9]+/g) || []; for (var f = 0; f < u.length; f++)a[f] && (s = s.replace(new RegExp("(_" + u[f] + ")_.+?_", "g"), "$1_" + a[f] + "_"), s = s.replace(new RegExp("(\\[" + u[f] + "\\])\\[.+?\\]", "g"), "$1[" + a[f] + "]")) } var l = new RegExp("new_" + r, "g"), c = (new Date).getTime(); s = s.replace(l, c); var h = this.insertFields(s, r, n); return h.trigger({ type: "nested:fieldAdded", field: h }).trigger({ type: "nested:fieldAdded:" + r, field: h }), !1 }, insertFields: function (t, n, r) { return e(t).insertBefore(r) }, removeFields: function (t) { var n = e(t.currentTarget), r = n.data("association"), i = n.prev("input[type=hidden]"); i.val("1"); var s = n.closest(".fields"); return s.hide(), s.trigger({ type: "nested:fieldRemoved", field: s }).trigger({ type: "nested:fieldRemoved:" + r, field: s }), !1 } }, window.nestedFormEvents = new NestedFormEvents, e(document).delegate("form a.add_nested_fields", "click", nestedFormEvents.addFields).delegate("form a.remove_nested_fields", "click", nestedFormEvents.removeFields) }), function (e) { e.fn.closestChild = function (t) { if (t && t != "") { var n = []; n.push(this); while (n.length > 0) { var r = n.shift(), i = r.children(); for (var s = 0; s < i.length; ++s) { var o = e(i[s]); if (o.is(t)) return o; n.push(o) } } } return e() } }(jQuery), jQuery(document).ready(function () { $(".submit_on_change").change(function (e) { $(e.target).closest("form").submit() }), $(".navigate_on_change").change(function (e) { var t = $(this).find(":selected").attr("rel"); typeof t != "undefined" && (document.location.href = t) }), $("li.productscat").hover(function () { $(".submenu").show() }, function () { $(".submenu").hide() }), $("#language-select").click(function (e) { $(this).siblings(".flyout").toggle(), e.preventDefault() }), $(".fancybox").fancybox(), $(".track-download").click(function (e) { type = $(this).attr("data-type"), type == undefined && (type = "pdf"), href = $(this).attr("href"), href = href.replace(/[?]\d*/, ""), typeof ga != "undefined" && href != "" && ga("send", "event", "Download", type, href) }), $(".menu-button").click(function () { $(".mobile-menu-links").toggleClass("active") }), $(window).scroll(function () { $(this).scrollTop() > $(".header").height() ? $("body").addClass("fixed") : $("body").removeClass("fixed") }) });